<!DOCTYPE html><html class=split lang=en-US-x-hixie><script src=/html/link-fixup.js defer=""></script><meta charset=utf-8><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=viewport><title>HTML Standard</title><meta content=#3c790a name=theme-color><link rel=stylesheet href=https://resources.whatwg.org/spec.css crossorigin=""><link rel=stylesheet href=https://resources.whatwg.org/standard.css crossorigin=""><link rel=stylesheet href=https://resources.whatwg.org/standard-shared-with-dev.css crossorigin=""><link rel=icon href=https://resources.whatwg.org/logo.svg crossorigin=""><link rel=stylesheet href=/html/styles.css crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><link rel=stylesheet href=/html/resources/zh-cn.css><body>
  
  <script async="" crossorigin="" src=/html/resources/html-dfn.js></script>
  <script data-file-issue-url=https://github.com/whatwg/html/issues/new async="" crossorigin="" src=https://resources.whatwg.org/file-issue.js></script>
  
  <header id=head class="head with-buttons">
   <a href=https://whatwg.org/ class=logo><img width=100 alt=WHATWG crossorigin="" src=https://resources.whatwg.org/logo.svg height=100></a>
   <hgroup><h1 class=allcaps>HTML</h1><h2 id=living-standard class="no-num no-toc">Living Standard â€” Last Updated <span class=pubdate>6 November 2020</span></h2><div data-en-date="Sat Aug 11 2018 08:00:56 GMT+0000 (UTC)" class=translate-info data-zh-date="" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/living-standard-mdash-last-updated-date-01-jan-1901.en.html data-zh-file="https://github.com/whatwg-cn/html/new/master/src/living-standard-mdash-last-updated-date-01-jan-1901.zh.html?filename=living-standard-mdash-last-updated-date-01-jan-1901.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fliving-standard-mdash-last-updated-date-01-jan-1901.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91"></div><div data-en-date="Sat Aug 11 2018 08:00:56 GMT+0000 (UTC)" class=translate-info data-zh-date="" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/commit-snapshot-mdash-last-updated-date-01-jan-1901.en.html data-zh-file="https://github.com/whatwg-cn/html/new/master/src/commit-snapshot-mdash-last-updated-date-01-jan-1901.zh.html?filename=commit-snapshot-mdash-last-updated-date-01-jan-1901.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fcommit-snapshot-mdash-last-updated-date-01-jan-1901.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91"></div><div data-en-date="Sat Aug 11 2018 08:00:56 GMT+0000 (UTC)" class=translate-info data-zh-date="" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/review-draft-mdash-published-date-01-jan-1901.en.html data-zh-file="https://github.com/whatwg-cn/html/new/master/src/review-draft-mdash-published-date-01-jan-1901.zh.html?filename=review-draft-mdash-published-date-01-jan-1901.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Freview-draft-mdash-published-date-01-jan-1901.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91"></div></hgroup>
   
   
   <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-91053840-1', 'auto');
      ga('send', 'pageview');
   </script>
  </header>

  

  


  
<div data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/table-of-contents.en.html data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/table-of-contents.zh.html></div>
  


  
<div data-en-date="Sat Aug 11 2018 08:00:56 GMT+0000 (UTC)" class=translate-info data-zh-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/full-table-of-contents.en.html data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/full-table-of-contents.zh.html></div>
  

  

  


  <nav><a href=microdata.html>â† 5 å¾®æ•°æ®</a> â€” <a href=./>Table of Contents</a> â€” <a href=dnd.html>6.9 Drag and drop â†’</a></nav><ol class=toc><li id=toc-editing><a href=interaction.html#editing><span class=secno>6</span> ç”¨æˆ·äº¤äº’</a><ol><li><a href=interaction.html#hidden-å±æ€§><span class=secno>6.1</span> <code>hidden</code> å±æ€§</a><li><a href=interaction.html#inert-subtrees><span class=secno>6.2</span> Inert subtrees</a><li><a href=interaction.html#tracking-user-activation><span class=secno>6.3</span> Tracking user activation</a><ol><li><a href=interaction.html#user-activation-data-model><span class=secno>6.3.1</span> Data model</a><li><a href=interaction.html#user-activation-processing-model><span class=secno>6.3.2</span> Processing model</a><li><a href=interaction.html#user-activation-gated-apis><span class=secno>6.3.3</span> APIs gated by user activation</a></ol><li><a href=interaction.html#activation><span class=secno>6.4</span> Activation behavior of elements</a><li><a href=interaction.html#ç„¦ç‚¹><span class=secno>6.5</span> ç„¦ç‚¹</a><ol><li><a href=interaction.html#æ¦‚è¿°><span class=secno>6.5.1</span> æ¦‚è¿°</a><li><a href=interaction.html#æ•°æ®æ¨¡å‹><span class=secno>6.5.2</span> æ•°æ®æ¨¡å‹</a><li><a href=interaction.html#the-tabindex-attribute><span class=secno>6.5.3</span> The <code>tabindex</code> attribute</a><li><a href=interaction.html#focus-processing-model><span class=secno>6.5.4</span> Processing model</a><li><a href=interaction.html#sequential-focus-navigation><span class=secno>6.5.5</span> Sequential focus navigation</a><li><a href=interaction.html#focus-management-apis><span class=secno>6.5.6</span> Focus management APIs</a><li><a href=interaction.html#the-autofocus-attribute><span class=secno>6.5.7</span> The <code>autofocus</code> attribute</a></ol><li><a href=interaction.html#æŒ‡å®šå¿«æ·é”®><span class=secno>6.6</span> æŒ‡å®šå¿«æ·é”®</a><ol><li><a href=interaction.html#æ¦‚è¿°-2><span class=secno>6.6.1</span> æ¦‚è¿°</a><li><a href=interaction.html#the-accesskey-attribute><span class=secno>6.6.2</span> The <code>accesskey</code>
  attribute</a><li><a href=interaction.html#keyboard-shortcuts-processing-model><span class=secno>6.6.3</span> Processing
  model</a></ol><li><a href=interaction.html#ç¼–è¾‘><span class=secno>6.7</span> ç¼–è¾‘</a><ol><li><a href=interaction.html#contenteditable><span class=secno>6.7.1</span> Making document regions editable: The <code>contenteditable</code> content attribute</a><li><a href=interaction.html#making-entire-documents-editable:-the-designmode-idl-attribute><span class=secno>6.7.2</span> Making entire documents
  editable: the <code>designMode</code> getter and setter</a><li><a href=interaction.html#best-practices-for-in-page-editors><span class=secno>6.7.3</span> Best practices for in-page editors</a><li><a href=interaction.html#editing-apis><span class=secno>6.7.4</span> Editing APIs</a><li><a href=interaction.html#spelling-and-grammar-checking><span class=secno>6.7.5</span> Spelling and grammar checking</a><li><a href=interaction.html#autocapitalization><span class=secno>6.7.6</span> Autocapitalization</a><li><a href=interaction.html#input-modalities:-the-inputmode-attribute><span class=secno>6.7.7</span> Input modalities: the <code>inputmode</code> attribute</a><li><a href=interaction.html#input-modalities:-the-enterkeyhint-attribute><span class=secno>6.7.8</span> Input modalities: the <code>enterkeyhint</code>
  attribute</a></ol><li><a href=interaction.html#find-in-page><span class=secno>6.8</span> Find-in-page</a><ol><li><a href=interaction.html#introduction-8><span class=secno>6.8.1</span> Introduction</a><li><a href=interaction.html#interaction-with-selection><span class=secno>6.8.2</span> Interaction with selection</a></ol></ol></ol><h2 id=editing><span class=secno>6</span> <dfn>ç”¨æˆ·äº¤äº’</dfn><a href=#editing class=self-link></a></h2>
<div data-zh-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/index.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/index.en.html></div>



  <h3 id=hidden-å±æ€§><span class=secno>6.1</span> <dfn><code>hidden</code></dfn> å±æ€§<a href=#hidden-å±æ€§ class=self-link></a></h3>
<div data-zh-date="Tue Mar 06 2018 15:40:22 GMT+0000 (UTC)" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/the-hidden-attribute.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/the-hidden-attribute.en.html></div>

  <p>æ‰€æœ‰ <a href=infrastructure.html#html-elements id=hidden-å±æ€§:html-elements>HTML å…ƒç´ </a> éƒ½å¯ä»¥æœ‰ <code id=hidden-å±æ€§:hidden-å±æ€§><a href=#hidden-å±æ€§>hidden</a></code>
  å†…å®¹å±æ€§ã€‚<code id=hidden-å±æ€§:hidden-å±æ€§-2><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§æ˜¯ä¸€ä¸ª
  <a href=infrastructure.html#boolean-attribute id=hidden-å±æ€§:boolean-attribute>å¸ƒå°”å±æ€§</a>ã€‚
  åœ¨å…ƒç´ ä¸ŠæŒ‡å®šæ—¶ï¼Œå®ƒè¡¨ç¤ºè¯¥å…ƒç´ è¿˜æ²¡æœ‰ï¼ˆæˆ–ä¸å†ï¼‰ä¸å½“å‰é¡µé¢çŠ¶æ€ç›´æ¥ç›¸å…³ã€‚
  æˆ–ç”¨æ¥å£°æ˜é¡µé¢çš„å…¶ä»–éƒ¨åˆ†ä¼šå¤ç”¨è¿™éƒ¨åˆ†å†…å®¹ï¼Œè€Œä¸æ˜¯è®©ç”¨æˆ·ç›´æ¥è®¿é—®ã€‚
  ç”¨æˆ·ä»£ç†ä¸åº”æ¸²æŸ“è®¾ç½®äº† <code id=hidden-å±æ€§:hidden-å±æ€§-3><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§çš„å…ƒç´ ã€‚
  è¿™ä¸€è¦æ±‚å¯ä»¥ç›´æ¥ä»æ ·å¼å±‚å®ç°ã€‚ä¾‹å¦‚ï¼ŒHTML+CSS ç”¨æˆ·ä»£ç†å¯ä»¥
  <a href=rendering.html#hiddenCSS>
  ä½¿ç”¨åœ¨æ¸²æŸ“ä¸€èŠ‚ä¸­å»ºè®®çš„è§„åˆ™</a> å®ç°è¿™äº›è¦æ±‚ã€‚</p>

  <p class=note>å› ä¸ºè¿™ä¸ªå±æ€§é€šå¸¸ä½¿ç”¨ CSS å®ç°ï¼Œå¯èƒ½ä¼šè¢« CSS è¦†ç›–ã€‚
  ä¾‹å¦‚ï¼Œä¸€ä¸ªè§„åˆ™åœ¨æ‰€æœ‰å…ƒç´ ä¸Šåº”ç”¨ 'display: block'ï¼Œå°±ä¼šç§»é™¤
  <code id=hidden-å±æ€§:hidden-å±æ€§-4><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§çš„æ•ˆæœã€‚
  å› æ­¤ä½œè€…åœ¨ç¼–å†™æ ·å¼è¡¨æ—¶å¿…é¡»å°å¿ƒï¼Œç¡®ä¿è¯¥å±æ€§çš„æ ·å¼ä»ç„¶ç¬¦åˆé¢„æœŸã€‚</p>

  <div class=example>

   <p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè¯¥å±æ€§ç”¨äºåœ¨ç”¨æˆ·æœªç™»å½•æ—¶éšè— Web æ¸¸æˆçš„ä¸»å±å¹•ï¼š</p>

   <pre>  &lt;h1>The Example Game&lt;/h1>
  &lt;section id="login">
   &lt;h2>Login&lt;/h2>
   &lt;form>
    ...
    &lt;!-- calls login() once the user's credentials have been checked -->
   &lt;/form>
   &lt;script>
    function login() {
      // switch screens
      document.getElementById('login').hidden = true;
      document.getElementById('game').hidden = false;
    }
   &lt;/script>
  &lt;/section>
  &lt;section id="game" hidden>
   ...
  &lt;/section></pre>

  </div>

  <p><code id=hidden-å±æ€§:hidden-å±æ€§-5><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§ä¸å¾—ç”¨äºåœ¨å…¶ä»–æ˜¾ç¤ºä¸­éšè—å¯ä»¥æ˜¾ç¤ºç»™ç”¨æˆ·çš„å†…å®¹ã€‚
  ä¾‹å¦‚ï¼Œä½¿ç”¨ <code id=hidden-å±æ€§:hidden-å±æ€§-6><a href=#hidden-å±æ€§>hidden</a></code> æ¥éšè—é€‰é¡¹å¡ä¸­çš„é¢æ¿æ˜¯ä¸æ­£ç¡®çš„ï¼Œ
  å› ä¸ºé€‰é¡¹å¡æ¥å£ä»…ä»…æ˜¯ä¸€ç§æº¢å‡ºå¼æ˜¾ç¤º â€”
  ç›´æ¥æŠŠæ‰€æœ‰è¡¨å•æ§ä»¶æ˜¾ç¤ºåœ¨ä¸€ä¸ªå¤§é¡µé¢ä¸Šå¹¶é…ä¸€ä¸ªæ»šåŠ¨æ¡å¯ä»¥ä¸€æ ·å¥½åœ°å‘ˆç°ã€‚
  ä½¿ç”¨è¯¥å±æ€§åªåœ¨æŸä¸ªæ˜¾ç¤ºç»ˆç«¯ä¸Šéšè—å†…å®¹æ˜¯ä¸€æ ·çš„ä¸æ­£ç¡® â€” å¦‚æœæŸä¸ªå…ƒç´ è¢«æ ‡è®°ä¸º <code id=hidden-å±æ€§:hidden-å±æ€§-7><a href=#hidden-å±æ€§>hidden</a></code>ï¼Œå®ƒå°±åœ¨æ‰€æœ‰æ˜¾ç¤ºç»ˆç«¯ä¸Šéƒ½éšè—ï¼Œæ¯”å¦‚è¯´åŒ…æ‹¬å±å¹•é˜…è¯»å™¨ã€‚</p>

  
  

  <p>è‡ªå·±ä¸æ˜¯ <code id=hidden-å±æ€§:hidden-å±æ€§-8><a href=#hidden-å±æ€§>hidden</a></code> çš„å…ƒç´ ä¸å¾—
  <a href=links.html#hyperlink id=hidden-å±æ€§:hyperlink>è¶…é“¾æ¥</a> åˆ° <code id=hidden-å±æ€§:hidden-å±æ€§-9><a href=#hidden-å±æ€§>hidden</a></code> çš„å…ƒç´ ã€‚
  æ²¡æœ‰ <code id=hidden-å±æ€§:hidden-å±æ€§-10><a href=#hidden-å±æ€§>hidden</a></code> çš„ <code id=hidden-å±æ€§:the-label-element><a href=forms.html#the-label-element>label</a></code> å’Œ <code id=hidden-å±æ€§:the-output-element><a href=form-elements.html#the-output-element>output</a></code>
  å…ƒç´ çš„ <code>for</code> å±æ€§ä¸€æ ·ä¸å¯å¼•ç”¨
  <code id=hidden-å±æ€§:hidden-å±æ€§-11><a href=#hidden-å±æ€§>hidden</a></code> çš„å…ƒç´ ã€‚
  åœ¨ä¸¤ç§åœºæ™¯ä¸­ï¼Œè¿™æ ·çš„å¼•ç”¨ä¼šå¯¼è‡´ç”¨æˆ·å›°æƒ‘ã€‚</p>

  <p>ä½†æ˜¯å…¶ä»–ä¸Šä¸‹æ–‡ä¸­çš„å…ƒç´ å’Œè„šæœ¬å¯ä»¥å¼•ç”¨ <code id=hidden-å±æ€§:hidden-å±æ€§-12><a href=#hidden-å±æ€§>hidden</a></code> çš„å…ƒç´ ã€‚</p>

  <div class=example>

   <p>ä¾‹å¦‚ï¼Œä½¿ç”¨ <code id=hidden-å±æ€§:attr-hyperlink-href><a href=links.html#attr-hyperlink-href>href</a></code> å±æ€§é“¾æ¥åˆ°æ ‡è®°ä¸º
   <code id=hidden-å±æ€§:hidden-å±æ€§-13><a href=#hidden-å±æ€§>hidden</a></code> çš„å°èŠ‚å¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ã€‚
   å› ä¸ºå†…å®¹æœ¬èº«ä¸å¯ç”¨æˆ–ä¸ç›¸å…³ï¼Œæ‰€ä»¥æ²¡æœ‰ç†ç”±é“¾æ¥åˆ°å®ƒã€‚</p>

   <p>ä½†æ˜¯ï¼Œä½¿ç”¨ ARIA <code id=hidden-å±æ€§:attr-aria-describedby><a data-x-internal=attr-aria-describedby href=https://w3c.github.io/aria/#aria-describedby>aria-describedby</a></code> å±æ€§å¼•ç”¨
   <code id=hidden-å±æ€§:hidden-å±æ€§-14><a href=#hidden-å±æ€§>hidden</a></code> çš„æè¿°æ˜¯å¯ä»¥çš„ã€‚
   è¿™æ—¶éšè—æè¿°æ„å‘³ç€å®ƒä»¬è‡ªå·±æ²¡æœ‰ç”¨å¤„ï¼Œå®ƒä»¬åªåœ¨è¢«å®ƒä»¬æ‰€æè¿°çš„å›¾ç‰‡å¼•ç”¨æ—¶æ‰æœ‰ç”¨ã€‚</p>

   <p>ç±»ä¼¼åœ°ï¼Œä¸€ä¸ªæœ‰ <code id=hidden-å±æ€§:hidden-å±æ€§-15><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§çš„ <code id=hidden-å±æ€§:the-canvas-element><a href=canvas.html#the-canvas-element>canvas</a></code> å…ƒç´ ï¼Œ
   å¯ä»¥è¢«ä¸€ä¸ªå›¾å½¢å¼•æ“è„šæœ¬ç”¨æ¥ä½œä¸ºå±å¹•å¤–çš„ç¼“å†²ï¼Œä¸€ä¸ªè¡¨å•æ§ä»¶å¯ä»¥é€šè¿‡å®ƒçš„
   <code id=hidden-å±æ€§:attr-fae-form><a href=form-control-infrastructure.html#attr-fae-form>form</a></code> å±æ€§å¼•ç”¨ä¸€ä¸ªéšè—çš„ <code id=hidden-å±æ€§:the-form-element><a href=forms.html#the-form-element>form</a></code> å…ƒç´ ã€‚</p>

  </div>

  <p>è¢« <code id=hidden-å±æ€§:hidden-å±æ€§-16><a href=#hidden-å±æ€§>hidden</a></code> å±æ€§éšè—çš„éƒ¨åˆ†ä¸­çš„å…ƒç´ ä»ç„¶æ˜¯æ´»è·ƒçš„ã€‚
  ä¾‹å¦‚ï¼Œè¿™äº›éƒ¨åˆ†ä¸­çš„è„šæœ¬å’Œè¡¨å•æ§ä»¶ä»ç„¶ä¼šæ‰§è¡Œå’Œæäº¤ã€‚åªæœ‰å®ƒä»¬å¯¹ç”¨æˆ·çš„æ˜¾ç¤ºå˜äº†ã€‚</p>

  

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/hidden title="The HTMLElement property hidden is a Boolean which is true if the element is hidden; otherwise the value is false. This is quite different from using the CSS property display to control the visibility of an element.">HTMLElement/hidden</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>6+</span></span><hr><span class="opera yes"><span>Opera</span><span>11.6+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12+</span></span></div></div></div><p><dfn id=dom-hidden><code>hidden</code></dfn> IDL å±æ€§å¿…é¡» <a href=infrastructure.html#reflect id=hidden-å±æ€§:reflect>åæ˜ </a>
  åŒåå†…å®¹å±æ€§ã€‚</p>

  




  <h3 id=inert-subtrees><span class=secno>6.2</span> Inert subtrees<a href=#inert-subtrees class=self-link></a></h3><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/inert title="The HTMLElement property inert is a Boolean, when present, may make the browser &quot;ignore&quot; the element from assistive technologies, page search and text selection. This can be useful when building UIs such as modals where you would want to &quot;trap&quot; the focus inside the modal when it's visible.">HTMLElement/inert</a><div class=support><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 81+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 60+</span></span><hr><span class="opera yes"><span>Opera</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 47+</span></span><span class="edge_blink yes"><span>Edge</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 79+</span></span><hr><span class="edge no"><span>Edge (Legacy)</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 81+</span></span><span class="safari_ios no"><span>Safari iOS</span><span>No</span></span><span class="chrome_android yes"><span>Chrome Android</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 60+</span></span><span class="webview_android no"><span>WebView Android</span><span>No</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>No</span></span><span class="opera_android yes"><span>Opera Android</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 44+</span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/inert-subtrees.zh.html?filename=inert-subtrees.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Finert-subtrees.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/inert-subtrees.en.html></div>

  <p class=note>This section <strong>does not</strong> define or create any content attribute
  named "inert". This section merely defines an abstract <em>concept</em> of
  <a href=#inert id=inert-subtrees:inert>inertness</a>.</p>

  <p>A node (in particular elements and text nodes) can be marked as <dfn id=inert>inert</dfn>. When a node
  is <a href=#inert id=inert-subtrees:inert-2>inert</a>, then the user agent must act as if the node was absent for the purposes of
  targeting user interaction events, may ignore the node for the purposes of
  <a href=#find-in-page-2 id=inert-subtrees:find-in-page-2>find-in-page</a>, and may prevent the user from selecting text in that node. User agents
  should allow the user to override the restrictions on search and text selection, however.</p>

  <p class=example>For example, consider a page that consists of just a single <a href=#inert id=inert-subtrees:inert-3>inert</a>
  paragraph positioned in the middle of a <code id=inert-subtrees:the-body-element><a href=sections.html#the-body-element>body</a></code>. If a user moves their pointing device
  from the <code id=inert-subtrees:the-body-element-2><a href=sections.html#the-body-element>body</a></code> over to the <a href=#inert id=inert-subtrees:inert-4>inert</a> paragraph and clicks on the paragraph,
  no <code id=inert-subtrees:event-mouseover><a data-x-internal=event-mouseover href=https://w3c.github.io/uievents/#event-type-mouseover>mouseover</a></code> event would be fired, and the <code id=inert-subtrees:event-mousemove><a data-x-internal=event-mousemove href=https://w3c.github.io/uievents/#event-type-mousemove>mousemove</a></code> and <code id=inert-subtrees:event-click><a data-x-internal=event-click href=https://w3c.github.io/uievents/#event-type-click>click</a></code> events would
  be fired on the <code id=inert-subtrees:the-body-element-3><a href=sections.html#the-body-element>body</a></code> element rather than the paragraph.</p>

  <p class=note>When a node is inert, it generally cannot be focused. Inert nodes that are <a href=interactive-elements.html#concept-command id=inert-subtrees:concept-command>commands</a> will also get disabled.</p>

  <p>While a <a id=inert-subtrees:browsing-context-container href=browsers.html#browsing-context-container>browsing context container</a> is marked as <a href=#inert id=inert-subtrees:inert-5>inert</a>, its
  <a id=inert-subtrees:nested-browsing-context href=browsers.html#nested-browsing-context>nested browsing context</a>'s <a id=inert-subtrees:active-document href=browsers.html#active-document>active document</a>, and all nodes in that
  <code id=inert-subtrees:document><a href=dom.html#document>Document</a></code>, must be marked as <a href=#inert id=inert-subtrees:inert-6>inert</a>.</p>

  <p><span id=expressly-inert-control></span><span id=expressly-inert-dialog></span>An element
  is <dfn id=expressly-inert>expressly inert</dfn> if it is <a href=#inert id=inert-subtrees:inert-7>inert</a> and its <a id=inert-subtrees:node-document href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a> is
  not <a href=#inert id=inert-subtrees:inert-8>inert</a>.</p>

  <p>A <code id=inert-subtrees:document-2><a href=dom.html#document>Document</a></code> <var>document</var> is <dfn id=blocked-by-a-modal-dialog>blocked by a modal dialog</dfn>
  <var>subject</var> if <var>subject</var> is the topmost <code id=inert-subtrees:the-dialog-element><a href=interactive-elements.html#the-dialog-element>dialog</a></code> element in
  <var>document</var>'s <a id=inert-subtrees:top-layer href=https://fullscreen.spec.whatwg.org/#top-layer data-x-internal=top-layer>top layer</a>. While <var>document</var> is so blocked, every node
  that is <a id=inert-subtrees:connected href=https://dom.spec.whatwg.org/#connected data-x-internal=connected>connected</a> to <var>document</var>, with the exception of the
  <var>subject</var> element and its <a href=https://dom.spec.whatwg.org/#concept-shadow-including-descendant id=inert-subtrees:shadow-including-descendant data-x-internal=shadow-including-descendant>shadow-including
  descendants</a>, must be marked <a href=#inert id=inert-subtrees:inert-9>inert</a>. (The elements excepted by this paragraph
  can additionally be marked <a href=#inert id=inert-subtrees:inert-10>inert</a> through other means; being part of a modal dialog
  does not "protect" a node from being marked <a href=#inert id=inert-subtrees:inert-11>inert</a>.)</p>

  <p class=note>The <code id=inert-subtrees:the-dialog-element-2><a href=interactive-elements.html#the-dialog-element>dialog</a></code> element's <code id=inert-subtrees:dom-dialog-showmodal><a href=interactive-elements.html#dom-dialog-showmodal>showModal()</a></code> method causes this mechanism to trigger, by <a href=https://fullscreen.spec.whatwg.org/#top-layer-add id=inert-subtrees:top-layer-add data-x-internal=top-layer-add>adding</a> the <code id=inert-subtrees:the-dialog-element-3><a href=interactive-elements.html#the-dialog-element>dialog</a></code> element to its <a id=inert-subtrees:node-document-2 href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node
  document</a>'s <a id=inert-subtrees:top-layer-2 href=https://fullscreen.spec.whatwg.org/#top-layer data-x-internal=top-layer>top layer</a>.</p>




  <h3 id=tracking-user-activation><span class=secno>6.3</span> Tracking user activation<a href=#tracking-user-activation class=self-link></a></h3>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/tracking-user-activation/index.zh.html?filename=index.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ftracking-user-activation%2Findex.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/tracking-user-activation/index.en.html></div>

  <p>To prevent abuse of certain APIs that could be annoying to users (e.g., opening popups or
  vibrating phones), user agents allow these APIs only when the user is actively interacting with
  the web page or has interacted with the page at least once. This "active interaction" state is
  maintained through the mechanisms defined in this section.</p>

  


  <h4 id=user-activation-data-model><span class=secno>6.3.1</span> Data model<a href=#user-activation-data-model class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/tracking-user-activation/data-model.zh.html?filename=data-model.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ftracking-user-activation%2Fdata-model.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/tracking-user-activation/data-model.en.html></div>

  <p>For the purpose of tracking user activation, each <code id=user-activation-data-model:window><a href=window-object.html#window>Window</a></code> <var>W</var> has a
  <dfn id=last-activation-timestamp>last activation timestamp</dfn>. This is a number indicating the last time <var>W</var> got
  an <a href=#activation-notification id=user-activation-data-model:activation-notification>activation notification</a>. It corresponds to a
  <a id=user-activation-data-model:domhighrestimestamp href=https://w3c.github.io/hr-time/#dom-domhighrestimestamp data-x-internal=domhighrestimestamp><code>DOMHighResTimeStamp</code></a> value except for two cases: positive infinity
  indicates that <var>W</var> has never been activated, while negative infinity indicates that a <a href=#user-activation-gated-apis>user activation-gated API</a> has <a href=#consume-user-activation id=user-activation-data-model:consume-user-activation>consumed</a> the last user activation of <var>W</var>. The initial value is
  positive infinity.</p>

  <p>A user agent also defines a <dfn id=transient-activation-duration>transient activation duration</dfn>, which is a constant
  number indicating how long a user activation is available for certain <a href=#user-activation-gated-apis>user activation-gated APIs</a> (e.g., for opening popups).</p>

  <p class=note>The <a href=#transient-activation-duration id=user-activation-data-model:transient-activation-duration>transient activation duration</a> is expected be at most a few
  seconds, so that the user can possibly perceive the link between an interaction with the page and
  the page calling the activation-gated API.</p>

  <p>These two values imply two boolean user activation states for <var>W</var>:</p>

  <dl><dt><dfn id=sticky-activation data-export="">Sticky activation</dfn><dd>
    <p>When the <a id=user-activation-data-model:current-high-resolution-time href=https://w3c.github.io/hr-time/#dfn-current-high-resolution-time data-x-internal=current-high-resolution-time>current high resolution time</a> is greater than or equal to the <a href=#last-activation-timestamp id=user-activation-data-model:last-activation-timestamp>last
    activation timestamp</a> in <var>W</var>, <var>W</var> is said to have <a href=#sticky-activation id=user-activation-data-model:sticky-activation>sticky
    activation</a>.</p>

    <p>This is <var>W</var>'s historical activation state, indicating whether the user has ever
    interacted in <var>W</var>. It starts false, then changes to true (and never changes back to
    false) when <var>W</var> gets the very first <a href=#activation-notification id=user-activation-data-model:activation-notification-2>activation notification</a>.</p>
   <dt><dfn id=transient-activation data-export="">Transient activation</dfn><dd>
    <p>When the <a id=user-activation-data-model:current-high-resolution-time-2 href=https://w3c.github.io/hr-time/#dfn-current-high-resolution-time data-x-internal=current-high-resolution-time>current high resolution time</a> is greater than or equal to the <a href=#last-activation-timestamp id=user-activation-data-model:last-activation-timestamp-2>last
    activation timestamp</a> in <var>W</var>, and less than the <a href=#last-activation-timestamp id=user-activation-data-model:last-activation-timestamp-3>last activation
    timestamp</a> in <var>W</var> plus the <a href=#transient-activation-duration id=user-activation-data-model:transient-activation-duration-2>transient activation duration</a>, then
    <var>W</var> is said to have <a href=#transient-activation id=user-activation-data-model:transient-activation>transient activation</a>.</p>

    <p>This is <var>W</var>'s current activation state, indicating whether the user has interacted
    in <var>W</var> recently. This starts with a false value, and remains true for a limited time
    after every <a href=#activation-notification id=user-activation-data-model:activation-notification-3>activation notification</a> <var>W</var> gets.</p>

    <p>The <a href=#transient-activation id=user-activation-data-model:transient-activation-2>transient activation</a> state is considered <dfn id=activation-expiry>expired</dfn> if it becomes false because the <a href=#transient-activation-duration id=user-activation-data-model:transient-activation-duration-3>transient
    activation duration</a> time has elapsed since the last user activation. Note that it can
    become false even before the expiry time through an <a href=#consume-user-activation id=user-activation-data-model:consume-user-activation-2>activation consumption</a>.</p>
   </dl>


  <h4 id=user-activation-processing-model><span class=secno>6.3.2</span> Processing model<a href=#user-activation-processing-model class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/tracking-user-activation/processing-model.zh.html?filename=processing-model.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ftracking-user-activation%2Fprocessing-model.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/tracking-user-activation/processing-model.en.html></div>

  <p>When a user interaction in a <a id=user-activation-processing-model:browsing-context href=browsers.html#browsing-context>browsing context</a> <var>B</var> causes firing of an
  <a href=#activation-triggering-input-event id=user-activation-processing-model:activation-triggering-input-event>activation triggering input event</a> in <var>B</var>'s <a id=user-activation-processing-model:active-document href=browsers.html#active-document>active document</a>
  <var>D</var>, the user agent must perform the following <dfn id=activation-notification>activation notification</dfn> steps
  <em>before</em> <a href=https://dom.spec.whatwg.org/#concept-event-dispatch id=user-activation-processing-model:concept-event-dispatch data-x-internal=concept-event-dispatch>dispatching</a> the event:</p>

  <ol><li>
    <p>Let <var>browsingContexts</var> be a list consisting of:</p>
    <ul><li><p><var>B</var>,<li><p>all <a href=browsers.html#ancestor-browsing-context id=user-activation-processing-model:ancestor-browsing-context>ancestor browsing contexts</a> of
     <var>B</var>, and<li><p>all the <a href=browsers.html#list-of-the-descendant-browsing-contexts id=user-activation-processing-model:list-of-the-descendant-browsing-contexts>descendant browsing
     contexts</a> of <var>D</var> that have <a href=browsers.html#active-document id=user-activation-processing-model:active-document-2>active
     documents</a> from the <a id=user-activation-processing-model:same-origin href=origin.html#same-origin>same origin</a> as that of <var>D</var>.</ul>
   <li><p>Let <var>windows</var> be the list of <code id=user-activation-processing-model:window><a href=window-object.html#window>Window</a></code> objects constructed by taking
   the <a id=user-activation-processing-model:active-window href=browsers.html#active-window>active window</a> of each item in <var>browsingContexts</var>.<li><p><a href=https://infra.spec.whatwg.org/#list-iterate id=user-activation-processing-model:list-iterate data-x-internal=list-iterate>For each</a> <var>window</var> in <var>windows</var>, set
   <var>window</var>'s <a href=#last-activation-timestamp id=user-activation-processing-model:last-activation-timestamp>last activation timestamp</a> to the <a id=user-activation-processing-model:current-high-resolution-time href=https://w3c.github.io/hr-time/#dfn-current-high-resolution-time data-x-internal=current-high-resolution-time>current high resolution
   time</a>.</ol>

  <p>An <dfn id=activation-triggering-input-event>activation triggering input event</dfn> is any event whose <code id=user-activation-processing-model:dom-event-istrusted><a data-x-internal=dom-event-istrusted href=https://dom.spec.whatwg.org/#dom-event-istrusted>isTrusted</a></code> attribute is true and whose <code id=user-activation-processing-model:dom-event-type><a data-x-internal=dom-event-type href=https://dom.spec.whatwg.org/#dom-event-type>type</a></code> is one of:</p>

  <ul class=brief><li><code id=user-activation-processing-model:event-change><a href=indices.html#event-change>change</a></code><li><code id=user-activation-processing-model:event-click><a data-x-internal=event-click href=https://w3c.github.io/uievents/#event-type-click>click</a></code><li><code id=user-activation-processing-model:event-contextmenu><a href=indices.html#event-contextmenu>contextmenu</a></code><li><code id=user-activation-processing-model:event-dblclick><a data-x-internal=event-dblclick href=https://w3c.github.io/uievents/#event-type-dblclick>dblclick</a></code><li><code id=user-activation-processing-model:event-mouseup><a data-x-internal=event-mouseup href=https://w3c.github.io/uievents/#event-type-mouseup>mouseup</a></code><li><code id=user-activation-processing-model:event-pointerup><a data-x-internal=event-pointerup href=https://w3c.github.io/pointerevents/#the-pointerup-event>pointerup</a></code><li><code id=user-activation-processing-model:event-reset><a href=indices.html#event-reset>reset</a></code><li><code id=user-activation-processing-model:event-submit><a href=indices.html#event-submit>submit</a></code><li><code id=user-activation-processing-model:event-touchend><a data-x-internal=event-touchend href=https://w3c.github.io/touch-events/#event-touchend>touchend</a></code></ul>

  <p class=XXX>The event set is inconsistent across major browsers. See <a href=https://github.com/whatwg/html/issues/3849>issue #3849</a>.</p>

  <p><a href=#activation-consuming-api id=user-activation-processing-model:activation-consuming-api>Activation consuming APIs</a> defined in this and
  other specifications can <dfn id=consume-user-activation data-export="">consume user activation</dfn> by performing the following
  steps, given a <code id=user-activation-processing-model:window-2><a href=window-object.html#window>Window</a></code> <var>W</var>:</p>

  <ol><li><p>If <var>W</var>'s <a href=window-object.html#window-bc id=user-activation-processing-model:window-bc>browsing context</a> is null, then
   return.<li><p>Let <var>top</var> be <var>W</var>'s <a href=window-object.html#window-bc id=user-activation-processing-model:window-bc-2>browsing context</a>'s
   <a id=user-activation-processing-model:top-level-browsing-context href=browsers.html#top-level-browsing-context>top-level browsing context</a>.<li><p>Let <var>browsingContexts</var> be the <a id=user-activation-processing-model:list-of-the-descendant-browsing-contexts-2 href=browsers.html#list-of-the-descendant-browsing-contexts>list of the descendant browsing
   contexts</a> of <var>top</var>'s <a id=user-activation-processing-model:active-document-3 href=browsers.html#active-document>active document</a>.<li><p><a href=https://infra.spec.whatwg.org/#list-append id=user-activation-processing-model:list-append data-x-internal=list-append>Append</a> <var>top</var> to
   <var>browsingContexts</var>.<li><p>Let <var>windows</var> be the list of <code id=user-activation-processing-model:window-3><a href=window-object.html#window>Window</a></code> objects constructed by taking
   the <a id=user-activation-processing-model:active-window-2 href=browsers.html#active-window>active window</a> of each item in <var>browsingContexts</var>.<li><p><a href=https://infra.spec.whatwg.org/#list-iterate id=user-activation-processing-model:list-iterate-2 data-x-internal=list-iterate>For each</a> <var>window</var> in <var>windows</var>, if
   <var>window</var>'s <a href=#last-activation-timestamp id=user-activation-processing-model:last-activation-timestamp-2>last activation timestamp</a> is not positive infinity, then set
   <var>window</var>'s <a href=#last-activation-timestamp id=user-activation-processing-model:last-activation-timestamp-3>last activation timestamp</a> to negative infinity.</ol>

  <p class=XXX>The spec is not clear about how to traverse a tree of documents. See <a href=https://github.com/whatwg/html/issues/5020>issue #5020</a>.</p>

  <p class=note>Note the asymmetry in the sets of <a href=browsers.html#browsing-context id=user-activation-processing-model:browsing-context-2>browsing
  contexts</a> in the page that are affected by an <a href=#activation-notification id=user-activation-processing-model:activation-notification>activation notification</a> vs an
  <a href=#consume-user-activation id=user-activation-processing-model:consume-user-activation>activation consumption</a>: an activation consumption
  changes (to false) the <a href=#transient-activation id=user-activation-processing-model:transient-activation>transient activation</a> states for all browsing contexts in the
  page, but an activation notification changes (to true) the states for a subset of those browsing
  contexts. The exhaustive nature of consumption here is deliberate: it prevents malicious sites
  from making multiple calls to an <a href=#activation-consuming-api id=user-activation-processing-model:activation-consuming-api-2>activation consuming API</a> from a single user
  activation (possibly by exploiting a deep hierarchy of <code id=user-activation-processing-model:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>s).</p>


  <h4 id=user-activation-gated-apis><span class=secno>6.3.3</span> APIs gated by user activation<a href=#user-activation-gated-apis class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/tracking-user-activation/apis-gated-by-user-activation.zh.html?filename=apis-gated-by-user-activation.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ftracking-user-activation%2Fapis-gated-by-user-activation.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/tracking-user-activation/apis-gated-by-user-activation.en.html></div>

  

  <p>APIs that are dependent on user activation are classified into three different levels. The
  levels are as follows, sorted by their "strength of dependence" on user activation (from weakest
  to strongest):</p>

  <dl><dt><dfn id=sticky-activation-gated-api>Sticky activation-gated APIs</dfn><dd><p>These APIs require the <a href=#sticky-activation id=user-activation-gated-apis:sticky-activation>sticky activation</a> state to be true, so they are blocked
   until the very first user activation.<dt><dfn id=transient-activation-gated-api>Transient activation-gated APIs</dfn><dt>
   <dd><p>These APIs require the <a href=#transient-activation id=user-activation-gated-apis:transient-activation>transient activation</a> state to be true, but they don't
   <a href=#consume-user-activation id=user-activation-gated-apis:consume-user-activation>consume</a> it, so multiple calls are allowed per user
   activation until the transient state <a href=#activation-expiry id=user-activation-gated-apis:activation-expiry>expires</a>.<dt><dfn id=activation-consuming-api>Transient activation-consuming APIs</dfn><dd><p>These APIs require the <a href=#transient-activation id=user-activation-gated-apis:transient-activation-2>transient activation</a> state to be true, and they
   <a href=#consume-user-activation id=user-activation-gated-apis:consume-user-activation-2>consume user activation</a> in each call to prevent multiple calls per user
   activation.</dl>




  <h3 id=activation><span class=secno>6.4</span> Activation behavior of elements<a href=#activation class=self-link></a></h3>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/activation-behavior-of-elements.zh.html?filename=activation-behavior-of-elements.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Factivation-behavior-of-elements.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/activation-behavior-of-elements.en.html></div>

  <p>Certain elements in HTML have an <a id=activation:activation-behaviour href=https://dom.spec.whatwg.org/#eventtarget-activation-behavior data-x-internal=activation-behaviour>activation behavior</a>, which means that the user
  can activate them. This is always caused by a <code id=activation:event-click><a data-x-internal=event-click href=https://w3c.github.io/uievents/#event-type-click>click</a></code> event.</p>

  

  <p>The user agent should allow the user to manually trigger elements that have an <a id=activation:activation-behaviour-2 href=https://dom.spec.whatwg.org/#eventtarget-activation-behavior data-x-internal=activation-behaviour>activation
  behavior</a>, for instance using keyboard or voice input, or through mouse clicks. When the
  user triggers an element with a defined <a id=activation:activation-behaviour-3 href=https://dom.spec.whatwg.org/#eventtarget-activation-behavior data-x-internal=activation-behaviour>activation behavior</a> in a manner other than
  clicking it, the default action of the interaction event must be to <a id=activation:fire-a-click-event href=webappapis.html#fire-a-click-event>fire a <code>click</code> event</a> at the element.</p>

  

  

  <dl class=domintro><dt><var>element</var> . <code id=dom-click-dev><a href=#dom-click>click</a></code>()<dd>
    <p>Acts as if the element was clicked.</p>
   </dl>

  

  <p>Each element has an associated <dfn id=click-in-progress-flag>click in progress flag</dfn>, which is initially unset.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click title="The HTMLElement.click() method simulates a mouse click on an element.">HTMLElement/click</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>9+</span></span><hr><span class="opera yes"><span>Opera</span><span>10.5+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>8+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>5+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>11+</span></span></div></div></div><p>The <dfn data-dfn-for=HTMLElement id=dom-click data-dfn-type=method><code>click()</code></dfn> method must run
  the following steps:</p>

  <ol><li><p>If this element is a form control that is <a href=form-control-infrastructure.html#concept-fe-disabled id=activation:concept-fe-disabled>disabled</a>, then return.<li><p>If this element's <a href=#click-in-progress-flag id=activation:click-in-progress-flag>click in progress flag</a> is set, then return.<li><p>Set this element's <a href=#click-in-progress-flag id=activation:click-in-progress-flag-2>click in progress flag</a>.<li><p><a id=activation:fire-a-synthetic-mouse-event href=webappapis.html#fire-a-synthetic-mouse-event>Fire a synthetic mouse event</a> named <code id=activation:event-click-2><a data-x-internal=event-click href=https://w3c.github.io/uievents/#event-type-click>click</a></code> at
   this element, with the <var>not trusted flag</var> set.<li><p>Unset this element's <a href=#click-in-progress-flag id=activation:click-in-progress-flag-3>click in progress flag</a>.</ol>

  




  <h3 id=ç„¦ç‚¹><span class=secno>6.5</span> ç„¦ç‚¹<a href=#ç„¦ç‚¹ class=self-link></a></h3>
<div data-zh-date="Sat Mar 10 2018 18:22:55 GMT+0000 (UTC)" data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/focus/index.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/index.en.html></div>

  
  
  
  

  


  <h4 id=æ¦‚è¿°><span class=secno>6.5.1</span> æ¦‚è¿°<a href=#æ¦‚è¿° class=self-link></a></h4>
<div data-zh-date="Sat Mar 10 2018 18:22:55 GMT+0000 (UTC)" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/focus/introduction.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/introduction.en.html></div>

  <p><i>This section is non-normative.</i></p>

  <p>HTML UI é€šå¸¸åŒ…æ‹¬å¤šä¸ªäº¤äº’ç»„ä»¶ï¼Œæ¯”å¦‚è¡¨å•æ§ä»¶ï¼Œå¯æ»šåŠ¨åŒºåŸŸï¼Œè¶…é“¾æ¥ï¼Œå¯¹è¯æ¡†ï¼Œæµè§ˆå™¨é€‰é¡¹å¡ç­‰ç­‰ã€‚
  è¿™äº›ç»„ä»¶äº’ç›¸åµŒå¥—ï¼Œä¸€äº›ï¼ˆæ¯”å¦‚æµè§ˆå™¨é€‰é¡¹å¡ã€å¯¹è¯æ¡†ï¼‰åŒ…å«ç€å¦å¤–ä¸€äº›ç»„ä»¶ï¼ˆä¾‹å¦‚è¶…é“¾æ¥ã€è¡¨å•æ§ä»¶ï¼‰ã€‚</p>

  <p>å½“ä½¿ç”¨é”®ç›˜ä¸æ¥å£äº¤äº’æ—¶ï¼ŒæŒ‰é”®è¾“å…¥æ¥è‡ªç³»ç»Ÿï¼Œé€šè¿‡å¯äº¤äº’çš„ç»„ä»¶å±‚çº§ï¼Œåˆ°è¾¾æ´»è·ƒç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ç§°ä¸º
  <a href=#focused id=æ¦‚è¿°:focused>focused</a>ã€‚</p>

  <div class=example>

   <p>è€ƒè™‘ä¸€ä¸ª HTML åº”ç”¨ï¼Œåœ¨å›¾å½¢ç¯å¢ƒä¸‹è¿è¡Œç€ä¸€ä¸ªæµè§ˆå™¨é€‰é¡¹å¡ã€‚
   å‡è®¾è¿™ä¸ªåº”ç”¨æœ‰ä¸€ä¸ªé¡µé¢åŒ…å«ä¸€äº›æ–‡æœ¬æ§ä»¶å’Œé“¾å®¶ï¼Œç°åœ¨æ­£åœ¨æ˜¾ç¤ºä¸€ä¸ªæ¨¡æ€å¯¹è¯æ¡†ï¼Œ
   è¿™ä¸ªå¯¹è¯æ¡†åˆæœ‰ä¸€ä¸ªæ–‡æœ¬æ§ä»¶å’Œä¸€ä¸ªæŒ‰é’®ã€‚</p>

   <p>åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œå¯è·å¾—ç„¦ç‚¹çš„ç»„ä»¶å±‚çº§åŒ…æ‹¬æµè§ˆå™¨çª—å£ï¼ˆå®ƒçš„æµè§ˆå™¨é€‰é¡¹å¡å¯èƒ½åŒ…å«ä¸€ä¸ª HTML åº”ç”¨ï¼‰ï¼Œ
   é€‰é¡¹å¡è‡ªå·±å¯èƒ½åŒ…å«å„ç§é“¾æ¥å’Œæ–‡æœ¬æ§ä»¶ï¼Œä»¥åŠé‚£ä¸ªå¯¹è¯æ¡†ã€‚è¿™ä¸ªå¯¹è¯æ¡†åŒ…å«æ–‡æœ¬æ§ä»¶å’ŒæŒ‰é’®ã€‚</p>

   <p><img width=800 src=/html/images/focus-tree.png height=450 alt=""> 

   <p>è¿™ä¸ªä¾‹å­ä¸­å¦‚æœ <a href=#focused id=æ¦‚è¿°:focused-2>focus</a> çš„ç»„ä»¶æ˜¯å¯¹è¯æ¡†ä¸­çš„æ–‡æœ¬æ§ä»¶ï¼Œ
   é‚£ä¹ˆé”®ç›˜è¾“å…¥ä¼šä»å›¾å½¢ç³»ç»Ÿåˆ° â‘  Web æµè§ˆå™¨ï¼Œç„¶ååˆ° â‘¡ é€‰é¡¹å¡ï¼Œ
   ç„¶ååˆ° â‘¢ å¯¹è¯æ¡†ï¼Œæœ€ååˆ°è¾¾ â‘£ æ–‡æœ¬æ§ä»¶ã€‚</p>

  </div>

  <p>é”®ç›˜ <em>äº‹ä»¶</em> çš„ç›®æ ‡æ€»æ˜¯è¿™ä¸ª <a href=#focused id=æ¦‚è¿°:focused-3>focused</a> å…ƒç´ ã€‚</p>



  <h4 id=æ•°æ®æ¨¡å‹><span class=secno>6.5.2</span> æ•°æ®æ¨¡å‹<a href=#æ•°æ®æ¨¡å‹ class=self-link></a></h4>
<div data-zh-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/focus/data-model.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/data-model.en.html></div>

  <p>æœ¯è¯­ <dfn id=focusable-area>å¯èšç„¦åŒºåŸŸ</dfn> ç”¨æ¥æŒ‡å¯ä»¥æˆä¸ºé”®ç›˜è¾“å…¥ç›®æ ‡çš„ UI åŒºåŸŸã€‚
  å¯èšç„¦åŒºåŸŸå¯ä»¥æ˜¯å…ƒç´ ã€å…ƒç´ çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…ç”¨æˆ·ä»£ç†ç®¡ç†çš„å…¶ä»–åŒºåŸŸã€‚</p>

  <p>æ¯ä¸ª <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area>å¯èšç„¦åŒºåŸŸ</a> æœ‰ä¸€ä¸ª
  <dfn id=dom-anchor>DOM é”šç‚¹</dfn>ï¼Œè¿™æ˜¯ä¸€ä¸ª <code id=æ•°æ®æ¨¡å‹:node><a data-x-internal=node href=https://dom.spec.whatwg.org/#interface-node>Node</a></code> å¯¹è±¡ï¼Œè¡¨ç¤º DOM ä¸­
  <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-2>å¯èšç„¦åŒºåŸŸ</a> çš„ä½ç½®ã€‚
  å½“ <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-3>å¯èšç„¦åŒºåŸŸ</a> è‡ªå·±æ˜¯ä¸€ä¸ª <code id=æ•°æ®æ¨¡å‹:node-2><a data-x-internal=node href=https://dom.spec.whatwg.org/#interface-node>Node</a></code> æ—¶ï¼Œ
  å®ƒå°±æ˜¯è‡ªå·±çš„ <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor>DOM é”šç‚¹</a>ã€‚ï¼‰

  åœ¨ä¸€äº› API ä¸­ï¼Œå½“æ²¡æœ‰å…¶ä»– DOM å¯¹è±¡è¡¨ç¤º <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-4>å¯èšç„¦åŒºåŸŸ</a> æ—¶ï¼Œ
  <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-2>DOM é”šç‚¹</a> è¢«ç”¨ä½œ
  <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-5>å¯èšç„¦åŒºåŸŸ</a> çš„æ›¿ä»£å“ã€‚</p>

  <p>ä¸‹é¢çš„è¡¨æ ¼æè¿°äº†ä»€ä¹ˆå¯¹è±¡å¯ä»¥æˆä¸º <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-6>å¯èšç„¦åŒºåŸŸ</a>ã€‚
  å·¦ä¾§çš„å•å…ƒæ ¼æè¿°äº†å¯ä»¥æˆä¸º <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-7>å¯èšç„¦åŒºåŸŸ</a> çš„å¯¹è±¡ï¼›
  å³ä¾§çš„å•å…ƒæ ¼æè¿°äº†é‚£äº›å…ƒç´ çš„ <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-3>DOM é”šç‚¹</a>ã€‚
  ï¼ˆæ¨ªè·¨ä¸¤åˆ—çš„å•å…ƒæ ¼æ˜¯éè§„èŒƒæè¿°çš„ä¾‹å­ï¼‰</p>

  <table id=table-fa><thead><tr><th id=th-fa-area><a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-8>å¯èšç„¦åŒºåŸŸ</a>
     <th id=th-fa-dom-rep><a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-4>DOM é”šç‚¹</a>
    <tr><th colspan=2 id=th-fa-examples>ç¤ºä¾‹

   <tbody><tr><th headers=th-fa-area id=td-fa-1 class=data-header>
     æ»¡è¶³ä¸‹é¢æ‰€æœ‰æ¡ä»¶çš„å…ƒç´ ï¼š
     <ul class=brief><li>å…ƒç´ çš„ <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value>tabindex å€¼</a> éç©ºï¼Œæˆ–ç”¨æˆ·ä»£ç†ç¡®å®šé’™å…ƒç´ ä¸ºå¯èšç„¦çš„ï¼›<li>å…ƒç´ ä¸æ˜¯ <a id=æ•°æ®æ¨¡å‹:shadow-host href=https://dom.spec.whatwg.org/#element-shadow-host data-x-internal=shadow-host>shadow host</a> æˆ–å…¶ <a href=https://dom.spec.whatwg.org/#concept-element-shadow-root id=æ•°æ®æ¨¡å‹:concept-element-shadow-root data-x-internal=concept-element-shadow-root>shadow root</a> çš„ <a id=æ•°æ®æ¨¡å‹:delegates-focus href=https://dom.spec.whatwg.org/#shadowroot-delegates-focus data-x-internal=delegates-focus>delegates focus</a> ä¸º falseï¼›<li>å…ƒç´ æ²¡æœ‰ <a href=semantics-other.html#concept-element-disabled id=æ•°æ®æ¨¡å‹:concept-element-disabled>è¢«ç¦ç”¨</a>ï¼›<li>å…ƒç´ ä¸æ˜¯ <a href=#expressly-inert id=æ•°æ®æ¨¡å‹:expressly-inert>æ˜ç¡®ä¸æ´»åŠ¨çš„</a>ï¼›<li>å…ƒç´ æ­£ <a href=rendering.html#being-rendered id=æ•°æ®æ¨¡å‹:being-rendered>è¢«æ¸²æŸ“</a> æˆ– <a href=canvas.html#being-used-as-relevant-canvas-fallback-content id=æ•°æ®æ¨¡å‹:being-used-as-relevant-canvas-fallback-content>è¢«ç”¨ä½œç›¸å…³ç”»å¸ƒçš„ fallback å†…å®¹</a>ã€‚</ul>
     <td headers="td-fa-1 th-fa-dom-rep">
     å…ƒç´ è‡ªå·±ã€‚
    <tr><td colspan=2 headers="td-fa-1 th-fa-examples">
     <p class=example><code id=æ•°æ®æ¨¡å‹:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>ï¼Œ <code id="æ•°æ®æ¨¡å‹:text-(type=text)-state-and-search-state-(type=search)"><a href="input.html#text-(type=text)-state-and-search-state-(type=search)">&lt;input
     type=text></a></code>ï¼Œæœ‰æ—¶è¿˜åŒ…æ‹¬ <code id=æ•°æ®æ¨¡å‹:the-a-element><a href=text-level-semantics.html#the-a-element>&lt;a href=""></a></code> ï¼ˆå–å†³äºå¹³å°æƒ¯ä¾‹ï¼‰ã€‚

   <tbody><tr><th headers=th-fa-area id=td-fa-2 class=data-header>
     åœ¨ä¸ <a href=rendering.html#being-rendered id=æ•°æ®æ¨¡å‹:being-rendered-2>æ­£åœ¨è¢«æ¸²æŸ“çš„</a> ä¸”æ²¡æœ‰
     <a href=#expressly-inert id=æ•°æ®æ¨¡å‹:expressly-inert-2>æ˜ç¡®ä¸æ´»åŠ¨çš„</a> çš„ <code id=æ•°æ®æ¨¡å‹:the-img-element><a href=embedded-content.html#the-img-element>img</a></code> å…ƒç´ å…³è”çš„
     <a href=image-maps.html#image-map id=æ•°æ®æ¨¡å‹:image-map>å›¾ç‰‡ map</a> ä¸­ <code id=æ•°æ®æ¨¡å‹:the-area-element><a href=image-maps.html#the-area-element>area</a></code> å…ƒç´ çš„å½¢çŠ¶ã€‚
     <td headers="td-fa-2 th-fa-dom-rep">
     <code id=æ•°æ®æ¨¡å‹:the-img-element-2><a href=embedded-content.html#the-img-element>img</a></code> å…ƒç´ 
    <tr><td colspan=2 headers="td-fa-2 th-fa-examples">
     <div class=example>
      <p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ<code id=æ•°æ®æ¨¡å‹:the-area-element-2><a href=image-maps.html#the-area-element>area</a></code> å…ƒç´ åˆ›å»ºäº†ä¸¤ä¸ªå½¢çŠ¶ï¼Œæ¯ä¸ªå›¾ç‰‡ä¸€ä¸ªã€‚
      ç¬¬ä¸€ä¸ªå½¢çŠ¶çš„ <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-5>DOM é”šç‚¹</a> æ˜¯ç¬¬ä¸€ä¸ª <code id=æ•°æ®æ¨¡å‹:the-img-element-3><a href=embedded-content.html#the-img-element>img</a></code> å…ƒç´ ï¼Œ
      ç¬¬äºŒä¸ªå½¢çŠ¶çš„ <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-6>DOM é”šç‚¹</a> æ˜¯ç¬¬äºŒä¸ª <code id=æ•°æ®æ¨¡å‹:the-img-element-4><a href=embedded-content.html#the-img-element>img</a></code> å…ƒç´ ã€‚</p>
      <pre><code class=html>&lt;map id=wallmap>&lt;area alt="Enter Door" coords="10,10,100,200" href="door.html">&lt;/map>
...
&lt;img src="images/innerwall.jpeg" alt="There is a white wall here, with a door." usemap="#wallmap">
...
&lt;img src="images/outerwall.jpeg" alt="There is a red wall here, with a door." usemap="#wallmap"></code></pre>
     </div>

   <tbody><tr><th headers=th-fa-area id=td-fa-3 class=data-header>
     ç”¨æˆ·ä»£ç†æä¾›çš„
     <a href=rendering.html#being-rendered id=æ•°æ®æ¨¡å‹:being-rendered-3>æ­£åœ¨è¢«æ¸²æŸ“</a> ä¸”æ²¡æœ‰
     <a href=semantics-other.html#concept-element-disabled id=æ•°æ®æ¨¡å‹:concept-element-disabled-2>çœŸæ­£ç¦ç”¨</a> æˆ–
     <a href=#expressly-inert id=æ•°æ®æ¨¡å‹:expressly-inert-3>æ˜ç¡®ä¸æ´»åŠ¨çš„</a>
     å…ƒç´ çš„å­ç»„ä»¶
     <td headers="td-fa-3 th-fa-dom-rep">
     å…¶ <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-9>å¯èšç„¦åŒºåŸŸ</a> æ˜¯è¿™äº›å­ç»„ä»¶çš„å…ƒç´ 
    <tr><td colspan=2 headers="td-fa-3 th-fa-examples">
     <p class=example><a href=media.html#expose-a-user-interface-to-the-user id=æ•°æ®æ¨¡å‹:expose-a-user-interface-to-the-user>
     <code>video</code> å…ƒç´ çš„ UI æ§ä»¶</a>ï¼Œ
     <code id="æ•°æ®æ¨¡å‹:number-state-(type=number)"><a href="input.html#number-state-(type=number)">&lt;input type=number></a></code> çš„æ—‹é’®æ§ä»¶çš„ä¸Šä¸‹æŒ‰é’®ï¼Œ
     <code id="æ•°æ®æ¨¡å‹:range-state-(type=range)"><a href="input.html#range-state-(type=range)">&lt;input type=range multiple></a></code> ä¸­çš„ä¸¤ä¸ªèŒƒå›´æ§ä»¶ï¼Œ
     <code id=æ•°æ®æ¨¡å‹:the-details-element><a href=interactive-elements.html#the-details-element>details</a></code> å…ƒç´ çš„æ¸²æŸ“ç»“æœä¸­å¯ä»¥ä½¿ç”¨é”®ç›˜è¾“å…¥ä½¿å…ƒç´ æ‰“å¼€å’Œå…³é—­çš„éƒ¨åˆ†ã€‚</p>

   <tbody><tr><th headers=th-fa-area id=td-fa-4 class=data-header>
     <a href=rendering.html#being-rendered id=æ•°æ®æ¨¡å‹:being-rendered-4>æ­£åœ¨è¢«æ¸²æŸ“</a> ä¸”æ²¡æœ‰
     <a href=#expressly-inert id=æ•°æ®æ¨¡å‹:expressly-inert-4>æ˜ç¡®ä¸æ´»åŠ¨çš„</a> å…ƒç´ çš„å¯æ»šåŠ¨åŒºåŸŸã€‚
     
     <td headers="td-fa-4 th-fa-dom-rep">
     ä¸ºå…¶åˆ›å»ºå¯æ»šåŠ¨åŒºåŸŸçš„æ»šåŠ¨æ¡†çš„å…ƒç´ ã€‚
    <tr><td colspan=2 headers="td-fa-4 th-fa-examples">
     <p class=example>CSS <a id="æ•°æ®æ¨¡å‹:'overflow'" href=https://drafts.csswg.org/css-overflow/#propdef-overflow data-x-internal="'overflow'">'overflow'</a> å±æ€§çš„ 'scroll' å€¼å°±åˆ›å»ºäº†ä¸€ä¸ªå¯æ»šåŠ¨åŒºåŸŸ</p>

   <tbody><tr><th headers=th-fa-area id=td-fa-5 class=data-header>
     æœ‰éç©º <a href=browsers.html#concept-document-bc id=æ•°æ®æ¨¡å‹:concept-document-bc>æµè§ˆä¸Šä¸‹æ–‡</a> ä¸”ä¸æ˜¯ <a href=#inert id=æ•°æ®æ¨¡å‹:inert>ä¸æ´»åŠ¨çš„</a>
     <code id=æ•°æ®æ¨¡å‹:document><a href=dom.html#document>Document</a></code> çš„ <a href=https://drafts.csswg.org/css2/#viewport id=æ•°æ®æ¨¡å‹:viewport data-x-internal=viewport>è§†å£</a>
     <td headers="td-fa-5 th-fa-dom-rep">
     ä¸ºå…¶åˆ›å»º <a href=https://drafts.csswg.org/css2/#viewport id=æ•°æ®æ¨¡å‹:viewport-2 data-x-internal=viewport>è§†å£</a> çš„ <code id=æ•°æ®æ¨¡å‹:document-2><a href=dom.html#document>Document</a></code>
    <tr><td colspan=2 headers="td-fa-5 th-fa-examples">
     <p class=example><code id=æ•°æ®æ¨¡å‹:the-iframe-element-2><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code> çš„å†…å®¹</p>

   <tbody><tr><th headers=th-fa-area id=td-fa-6 class=data-header>
     ä»»ä½•ç”±ç”¨æˆ·ä»£ç†ç¡®å®šçš„å±äºå¯èšç„¦åŒºåŸŸçš„å…¶ä»–å…ƒç´ æˆ–å…ƒç´ çš„ä¸€éƒ¨åˆ†ï¼Œå°¤å…¶æ˜¯æé«˜å¯è®¿é—®æ€§æˆ–æ›´å¥½åœ°åŒ¹é…å¹³å°æƒ¯ä¾‹çš„é‚£äº›å…ƒç´ 
     <td headers="td-fa-6 th-fa-dom-rep">
     è¯¥å…ƒç´ æœ¬èº«
    <tr><td colspan=2 headers="td-fa-6 th-fa-examples">
     <p class=example>ç”¨æˆ·ä»£ç†å¯ä»¥æŠŠæ‰€æœ‰åˆ—è¡¨é¡¹æ ‡å¿—å˜æˆ <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable>å¯é¡ºåºèšç„¦</a> çš„ï¼Œè¿™æ ·ç”¨æˆ·å¯ä»¥æ›´å®¹æ˜“åœ°åœ¨åˆ—è¡¨ä¸­å¯¼èˆªã€‚</p>
     <p class=example>ç±»ä¼¼åœ°ï¼Œç”¨æˆ·ä»£ç†å¯ä»¥è®©æ‰€æœ‰æœ‰ <code id=æ•°æ®æ¨¡å‹:attr-title><a href=dom.html#attr-title>title</a></code>
     å±æ€§çš„å…ƒç´ <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable-2>å¯é¡ºåºèšç„¦</a>ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®å®ƒä»¬çš„æç¤ºä¿¡æ¯äº†ã€‚</p>

  </table>

  <p id=bc-focus-ergo-bcc-focus class=note>
  <a href=browsers.html#browsing-context-container id=æ•°æ®æ¨¡å‹:browsing-context-container>æµè§ˆä¸Šä¸‹æ–‡å®¹å™¨</a> ï¼ˆä¾‹å¦‚ä¸€ä¸ª <code id=æ•°æ®æ¨¡å‹:the-iframe-element-3><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>ï¼‰
  æ˜¯ä¸€ä¸ª <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-10>å¯èšç„¦åŒºåŸŸ</a>ï¼Œä½†è·¯ç”±åˆ°
  <a href=browsers.html#browsing-context-container id=æ•°æ®æ¨¡å‹:browsing-context-container-2>æµè§ˆä¸Šä¸‹æ–‡å®¹å™¨</a> çš„é”®ç›˜äº‹ä»¶ä¼šç«‹å³è·¯ç”±åˆ°
  <a href=browsers.html#nested-browsing-context id=æ•°æ®æ¨¡å‹:nested-browsing-context>åµŒå¥—æµè§ˆä¸Šä¸‹æ–‡</a> çš„
  <a href=browsers.html#active-document id=æ•°æ®æ¨¡å‹:active-document>æ´»åŠ¨æ–‡æ¡£</a>ã€‚
  ç±»ä¼¼åœ°ï¼Œåœ¨é¡ºåºç„¦ç‚¹å¯¼èˆªä¸­ï¼Œæµè§ˆ
  <a href=browsers.html#browsing-context-container id=æ•°æ®æ¨¡å‹:browsing-context-container-3>æµè§ˆä¸Šä¸‹æ–‡å®¹å™¨</a>
  æœ¬è´¨ä¸Šä»…å……å½“å…¶ <a href=browsers.html#nested-browsing-context id=æ•°æ®æ¨¡å‹:nested-browsing-context-2>åµŒå¥—æµè§ˆä¸Šä¸‹æ–‡</a> çš„
  <a href=browsers.html#active-document id=æ•°æ®æ¨¡å‹:active-document-2>æ´»åŠ¨æ–‡æ¡£</a> çš„å ä½ç¬¦ã€‚</p>

  <hr>

  <p>æ¯ä¸ª <code id=æ•°æ®æ¨¡å‹:document-3><a href=dom.html#document>Document</a></code> éƒ½æœ‰ä¸€ä¸ª <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-11>å¯èšç„¦åŒºåŸŸ</a> è¢«æŒ‡å®šä¸º
  <dfn id=focused-area-of-the-document>æ–‡æ¡£çš„ç„¦ç‚¹åŒºåŸŸ</dfn>ã€‚
  è¢«æŒ‡å®šçš„å…·ä½“æ˜¯å“ªä¸ªæ§ä»¶ä¼šéšæ—¶é—´å˜åŒ–ï¼Œå–å†³äºæœ¬è§„èŒƒä¸­çš„ç®—æ³•ã€‚
  å¦‚æœ <code id=æ•°æ®æ¨¡å‹:document-4><a href=dom.html#document>Document</a></code> æ²¡æœ‰ <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-12>å¯èšç„¦åŒºåŸŸ</a>ï¼Œ
  å®ƒå°±æ²¡æœ‰ <a href=#focused-area-of-the-document id=æ•°æ®æ¨¡å‹:focused-area-of-the-document>ç„¦ç‚¹åŒºåŸŸ</a>ã€‚</p>

  <p>ä»»æ„ä¸€åˆ»é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡ <var>topLevelBC</var> çš„
  <dfn id=currently-focused-area-of-a-top-level-browsing-context>çš„å½“å‰ç„¦ç‚¹åŒºåŸŸ</dfn>ï¼Œç”±ä»¥ä¸‹ç®—æ³•è¿”å›ï¼š</p>

  <ol><li><p>ä»¤ <var>candidate</var> ä¸º <var>topLevelBC</var> çš„ <a href=browsers.html#active-document id=æ•°æ®æ¨¡å‹:active-document-3>æ´»åŠ¨æ–‡æ¡£</a>ã€‚<li><p>åªè¦ <var>candidate</var> çš„ <a href=#focused-area-of-the-document id=æ•°æ®æ¨¡å‹:focused-area-of-the-document-2>æ´»åŠ¨åŒºåŸŸ</a> ä¸º
    æœ‰ç€éç©º <a href=browsers.html#nested-browsing-context id=æ•°æ®æ¨¡å‹:nested-browsing-context-3>åµŒå¥—æµè§ˆç¯å¢ƒ</a> çš„ <a href=browsers.html#browsing-context-container id=æ•°æ®æ¨¡å‹:browsing-context-container-4>æµè§ˆç¯å¢ƒå®¹å™¨</a> æ—¶ï¼š
    è®¾ç½® <var>candidate</var> ä¸ºè¿™ä¸ª <a href=browsers.html#browsing-context-container id=æ•°æ®æ¨¡å‹:browsing-context-container-5>æµè§ˆç¯å¢ƒå®¹å™¨</a> çš„ <a href=browsers.html#nested-browsing-context id=æ•°æ®æ¨¡å‹:nested-browsing-context-4>åµŒå¥—æµè§ˆç¯å¢ƒ</a>
    çš„ <a href=browsers.html#active-document id=æ•°æ®æ¨¡å‹:active-document-4>æ´»åŠ¨æ–‡æ¡£</a>ã€‚<li><p>å¦‚æœ <var>candidate</var> çš„ <a href=#focused-area-of-the-document id=æ•°æ®æ¨¡å‹:focused-area-of-the-document-3>èšç„¦åŒºåŸŸ</a> éç©ºï¼Œ
   è®¾ç½® <var>candidate</var> ä¸º <var>candidate</var> çš„ <a href=#focused-area-of-the-document id=æ•°æ®æ¨¡å‹:focused-area-of-the-document-4>èšç„¦åŒºåŸŸ</a>ã€‚<li><p>è¿”å› <var>candidate</var>ã€‚</ol>

  <p>
  <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-13>å¯èšç„¦åŒºåŸŸ</a> çš„
  <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-7>DOM é”šç‚¹</a> çš„å…ƒç´  <dfn id=gains-focus>è·å¾—ç„¦ç‚¹</dfn>
  æ˜¯æŒ‡ <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-14>å¯èšç„¦åŒºåŸŸ</a> æˆä¸ºäº†
  <a href=#currently-focused-area-of-a-top-level-browsing-context id=æ•°æ®æ¨¡å‹:currently-focused-area-of-a-top-level-browsing-context>é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡çš„å½“å‰ç„¦ç‚¹åŒºåŸŸ</a>ã€‚
  å½“ä¸€ä¸ªå…ƒç´ æ˜¯
  <a href=#currently-focused-area-of-a-top-level-browsing-context id=æ•°æ®æ¨¡å‹:currently-focused-area-of-a-top-level-browsing-context-2>é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡çš„å½“å‰ç„¦ç‚¹åŒºåŸŸ</a> çš„
  <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-15>å¯èšç„¦åŒºåŸŸ</a> çš„
  <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-8>DOM é”šç‚¹</a> æ—¶ï¼Œå®ƒå°±æ˜¯ <dfn id=focused>focused</dfn>ã€‚</p>

  

  <p>
  <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-16>å¯èšç„¦åŒºåŸŸ</a>
  <var>subject</var> çš„ <dfn id=focus-chain>ç„¦ç‚¹é“¾</dfn> æ˜¯è¿™æ ·æ„é€ çš„æœ‰åºåˆ—è¡¨ï¼š</p>

  <ol><li><p>ä»¤ <var>current object</var> ä¸º <var>subject</var>ã€‚<li><p>ä»¤ <var>output</var> ä¸ºä¸€ä¸ªç©ºåˆ—è¡¨ã€‚<li><p><i>Loop</i>ï¼šæŠŠ <var>current object</var> æ·»åŠ åˆ° <var>output</var>ã€‚<li>
    <p>å¦‚æœ <var>current object</var> æ˜¯ä¸€ä¸ª <code id=æ•°æ®æ¨¡å‹:the-area-element-3><a href=image-maps.html#the-area-element>area</a></code> å…ƒç´ çš„å½¢çŠ¶ï¼Œå°±æŠŠé‚£ä¸ª
    <code id=æ•°æ®æ¨¡å‹:the-area-element-4><a href=image-maps.html#the-area-element>area</a></code> å…ƒç´ æ·»åŠ åˆ° <var>output</var>ã€‚</p>

    <p>å¦åˆ™ï¼Œå¦‚æœ <var>current object</var> æ˜¯ <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-17>å¯èšç„¦åŒºåŸŸ</a> å…ƒç´ ï¼Œ
    ä¸”å®ƒçš„ <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-9>DOM é”šç‚¹</a> ä¸æ˜¯ <var>current object</var> è‡ªå·±ï¼ŒæŠŠé‚£ä¸ª
    <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-10>DOM é”šç‚¹</a> å…ƒç´ æ·»åŠ åˆ° <var>output</var>ã€‚</p>
   <li><p>å¦‚æœ <var>current object</var> æ˜¯ä¸€ä¸ª <a href=browsers.html#concept-document-bc id=æ•°æ®æ¨¡å‹:concept-document-bc-2>æµè§ˆä¸Šä¸‹æ–‡</a> ä¸º
   <a href=browsers.html#child-browsing-context id=æ•°æ®æ¨¡å‹:child-browsing-context>å­æµè§ˆç¯å¢ƒ</a> çš„ <code id=æ•°æ®æ¨¡å‹:document-5><a href=dom.html#document>Document</a></code>,
   è®¾ç½® <var>current object</var> ä¸º <var>current object</var> çš„ <a href=browsers.html#concept-document-bc id=æ•°æ®æ¨¡å‹:concept-document-bc-3>æµè§ˆç¯å¢ƒ</a> çš„ <a href=browsers.html#bc-container id=æ•°æ®æ¨¡å‹:bc-container>å®¹å™¨</a> å¹¶è¿”å›åˆ°æ ‡ç­¾ä¸º <i>loop</i> çš„æ­¥éª¤ã€‚<li>
    <p>è¿”å› <var>output</var>ã€‚</p>

    <p class=note>è¿™ä¸ªé“¾æ¡ä» <var>subject</var> å¼€å§‹
    ï¼ˆå¦‚æœ <var>subject</var> æ˜¯æˆ–è€…å¯ä»¥æ˜¯
    <a href=#currently-focused-area-of-a-top-level-browsing-context id=æ•°æ®æ¨¡å‹:currently-focused-area-of-a-top-level-browsing-context-3>
    é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡çš„å½“å‰ç„¦ç‚¹åŒºåŸŸ</a>ï¼‰ï¼Œ
    ä¸€ç›´å‘ä¸Šåˆ° <a href=browsers.html#top-level-browsing-context id=æ•°æ®æ¨¡å‹:top-level-browsing-context>é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡</a>
    çš„ <code id=æ•°æ®æ¨¡å‹:document-6><a href=dom.html#document>Document</a></code>ã€‚</p>

   </ol>

  <p>All elements that are <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-18>focusable areas</a> are said to be
  <dfn id=focusable>focusable</dfn>.</p>

  <p>There are two special types of focusability for <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-19>focusable
  areas</a>:</p>
  <ul><li>
    <p>A <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-20>focusable area</a> is said to be <dfn id=sequentially-focusable>sequentially focusable</dfn> if it is
    included in its <code id=æ•°æ®æ¨¡å‹:document-7><a href=dom.html#document>Document</a></code>'s <a href=#sequential-focus-navigation-order id=æ•°æ®æ¨¡å‹:sequential-focus-navigation-order>sequential focus navigation order</a> and
    the user agent determines that it is sequentially focusable.</p>
   <li>
    <p>A <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-21>focusable area</a> is said to be <dfn id=click-focusable>click focusable</dfn> if the user agent
    determines that it is click focusable. User agents should consider focusable areas with non-null
    <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value-2>tabindex values</a> to be click focusable.</p>
   </ul>

  <p class=note>Elements which are not <a href=#focusable id=æ•°æ®æ¨¡å‹:focusable>focusable</a> are not <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-22>focusable areas</a>, and thus not <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable-3>sequentially focusable</a> and not <a href=#click-focusable id=æ•°æ®æ¨¡å‹:click-focusable>click
  focusable</a>.</p>

  <div class=note>
   <p>Being <a href=#focusable id=æ•°æ®æ¨¡å‹:focusable-2>focusable</a> is a statement about whether an element can be focused
   programmatically, e.g. via the <code id=æ•°æ®æ¨¡å‹:dom-focus><a href=#dom-focus>focus()</a></code> method or <code id=æ•°æ®æ¨¡å‹:attr-fe-autofocus><a href=#attr-fe-autofocus>autofocus</a></code> attribute. In contrast, <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable-4>sequentially
   focusable</a> and <a href=#click-focusable id=æ•°æ®æ¨¡å‹:click-focusable-2>click focusable</a> govern how the user agent responds to user
   interaction: respectively, to <a href=#sequential-focus-navigation id=æ•°æ®æ¨¡å‹:sequential-focus-navigation>sequential focus navigation</a> and as <a href=#focus-activation-behavior>activation behavior</a>.</p>

   <p>The user agent might determine that an element is not <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable-5>sequentially focusable</a> even
   if it is <a href=#focusable id=æ•°æ®æ¨¡å‹:focusable-3>focusable</a> and is included in its <code id=æ•°æ®æ¨¡å‹:document-8><a href=dom.html#document>Document</a></code>'s <a href=#sequential-focus-navigation-order id=æ•°æ®æ¨¡å‹:sequential-focus-navigation-order-2>sequential
   focus navigation order</a>, according to user preferences. For example, macOS users can set
   the user agent to skip non-form control elements, or can skip links when doing <a href=#sequential-focus-navigation id=æ•°æ®æ¨¡å‹:sequential-focus-navigation-2>sequential
   focus navigation</a> with just the <kbd>Tab</kbd> key (as opposed to using both the
   <kbd>Option</kbd> and <kbd>Tab</kbd> keys).</p>

   <p>Similarly, the user agent might determine that an element is not <a href=#click-focusable id=æ•°æ®æ¨¡å‹:click-focusable-3>click focusable</a>
   even if it is <a href=#focusable id=æ•°æ®æ¨¡å‹:focusable-4>focusable</a>. For example, in some user agents, clicking on a
   non-editable form control does not focus it, i.e. the user agent has determined that such
   controls are not click focusable.</p>

   <p>Thus, an element can be <a href=#focusable id=æ•°æ®æ¨¡å‹:focusable-5>focusable</a>, but neither <a href=#sequentially-focusable id=æ•°æ®æ¨¡å‹:sequentially-focusable-6>sequentially
   focusable</a> nor <a href=#click-focusable id=æ•°æ®æ¨¡å‹:click-focusable-4>click focusable</a>. For example, in some user agents, a
   non-editable form-control with a negative-integer <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value-3>tabindex value</a> would not be
   focusable via user interaction, only via programmatic APIs.</p>
  </div>

  <p>When a user <a href=#activation>activates</a> a <a href=#click-focusable id=æ•°æ®æ¨¡å‹:click-focusable-5>click focusable</a> <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-23>focusable
  area</a>, the user agent must run the <a href=#focusing-steps id=æ•°æ®æ¨¡å‹:focusing-steps>focusing steps</a> on the <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-24>focusable
  area</a> with <var>focus trigger</var> set to "<code>click</code>".</p>

  <p class=note>Note that focusing is not an <a id=æ•°æ®æ¨¡å‹:activation-behaviour href=https://dom.spec.whatwg.org/#eventtarget-activation-behavior data-x-internal=activation-behaviour>activation behavior</a>, i.e. calling the
  <code id=æ•°æ®æ¨¡å‹:dom-click><a href=#dom-click>click()</a></code> method on an element or dispatching a synthetic <code id=æ•°æ®æ¨¡å‹:event-click><a data-x-internal=event-click href=https://w3c.github.io/uievents/#event-type-click>click</a></code> event on it won't cause the element to get focused.</p>

  <hr>

  <p>A node is a <dfn id=focus-navigation-scope-owner>focus navigation scope owner</dfn> if it is a <a id=æ•°æ®æ¨¡å‹:document-9 href=dom.html#document>document</a>, a
  <a id=æ•°æ®æ¨¡å‹:shadow-host-2 href=https://dom.spec.whatwg.org/#element-shadow-host data-x-internal=shadow-host>shadow host</a> or a <a id=æ•°æ®æ¨¡å‹:the-slot-element href=scripting.html#the-slot-element>slot</a>.</p>

  <p>Each <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner>focus navigation scope owner</a> has a <dfn id=focus-navigation-scope>focus navigation scope</dfn>, which
  is a list of elements. Its contents are determined as follows:</p>

  <p>Every element <var>element</var> has an <dfn id=associated-focus-navigation-owner>associated focus navigation owner</dfn>, which is
  either null or a <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-2>focus navigation scope owner</a>. It is determined by the following
  algorithm:</p>

  <ol><li><p>If <var>element</var>'s parent is null, then return null.<li><p>If <var>element</var>'s parent is a <a id=æ•°æ®æ¨¡å‹:shadow-host-3 href=https://dom.spec.whatwg.org/#element-shadow-host data-x-internal=shadow-host>shadow host</a>, then return
   <var>element</var>'s <a id=æ•°æ®æ¨¡å‹:assigned-slot href=https://dom.spec.whatwg.org/#slotable-assigned-slot data-x-internal=assigned-slot>assigned slot</a>.<li><p>If <var>element</var>'s parent is a <a id=æ•°æ®æ¨¡å‹:shadow-root href=https://dom.spec.whatwg.org/#concept-shadow-root data-x-internal=shadow-root>shadow root</a>, then return the parent's
   <a href=https://dom.spec.whatwg.org/#concept-documentfragment-host id=æ•°æ®æ¨¡å‹:concept-documentfragment-host data-x-internal=concept-documentfragment-host>host</a>.<li><p>If <var>element</var>'s parent is the <a id=æ•°æ®æ¨¡å‹:document-element href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a>, then return the
   parent's <a id=æ•°æ®æ¨¡å‹:node-document href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a>.<li><p>Return <var>element</var>'s parent's <a href=#associated-focus-navigation-owner id=æ•°æ®æ¨¡å‹:associated-focus-navigation-owner>associated focus navigation owner</a>.</ol>

  <p>Then, the contents of a given <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-3>focus navigation scope owner</a> <var>owner</var>'s
  <a href=#focus-navigation-scope id=æ•°æ®æ¨¡å‹:focus-navigation-scope>focus navigation scope</a> are all elements whose <a href=#associated-focus-navigation-owner id=æ•°æ®æ¨¡å‹:associated-focus-navigation-owner-2>associated focus navigation
  owner</a> is <var>owner</var>.</p>

  <p class=note>The order of elements within a <a href=#focus-navigation-scope id=æ•°æ®æ¨¡å‹:focus-navigation-scope-2>focus navigation scope</a> does not impact
  any of the algorithms in this specification. Ordering only becomes important for the
  <a href=#tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:tabindex-ordered-focus-navigation-scope>tabindex-ordered focus navigation scope</a> and <a href=#flattened-tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:flattened-tabindex-ordered-focus-navigation-scope>flattened tabindex-ordered focus
  navigation scope</a> concepts defined below.</p>

  <p>A <dfn id=tabindex-ordered-focus-navigation-scope>tabindex-ordered focus navigation scope</dfn> is a list of <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-25>focusable areas</a> and <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-4>focus navigation
  scope owners</a>. Every <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-5>focus navigation scope owner</a> <var>owner</var> has
  <a href=#tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:tabindex-ordered-focus-navigation-scope-2>tabindex-ordered focus navigation scope</a>, whose contents are determined as
  follows:</p>

  <ul><li><p>It contains all elements in <var>owner</var>'s <a href=#focus-navigation-scope id=æ•°æ®æ¨¡å‹:focus-navigation-scope-3>focus navigation scope</a> that
   are themselves <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-6>focus navigation scope owners</a>,
   except the elements whose <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value-4>tabindex value</a> is a negative integer.<li><p>It contains all of the <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-26>focusable areas</a> whose
   <a href=#dom-anchor id=æ•°æ®æ¨¡å‹:dom-anchor-11>DOM anchor</a> is an element in <var>owner</var>'s <a href=#focus-navigation-scope id=æ•°æ®æ¨¡å‹:focus-navigation-scope-4>focus navigation scope</a>,
   except the <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-27>focusable areas</a> whose <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value-5>tabindex value</a>
   is a negative integer.</ul>

  <p>The order within a <a href=#tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:tabindex-ordered-focus-navigation-scope-3>tabindex-ordered focus navigation scope</a> is determined by each
  element's <a href=#tabindex-value id=æ•°æ®æ¨¡å‹:tabindex-value-6>tabindex value</a>, as described in the section below.</p>

  <p class=note>The rules there do not give a precise ordering, as they are composed mostly of
  "should" statements and relative orderings.</p>

  <p>A <dfn id=flattened-tabindex-ordered-focus-navigation-scope>flattened tabindex-ordered focus navigation scope</dfn> is a list of <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-28>focusable areas</a>. Every <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-7>focus navigation scope owner</a>
  <var>owner</var> owns a distinct <a href=#flattened-tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:flattened-tabindex-ordered-focus-navigation-scope-2>flattened tabindex-ordered focus navigation scope</a>,
  whose contents are determined by the following algorithm:</p>

  <ol><li><p>Let <var>result</var> be a <a href=https://infra.spec.whatwg.org/#list-clone id=æ•°æ®æ¨¡å‹:list-clone data-x-internal=list-clone>clone</a> of <var>owner</var>'s
   <a href=#tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:tabindex-ordered-focus-navigation-scope-4>tabindex-ordered focus navigation scope</a>.<li>
    <p>For each <var>item</var> of <var>result</var>:</p>

    <ol><li><p>If <var>item</var> is not a <a href=#focus-navigation-scope-owner id=æ•°æ®æ¨¡å‹:focus-navigation-scope-owner-8>focus navigation scope owner</a>, then
     <a id=æ•°æ®æ¨¡å‹:continue href=https://infra.spec.whatwg.org/#iteration-continue data-x-internal=continue>continue</a>.<li><p>If <var>item</var> is not a <a href=#focusable-area id=æ•°æ®æ¨¡å‹:focusable-area-29>focusable area</a>, then replace <var>item</var>
     with all of the items in <var>item</var>'s <a href=#flattened-tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:flattened-tabindex-ordered-focus-navigation-scope-3>flattened tabindex-ordered focus navigation
     scope</a>.<li><p>Otherwise, insert the contents of <var>item</var>'s <a href=#flattened-tabindex-ordered-focus-navigation-scope id=æ•°æ®æ¨¡å‹:flattened-tabindex-ordered-focus-navigation-scope-4>flattened tabindex-ordered
     focus navigation scope</a> after <var>item</var>.</ol>
   </ol>

  


  <h4 id=the-tabindex-attribute><span class=secno>6.5.3</span> The <code id=the-tabindex-attribute:attr-tabindex><a href=#attr-tabindex>tabindex</a></code> attribute<a href=#the-tabindex-attribute class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/focus/the-tabindex-attribute.zh.html?filename=the-tabindex-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffocus%2Fthe-tabindex-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/the-tabindex-attribute.en.html></div>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex title="The tabindex global attribute indicates that its element can be focused, and where it participates in sequential keyboard navigation (usually with the Tab key, hence the name).">Global_attributes/tabindex</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>Yes</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>Yes</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span><hr><span class=caniuse><span><a href="https://caniuse.com/#feat=tabindex-attr" title="tabindex global attribute">caniuse.com table</a></span></span></div></div></div><p>The <dfn data-dfn-for=htmlsvg-global id=attr-tabindex data-dfn-type=element-attr><code>tabindex</code></dfn>
  content attribute allows authors to make an element and regions that have the element as its
  <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor>DOM anchor</a> be <a href=#focusable-area id=the-tabindex-attribute:focusable-area>focusable areas</a>, allow or prevent
  them from being <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable>sequentially focusable</a>, and determine their relative ordering for
  <a href=#sequential-focus-navigation id=the-tabindex-attribute:sequential-focus-navigation>sequential focus navigation</a>.</p>

  <p>The name "tab index" comes from the common use of the <kbd>Tab</kbd> key to navigate through
  the focusable elements. The term "tabbing" refers to moving forward through <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-2>sequentially
  focusable</a> <a href=#focusable-area id=the-tabindex-attribute:focusable-area-2>focusable areas</a>.</p>

  <p>The <code id=the-tabindex-attribute:attr-tabindex-2><a href=#attr-tabindex>tabindex</a></code> attribute, if specified, must have a value
  that is a <a id=the-tabindex-attribute:valid-integer href=infrastructure.html#valid-integer>valid integer</a>. Positive numbers specify the relative position of the
  element's <a href=#focusable-area id=the-tabindex-attribute:focusable-area-3>focusable areas</a> in the <a href=#sequential-focus-navigation-order id=the-tabindex-attribute:sequential-focus-navigation-order>sequential focus
  navigation order</a>, and negative numbers indicate that the control is not
  <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-3>sequentially focusable</a>.</p>

  <p>Developers should use caution when using values other than 0 or âˆ’1 for their <code id=the-tabindex-attribute:attr-tabindex-3><a href=#attr-tabindex>tabindex</a></code> attributes as this is complicated to do correctly.</p>

  <div class=note>
   <p>The following provides a non-normative summary of the behaviors of the
   possible <code id=the-tabindex-attribute:attr-tabindex-4><a href=#attr-tabindex>tabindex</a></code> attribute values. The below
   processing model gives the more precise rules.</p>

   <dl><dt>omitted (or non-integer values)<dd>The user agent will decide whether the element is <a href=#focusable id=the-tabindex-attribute:focusable>focusable</a>, and if it is,
    whether it is <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-4>sequentially focusable</a> or <a href=#click-focusable id=the-tabindex-attribute:click-focusable>click focusable</a> (or both).<dt>âˆ’1 (or other negative integer values)<dd>Causes the element to be <a href=#focusable id=the-tabindex-attribute:focusable-2>focusable</a>, and indicates that the author would prefer
    the element to be <a href=#click-focusable id=the-tabindex-attribute:click-focusable-2>click focusable</a> but not <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-5>sequentially focusable</a>. The
    user agent might ignore this preference for click and sequential focusability, e.g., for
    specific element types according to platform conventions, or for keyboard-only users.<dt>0<dd>Causes the element to be <a href=#focusable id=the-tabindex-attribute:focusable-3>focusable</a>, and indicates that the author would prefer
    the element to be both <a href=#click-focusable id=the-tabindex-attribute:click-focusable-3>click focusable</a> and <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-6>sequentially focusable</a>. The
    user agent might ignore this preference for click and sequential focusabiity.<dt>positive integer values<dd>Behaves the same as 0, but in addition creates a relative ordering within a
    <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope>tabindex-ordered focus navigation scope</a>, so that elements with higher <code id=the-tabindex-attribute:attr-tabindex-5><a href=#attr-tabindex>tabindex</a></code> attribute value come later.</dl>

   <p>Note that the <code id=the-tabindex-attribute:attr-tabindex-6><a href=#attr-tabindex>tabindex</a></code> attribute cannot be used to make
   an element non-focusable. The only way a page author can do that is by <a href=semantics-other.html#concept-element-disabled id=the-tabindex-attribute:concept-element-disabled>disabling</a> the element, or making it
   <a href=#inert id=the-tabindex-attribute:inert>inert</a>.</p>
  </div>

  

  <hr>

  <p>The <dfn id=tabindex-value>tabindex value</dfn> of an element is the value of its <code id=the-tabindex-attribute:attr-tabindex-7><a href=#attr-tabindex>tabindex</a></code> attribute, parsed using the <a id=the-tabindex-attribute:rules-for-parsing-integers href=infrastructure.html#rules-for-parsing-integers>rules for parsing
  integers</a>. If parsing fails or the attribute is not specified, then the <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value>tabindex
  value</a> is null.</p>

  <p>The <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value-2>tabindex value</a> of a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-4>focusable area</a> is the <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value-3>tabindex
  value</a> of its <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-2>DOM anchor</a>.</p>

  <p>The <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value-4>tabindex value</a> of an element must be interpreted as follows:</p>

  <dl><dt>If the value is null<dd>
    <p>The user agent should follow platform conventions to determine if the element should be
    considered as a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-5>focusable area</a> and if so, whether the element and any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-6>focusable areas</a> that have the element as their
    <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-3>DOM anchor</a> are <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-7>sequentially focusable</a>, and if so, what their relative
    position in their <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-2>tabindex-ordered focus navigation scope</a> is to be. If the element
    is a <a href=#focus-navigation-scope-owner id=the-tabindex-attribute:focus-navigation-scope-owner>focus navigation scope owner</a>, it must be included in its
    <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-3>tabindex-ordered focus navigation scope</a> even if it is not a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-7>focusable
    area</a>.</p>

    <p>The relative ordering within a <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-4>tabindex-ordered focus navigation scope</a> for
    elements and <a href=#focusable-area id=the-tabindex-attribute:focusable-area-8>focusable areas</a> that belong to the same
    <a href=#focus-navigation-scope id=the-tabindex-attribute:focus-navigation-scope>focus navigation scope</a> and whose <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value-5>tabindex value</a> is null should be in
    <a id=the-tabindex-attribute:shadow-including-tree-order href=https://dom.spec.whatwg.org/#concept-shadow-including-tree-order data-x-internal=shadow-including-tree-order>shadow-including tree order</a>.</p>

    <p>Modulo platform conventions, it is suggested that the following elements should be considered
    as <a href=#focusable-area id=the-tabindex-attribute:focusable-area-9>focusable areas</a> and be <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-8>sequentially
    focusable</a>:</p>

    <ul><li><code id=the-tabindex-attribute:the-a-element><a href=text-level-semantics.html#the-a-element>a</a></code> elements that have an <code id=the-tabindex-attribute:attr-hyperlink-href><a href=links.html#attr-hyperlink-href>href</a></code>
     attribute<li><code id=the-tabindex-attribute:link-å…ƒç´ ><a href=semantics.html#link-å…ƒç´ >link</a></code> elements that have an <code id=the-tabindex-attribute:attr-link-href><a href=semantics.html#attr-link-href>href</a></code> attribute<li><code id=the-tabindex-attribute:the-button-element><a href=form-elements.html#the-button-element>button</a></code> elements<li><code id=the-tabindex-attribute:the-input-element><a href=input.html#the-input-element>input</a></code> elements whose <code id=the-tabindex-attribute:attr-input-type><a href=input.html#attr-input-type>type</a></code> attribute are
     not in the <a href="input.html#hidden-state-(type=hidden)" id="the-tabindex-attribute:hidden-state-(type=hidden)">Hidden</a> state<li><code id=the-tabindex-attribute:the-select-element><a href=form-elements.html#the-select-element>select</a></code> elements<li><code id=the-tabindex-attribute:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> elements<li><code id=the-tabindex-attribute:the-summary-element><a href=interactive-elements.html#the-summary-element>summary</a></code> elements that are the first <code id=the-tabindex-attribute:the-summary-element-2><a href=interactive-elements.html#the-summary-element>summary</a></code> element child of a
     <code id=the-tabindex-attribute:the-details-element><a href=interactive-elements.html#the-details-element>details</a></code> element<li>Elements with a <code id=the-tabindex-attribute:attr-draggable><a href=dnd.html#attr-draggable>draggable</a></code> attribute set, if that would
     enable the user agent to allow the user to begin drag operations for those elements without
     the use of a pointing device<li><a href=#editing-host id=the-tabindex-attribute:editing-host>Editing hosts</a><li><a href=browsers.html#browsing-context-container id=the-tabindex-attribute:browsing-context-container>Browsing context containers</a></ul>
   <dt id=negative-tabindex>If the value is a negative integer<dd>
    <p>The user agent must consider the element as a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-10>focusable area</a>, but should omit
    the element from any <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-5>tabindex-ordered focus navigation scope</a>.</p>

    <p class=note>One valid reason to ignore the requirement that sequential focus navigation not
    allow the author to lead to the element would be if the user's only mechanism for moving the
    focus is sequential focus navigation. For instance, a keyboard-only user would be unable to
    click on a text control with a negative <code id=the-tabindex-attribute:attr-tabindex-8><a href=#attr-tabindex>tabindex</a></code>, so that
    user's user agent would be well justified in allowing the user to tab to the control
    regardless.</p>
   <dt>If the value is a zero<dd>
    <p>The user agent must allow the element to be considered as a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-11>focusable area</a> and
    should allow the element and any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-12>focusable areas</a> that have
    the element as their <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-4>DOM anchor</a> to be <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-9>sequentially focusable</a>.</p>

    <p>The relative ordering within a <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-6>tabindex-ordered focus navigation scope</a> for
    elements and <a href=#focusable-area id=the-tabindex-attribute:focusable-area-13>focusable areas</a> that belong to the same
    <a href=#focus-navigation-scope id=the-tabindex-attribute:focus-navigation-scope-2>focus navigation scope</a> and whose <a href=#tabindex-value id=the-tabindex-attribute:tabindex-value-6>tabindex value</a> is zero should be in
    <a id=the-tabindex-attribute:shadow-including-tree-order-2 href=https://dom.spec.whatwg.org/#concept-shadow-including-tree-order data-x-internal=shadow-including-tree-order>shadow-including tree order</a>.</p>
   <dt>If the value is greater than zero<dd>
    <p>The user agent must allow the element to be considered as a <a href=#focusable-area id=the-tabindex-attribute:focusable-area-14>focusable area</a> and
    should allow the  element and any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-15>focusable areas</a> that have
    the element as their <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-5>DOM anchor</a> to be <a href=#sequentially-focusable id=the-tabindex-attribute:sequentially-focusable-10>sequentially focusable</a>, and
    should place the element â€” referenced as <var>candidate</var> below â€” and the
    aforementioned <a href=#focusable-area id=the-tabindex-attribute:focusable-area-16>focusable areas</a> in the
    <a href=#tabindex-ordered-focus-navigation-scope id=the-tabindex-attribute:tabindex-ordered-focus-navigation-scope-7>tabindex-ordered focus navigation scope</a> where the element is a part of so that,
    relative to other elements and <a href=#focusable-area id=the-tabindex-attribute:focusable-area-17>focusable areas</a> that belong
    to the same <a href=#focus-navigation-scope id=the-tabindex-attribute:focus-navigation-scope-3>focus navigation scope</a>, they are:</p>

    <ul><li>before any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-18>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-6>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-9><a href=#attr-tabindex>tabindex</a></code> attribute has been omitted or whose value, when parsed,
     returns an error,<li>before any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-19>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-7>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-10><a href=#attr-tabindex>tabindex</a></code> attribute has a value equal to or less than zero,<li>after any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-20>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-8>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-11><a href=#attr-tabindex>tabindex</a></code> attribute has a value greater than zero but less than
     the value of the <code id=the-tabindex-attribute:attr-tabindex-12><a href=#attr-tabindex>tabindex</a></code> attribute on <var>candidate</var>,<li>after any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-21>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-9>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-13><a href=#attr-tabindex>tabindex</a></code> attribute has a value equal to the value of the <code id=the-tabindex-attribute:attr-tabindex-14><a href=#attr-tabindex>tabindex</a></code> attribute on <var>candidate</var> but that is
     located earlier than <var>candidate</var> in <a id=the-tabindex-attribute:shadow-including-tree-order-3 href=https://dom.spec.whatwg.org/#concept-shadow-including-tree-order data-x-internal=shadow-including-tree-order>shadow-including tree order</a>,<li>before any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-22>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-10>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-15><a href=#attr-tabindex>tabindex</a></code> attribute has a value equal to the value of the <code id=the-tabindex-attribute:attr-tabindex-16><a href=#attr-tabindex>tabindex</a></code> attribute on <var>candidate</var> but that is
     located later than <var>candidate</var> in <a id=the-tabindex-attribute:shadow-including-tree-order-4 href=https://dom.spec.whatwg.org/#concept-shadow-including-tree-order data-x-internal=shadow-including-tree-order>shadow-including tree order</a>, and<li>before any <a href=#focusable-area id=the-tabindex-attribute:focusable-area-23>focusable area</a> whose <a href=#dom-anchor id=the-tabindex-attribute:dom-anchor-11>DOM anchor</a> is an element whose <code id=the-tabindex-attribute:attr-tabindex-17><a href=#attr-tabindex>tabindex</a></code> attribute has a value greater than the value of the
     <code id=the-tabindex-attribute:attr-tabindex-18><a href=#attr-tabindex>tabindex</a></code> attribute on <var>candidate</var>.</ul>
   </dl>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/tabIndex title="The tabIndex property of the HTMLOrForeignElement interface represents the tab order of the current element.">HTMLOrForeignElement/tabIndex</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie yes"><span>Internet Explorer</span><span title="Partial implementation.">ğŸ”° 8+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></div><p>The <dfn id=dom-tabindex><code>tabIndex</code></dfn> IDL attribute must
  <a id=the-tabindex-attribute:reflect href=infrastructure.html#reflect>reflect</a> the value of the <code id=the-tabindex-attribute:attr-tabindex-19><a href=#attr-tabindex>tabindex</a></code> content
  attribute. The default value is 0 if the element is an <code id=the-tabindex-attribute:the-a-element-2><a href=text-level-semantics.html#the-a-element>a</a></code>, <code id=the-tabindex-attribute:the-area-element><a href=image-maps.html#the-area-element>area</a></code>,
  <code id=the-tabindex-attribute:the-button-element-2><a href=form-elements.html#the-button-element>button</a></code>, <code id=the-tabindex-attribute:frame><a href=obsolete.html#frame>frame</a></code>, <code id=the-tabindex-attribute:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>, <code id=the-tabindex-attribute:the-input-element-2><a href=input.html#the-input-element>input</a></code>,
  <code id=the-tabindex-attribute:the-object-element><a href=iframe-embed-object.html#the-object-element>object</a></code>, <code id=the-tabindex-attribute:the-select-element-2><a href=form-elements.html#the-select-element>select</a></code>, <code id=the-tabindex-attribute:the-textarea-element-2><a href=form-elements.html#the-textarea-element>textarea</a></code>, or <a id=the-tabindex-attribute:svg-a href=https://svgwg.org/svg2-draft/linking.html#AElement data-x-internal=svg-a>SVG
  <code>a</code></a> element, or is a <code id=the-tabindex-attribute:the-summary-element-3><a href=interactive-elements.html#the-summary-element>summary</a></code> element that is a <a id=the-tabindex-attribute:summary-for-its-parent-details href=interactive-elements.html#summary-for-its-parent-details>summary for
  its parent details</a>. The default value is âˆ’1 otherwise.</p>

  <p class=note>The varying default value based on element type is a historical artifact.</p>

  


  


  <h4 id=focus-processing-model><span class=secno>6.5.4</span> <span id=processing-model-5></span>Processing model<a href=#focus-processing-model class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/focus/processing-model.zh.html?filename=processing-model.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffocus%2Fprocessing-model.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/processing-model.en.html></div>

  <p>To <dfn id=get-the-focusable-area>get the focusable area</dfn> for a <var>focus target</var> that is either an element
  that is not a <a href=#focusable-area id=focus-processing-model:focusable-area>focusable area</a>, or is a <a id=focus-processing-model:browsing-context href=browsers.html#browsing-context>browsing context</a>, given an
  optional string <var>focus trigger</var>, run the first matching set of steps from the following
  list:</p>

  <dl class=switch><dt>If <var>focus target</var> is an <code id=focus-processing-model:the-area-element><a href=image-maps.html#the-area-element>area</a></code> element with one or more shapes that are
   <a href=#focusable-area id=focus-processing-model:focusable-area-2>focusable areas</a><dd><p>Return the shape corresponding to the first <code id=focus-processing-model:the-img-element><a href=embedded-content.html#the-img-element>img</a></code> element in <a id=focus-processing-model:tree-order href=https://dom.spec.whatwg.org/#concept-tree-order data-x-internal=tree-order>tree
   order</a> that uses the image map to which the <code id=focus-processing-model:the-area-element-2><a href=image-maps.html#the-area-element>area</a></code> element belongs.<dt>If <var>focus target</var> is an element with one or more scrollable regions that are <a href=#focusable-area id=focus-processing-model:focusable-area-3>focusable areas</a><dd><p>Return the element's first scrollable region, according to a pre-order, depth-first
   traversal of the <a id=focus-processing-model:flat-tree href=https://drafts.csswg.org/css-scoping/#flat-tree data-x-internal=flat-tree>flat tree</a>. <a href=references.html#refsCSSSCOPING>[CSSSCOPING]</a><dt>If <var>focus target</var> is the <a id=focus-processing-model:document-element href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a> of its
   <code id=focus-processing-model:document><a href=dom.html#document>Document</a></code><dd><p>Return the <code id=focus-processing-model:document-2><a href=dom.html#document>Document</a></code>'s <a id=focus-processing-model:viewport href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>.<dt>If <var>focus target</var> is a <a id=focus-processing-model:browsing-context-2 href=browsers.html#browsing-context>browsing context</a><dd><p>Return the <a id=focus-processing-model:browsing-context-3 href=browsers.html#browsing-context>browsing context</a>'s <a id=focus-processing-model:active-document href=browsers.html#active-document>active document</a>.<dt>If <var>focus target</var> is a <a id=focus-processing-model:browsing-context-container href=browsers.html#browsing-context-container>browsing context container</a> with a non-null
   <a id=focus-processing-model:nested-browsing-context href=browsers.html#nested-browsing-context>nested browsing context</a><dd><p>Return the <a id=focus-processing-model:browsing-context-container-2 href=browsers.html#browsing-context-container>browsing context container</a>'s <a id=focus-processing-model:nested-browsing-context-2 href=browsers.html#nested-browsing-context>nested browsing
   context</a>'s <a id=focus-processing-model:active-document-2 href=browsers.html#active-document>active document</a>.<dt>If <var>focus target</var> is a <a id=focus-processing-model:shadow-host href=https://dom.spec.whatwg.org/#element-shadow-host data-x-internal=shadow-host>shadow host</a> whose <a href=https://dom.spec.whatwg.org/#concept-element-shadow-root id=focus-processing-model:concept-element-shadow-root data-x-internal=concept-element-shadow-root>shadow root</a>'s <a id=focus-processing-model:delegates-focus href=https://dom.spec.whatwg.org/#shadowroot-delegates-focus data-x-internal=delegates-focus>delegates focus</a> is
   true<dd>
    <ol><li>If <var>focus target</var> is a <a id=focus-processing-model:shadow-including-inclusive-ancestor href=https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor data-x-internal=shadow-including-inclusive-ancestor>shadow-including inclusive ancestor</a> of the
     <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context>currently focused area of a top-level browsing context</a>'s <a href=#dom-anchor id=focus-processing-model:dom-anchor>DOM anchor</a>,
     then return null.<li>
      <p>Otherwise:</p>

      <ol><li>If <var>focus trigger</var> is "<code>click</code>", then let <var>possible
       focus delegates</var> be the list of all <a href=#click-focusable id=focus-processing-model:click-focusable>click focusable</a> <a href=#focusable-area id=focus-processing-model:focusable-area-4>focusable areas</a> whose <a href=#dom-anchor id=focus-processing-model:dom-anchor-2>DOM anchor</a> is a descendant
       of <var>focus target</var> in the <a id=focus-processing-model:flat-tree-2 href=https://drafts.csswg.org/css-scoping/#flat-tree data-x-internal=flat-tree>flat tree</a>.<li>Otherwise, let <var>possible focus delegates</var> be the list of all <a href=#focusable-area id=focus-processing-model:focusable-area-5>focusable areas</a> whose <a href=#dom-anchor id=focus-processing-model:dom-anchor-3>DOM anchor</a> is a descendant
       of <var>focus target</var> in the <a id=focus-processing-model:flat-tree-3 href=https://drafts.csswg.org/css-scoping/#flat-tree data-x-internal=flat-tree>flat tree</a>.<li>Return the first <a href=#focusable-area id=focus-processing-model:focusable-area-6>focusable area</a> in <a id=focus-processing-model:tree-order-2 href=https://dom.spec.whatwg.org/#concept-tree-order data-x-internal=tree-order>tree order</a> of their <a href=#dom-anchor id=focus-processing-model:dom-anchor-4>DOM anchors</a> in <var>possible focus delegates</var>, or null if
       <var>possible focus delegates</var> is empty.</ol>
     </ol>

    <p class=note>For <a href=#sequentially-focusable id=focus-processing-model:sequentially-focusable>sequential focusability</a>, the
    handling of <a href=https://dom.spec.whatwg.org/#element-shadow-host id=focus-processing-model:shadow-host-2 data-x-internal=shadow-host>shadow hosts</a> and <a id=focus-processing-model:delegates-focus-2 href=https://dom.spec.whatwg.org/#shadowroot-delegates-focus data-x-internal=delegates-focus>delegates focus</a> is
    done when constructing the <a href=#sequential-focus-navigation-order id=focus-processing-model:sequential-focus-navigation-order>sequential focus navigation order</a>. That is, the
    <a href=#focusing-steps id=focus-processing-model:focusing-steps>focusing steps</a> will never be called on such <a href=https://dom.spec.whatwg.org/#element-shadow-host id=focus-processing-model:shadow-host-3 data-x-internal=shadow-host>shadow
    hosts</a> as part of sequential focus navigation.</p>
   <dt>Otherwise<dd><p>Return null.</dl>

  <p>The <dfn id=focusing-steps data-export="">focusing steps</dfn> for an object <var>new focus target</var> that is either a
  <a href=#focusable-area id=focus-processing-model:focusable-area-7>focusable area</a>, or an element that is not a <a href=#focusable-area id=focus-processing-model:focusable-area-8>focusable area</a>, or a
  <a id=focus-processing-model:browsing-context-4 href=browsers.html#browsing-context>browsing context</a>, are as follows. They can optionally be run with a <var>fallback
  target</var> and a string <var>focus trigger</var>.</p>

  <ol><li><p>If <var>new focus target</var> is not a <a href=#focusable-area id=focus-processing-model:focusable-area-9>focusable area</a>, then set <var>new
   focus target</var> to the result of <a href=#get-the-focusable-area id=focus-processing-model:get-the-focusable-area>getting the focusable
   area</a> for <var>new focus target</var>, given <var>focus trigger</var> if it was
   passed.<li>
    <p>If <var>new focus target</var> is null, then:</p>

    <ol><li><p>If no <var>fallback target</var> was specified, then return.<li><p>Otherwise, set <var>new focus target</var> to the <var>fallback
     target</var>.</ol>
   <li>
    
    <p>If <var>new focus target</var> is a <a id=focus-processing-model:browsing-context-container-3 href=browsers.html#browsing-context-container>browsing context container</a> with
    non-null <a id=focus-processing-model:nested-browsing-context-3 href=browsers.html#nested-browsing-context>nested browsing context</a>, then set <var>new focus target</var> to the
    <a id=focus-processing-model:nested-browsing-context-4 href=browsers.html#nested-browsing-context>nested browsing context</a>'s <a id=focus-processing-model:active-document-3 href=browsers.html#active-document>active document</a>, and redo this step.</p>
   <li><p>If <var>new focus target</var> is a <a href=#focusable-area id=focus-processing-model:focusable-area-10>focusable area</a> and its <a href=#dom-anchor id=focus-processing-model:dom-anchor-5>DOM
   anchor</a> is <a href=#inert id=focus-processing-model:inert>inert</a>, then return.<li><p>If <var>new focus target</var> is the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-2>currently focused area of a
   top-level browsing context</a>, then return.<li><p>Let <var>old chain</var> be the <a href=#focus-chain id=focus-processing-model:focus-chain>focus chain</a> of the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-3>currently focused area of the
   top-level browsing context</a> in which <var>new focus target</var> finds
   itself.<li><p>Let <var>new chain</var> be the <a href=#focus-chain id=focus-processing-model:focus-chain-2>focus chain</a> of <var>new
   focus target</var>.<li><p>Run the <a href=#focus-update-steps id=focus-processing-model:focus-update-steps>focus update steps</a> with <var>old chain</var>, <var>new chain</var>, and <var>new focus target</var> respectively.</ol>

  <p>User agents must <a id=focus-processing-model:immediately href=infrastructure.html#immediately>immediately</a> run the <a href=#focusing-steps id=focus-processing-model:focusing-steps-2>focusing steps</a> for a
  <a href=#focusable-area id=focus-processing-model:focusable-area-11>focusable area</a> or <a id=focus-processing-model:browsing-context-5 href=browsers.html#browsing-context>browsing context</a> <var>candidate</var> whenever the
  user attempts to move the focus to <var>candidate</var>.</p>

  <p>The <dfn id=unfocusing-steps>unfocusing steps</dfn> for an object <var>old focus target</var> that is
  either a <a href=#focusable-area id=focus-processing-model:focusable-area-12>focusable area</a> or an element that is not a <a href=#focusable-area id=focus-processing-model:focusable-area-13>focusable area</a> are as
  follows:</p>

  <ol><li><p>If <var>old focus target</var> is <a href=#inert id=focus-processing-model:inert-2>inert</a>, then return.<li>
    <p>If <var>old focus target</var> is an <code id=focus-processing-model:the-area-element-3><a href=image-maps.html#the-area-element>area</a></code> element and one of its shapes is the
    <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-4>currently focused area of a top-level browsing context</a>, or, if <var>old focus
    target</var> is an element with one or more scrollable regions, and one of them is the
    <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-5>currently focused area of a top-level browsing context</a>, then let <var>old focus
    target</var> be that <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-6>currently focused area of a top-level browsing context</a>.</p>
   <li><p>Let <var>old chain</var> be the <a href=#focus-chain id=focus-processing-model:focus-chain-3>focus chain</a> of the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-7>currently
   focused area of a top-level browsing context</a>.<li><p>If <var>old focus target</var> is not one of the entries in <var>old
   chain</var>, then return.<li>
    <p>If <var>old focus target</var> is a <a href=#focusable-area id=focus-processing-model:focusable-area-14>focusable area</a>, then let <var>new
    focus target</var> be its <code id=focus-processing-model:document-3><a href=dom.html#document>Document</a></code>'s <a id=focus-processing-model:viewport-2 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>.</p>

    <p>Otherwise, let <var>new focus target</var> be null.</p>
   <li><p>If <var>new focus target</var> is not null, then run the <a href=#focusing-steps id=focus-processing-model:focusing-steps-3>focusing
   steps</a> for <var>new focus target</var>.</ol>

  <p>When the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-8>currently focused area of a top-level browsing context</a> is somehow
  unfocused without another element being explicitly focused in its stead, the user agent must
  <a id=focus-processing-model:immediately-2 href=infrastructure.html#immediately>immediately</a> run the <a href=#unfocusing-steps id=focus-processing-model:unfocusing-steps>unfocusing steps</a> for that object.</p>

  <p class=note>The <a href=#unfocusing-steps id=focus-processing-model:unfocusing-steps-2>unfocusing steps</a> do not always result in the focus changing, even
  when applied to the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-9>currently focused area of a top-level browsing context</a>. For
  example, if the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-10>currently focused area of a top-level browsing context</a> is a
  <a id=focus-processing-model:viewport-3 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>, then it will usually keep its focus regardless until another
  <a href=#focusable-area id=focus-processing-model:focusable-area-15>focusable area</a> is explicitly focused with the <a href=#focusing-steps id=focus-processing-model:focusing-steps-4>focusing steps</a>.</p>

  <hr>

  <p><dfn id=focus-fixup-rule>Focus fixup rule</dfn>: When the designated <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document>focused area of the document</a> is removed from that <code id=focus-processing-model:document-4><a href=dom.html#document>Document</a></code> in some
  way (e.g. it stops being a <a href=#focusable-area id=focus-processing-model:focusable-area-16>focusable area</a>, it is removed from the DOM, it becomes
  <a href=#expressly-inert id=focus-processing-model:expressly-inert>expressly inert</a>, etc.), designate the <code id=focus-processing-model:document-5><a href=dom.html#document>Document</a></code>'s <a id=focus-processing-model:viewport-4 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>
  to be the new <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document-2>focused area of the document</a>.</p>

  <p class=example>For example, this might happen because an element is removed from its
  <code id=focus-processing-model:document-6><a href=dom.html#document>Document</a></code>, or has a <code id=focus-processing-model:hidden-å±æ€§><a href=#hidden-å±æ€§>hidden</a></code> attribute added. It might
  also happen to an <code id=focus-processing-model:the-input-element><a href=input.html#the-input-element>input</a></code> element when the element gets <a href=form-control-infrastructure.html#concept-fe-disabled id=focus-processing-model:concept-fe-disabled>disabled</a>.</p>

  <p class=example>In a <code id=focus-processing-model:document-7><a href=dom.html#document>Document</a></code> whose <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document-3>focused area</a> is a <code id=focus-processing-model:the-button-element><a href=form-elements.html#the-button-element>button</a></code> element, removing, disabling, or hiding
  that button would cause the page's new <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document-4>focused
  area</a> to be the <a id=focus-processing-model:viewport-5 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a> of the <code id=focus-processing-model:document-8><a href=dom.html#document>Document</a></code>. This would, in turn,
  be reflected through the <code id=focus-processing-model:dom-documentorshadowroot-activeelement><a href=#dom-documentorshadowroot-activeelement>activeElement</a></code> API as <a id=focus-processing-model:the-body-element-2 href=dom.html#the-body-element-2>the body
  element</a>.</p>

  <hr>

  <p>The <dfn id=focus-update-steps>focus update steps</dfn>, given an <var>old chain</var>, a <var>new chain</var>, and a <var>new focus target</var> respectively, are as
  follows:</p>

  <ol><li><p>If the last entry in <var>old chain</var> and the last entry in <var>new chain</var> are the same, pop the last entry from <var>old chain</var>
   and the last entry from <var>new chain</var> and redo this step.<li>
    <p>For each entry <var>entry</var> in <var>old chain</var>, in order, run
    these substeps:</p>

    <ol><li id=unfocus-causes-change-event><p>If <var>entry</var> is an <code id=focus-processing-model:the-input-element-2><a href=input.html#the-input-element>input</a></code>
     element, and the <code id=focus-processing-model:event-change><a href=indices.html#event-change>change</a></code> event <a href=input.html#concept-input-apply id=focus-processing-model:concept-input-apply>applies</a> to the element, and the element does not have a
     defined <a id=focus-processing-model:activation-behaviour href=https://dom.spec.whatwg.org/#eventtarget-activation-behavior data-x-internal=activation-behaviour>activation behavior</a>, and the user has changed the element's <a href=form-control-infrastructure.html#concept-fe-value id=focus-processing-model:concept-fe-value>value</a> or its list of <a href=input.html#concept-input-type-file-selected id=focus-processing-model:concept-input-type-file-selected>selected files</a> while the control was focused
     without committing that change (such that it is different to what it was when the control was
     first focused), then <a href=https://dom.spec.whatwg.org/#concept-event-fire id=focus-processing-model:concept-event-fire data-x-internal=concept-event-fire>fire an event</a> named <code id=focus-processing-model:event-change-2><a href=indices.html#event-change>change</a></code> at the element, with the <code id=focus-processing-model:dom-event-bubbles><a data-x-internal=dom-event-bubbles href=https://dom.spec.whatwg.org/#dom-event-bubbles>bubbles</a></code> attribute initialized to true.</p>

     <li>
      <p>If <var>entry</var> is an element, let <var>blur event target</var> be
      <var>entry</var>.</p>

      <p>If <var>entry</var> is a <code id=focus-processing-model:document-9><a href=dom.html#document>Document</a></code> object, let <var>blur event target</var> be
      that <code id=focus-processing-model:document-10><a href=dom.html#document>Document</a></code> object's <a id=focus-processing-model:concept-relevant-global href=webappapis.html#concept-relevant-global>relevant global object</a>.</p>

      <p>Otherwise, let <var>blur event target</var> be null.</p>
     <li><p>If <var>entry</var> is the last entry in <var>old chain</var>, and
     <var>entry</var> is an <code id=focus-processing-model:element><a data-x-internal=element href=https://dom.spec.whatwg.org/#interface-element>Element</a></code>, and the last entry in <var>new
     chain</var> is also an <code id=focus-processing-model:element-2><a data-x-internal=element href=https://dom.spec.whatwg.org/#interface-element>Element</a></code>, then let <var>related blur target</var>
     be the last entry in <var>new chain</var>. Otherwise, let <var>related blur
     target</var> be null.<li>
      <p>If <var>blur event target</var> is not null, <a href=#fire-a-focus-event id=focus-processing-model:fire-a-focus-event>fire a focus event</a>
      named <code id=focus-processing-model:event-blur><a href=indices.html#event-blur>blur</a></code> at <var>blur event target</var>, with
      <var>related blur target</var> as the related target.</p>

      <p class=note>In some cases, e.g. if <var>entry</var> is an <code id=focus-processing-model:the-area-element-4><a href=image-maps.html#the-area-element>area</a></code>
      element's shape, a scrollable region, or a <a id=focus-processing-model:viewport-6 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>, no event is fired.</p>
     </ol>
   <li><p>Apply any relevant platform-specific conventions for focusing <var>new focus
   target</var>. (For example, some platforms select the contents of a text control when that
   control is focused.)<li>
    <p>For each entry <var>entry</var> in <var>new chain</var>, in reverse
    order, run these substeps:</p>

    <ol><li>
      <p>If <var>entry</var> is a <a href=#focusable-area id=focus-processing-model:focusable-area-17>focusable area</a>: designate <var>entry</var> as the
      <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document-5>focused area of the document</a>.</p>
     <li>
      <p>If <var>entry</var> is an element, let <var>focus event target</var> be
      <var>entry</var>.</p>

      <p>If <var>entry</var> is a <code id=focus-processing-model:document-11><a href=dom.html#document>Document</a></code> object, let <var>focus event target</var> be
      that <code id=focus-processing-model:document-12><a href=dom.html#document>Document</a></code> object's <a id=focus-processing-model:concept-relevant-global-2 href=webappapis.html#concept-relevant-global>relevant global object</a>.</p>

      <p>Otherwise, let <var>focus event target</var> be null.</p>
     <li><p>If <var>entry</var> is the last entry in <var>new chain</var>, and
     <var>entry</var> is an <code id=focus-processing-model:element-3><a data-x-internal=element href=https://dom.spec.whatwg.org/#interface-element>Element</a></code>, and the last entry in <var>old
     chain</var> is also an <code id=focus-processing-model:element-4><a data-x-internal=element href=https://dom.spec.whatwg.org/#interface-element>Element</a></code>, then let <var>related focus target</var>
     be the last entry in <var>old chain</var>. Otherwise, let <var>related
     focus target</var> be null.<li>
      <p>If <var>focus event target</var> is not null, <a href=#fire-a-focus-event id=focus-processing-model:fire-a-focus-event-2>fire a focus event</a>
      named <code id=focus-processing-model:event-focus><a href=indices.html#event-focus>focus</a></code> at <var>focus event target</var>, with
      <var>related focus target</var> as the related target.</p>

      <p class=note>In some cases, e.g. if <var>entry</var> is an <code id=focus-processing-model:the-area-element-5><a href=image-maps.html#the-area-element>area</a></code>
      element's shape, a scrollable region, or a <a id=focus-processing-model:viewport-7 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>, no event is fired.</p>
     </ol>
   </ol>

  <p>To <dfn id=fire-a-focus-event>fire a focus event</dfn> named <var>e</var> at an element <var>t</var> with a given
  related target <var>r</var>, <a href=https://dom.spec.whatwg.org/#concept-event-fire id=focus-processing-model:concept-event-fire-2 data-x-internal=concept-event-fire>fire an event</a> named
  <var>e</var> at <var>t</var>, using <code id=focus-processing-model:focusevent><a data-x-internal=focusevent href=https://w3c.github.io/uievents/#focusevent>FocusEvent</a></code>, with the <code id=focus-processing-model:dom-focusevent-relatedtarget><a data-x-internal=dom-focusevent-relatedtarget href=https://w3c.github.io/uievents/#dom-focusevent-relatedtarget>relatedTarget</a></code> attribute initialized to <var>r</var>,
  the <code id=focus-processing-model:dom-uievent-view><a data-x-internal=dom-uievent-view href=https://w3c.github.io/uievents/#dom-uievent-view>view</a></code> attribute initialized to <var>t</var>'s
  <a id=focus-processing-model:node-document href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a>'s <a id=focus-processing-model:concept-relevant-global-3 href=webappapis.html#concept-relevant-global>relevant global object</a>, and the <a id=focus-processing-model:composed-flag href=https://dom.spec.whatwg.org/#composed-flag data-x-internal=composed-flag>composed
  flag</a> set.</p>

  <hr>

  <p>When a key event is to be routed in a <a id=focus-processing-model:top-level-browsing-context href=browsers.html#top-level-browsing-context>top-level browsing context</a>, the user agent
  must run the following steps:</p>

  

  <ol><li><p>Let <var>target area</var> be the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-11>currently focused area of the top-level browsing
   context</a>.<li><p>If <var>target area</var> is a <a href=#focusable-area id=focus-processing-model:focusable-area-18>focusable area</a>, let <var>target
   node</var> be <var>target area</var>'s <a href=#dom-anchor id=focus-processing-model:dom-anchor-6>DOM anchor</a>. Otherwise, <var>target area</var> is a <code id=focus-processing-model:the-dialog-element><a href=interactive-elements.html#the-dialog-element>dialog</a></code>; let <var>target node</var> be
   <var>target area</var>.<li>
    <p>If <var>target node</var> is a <code id=focus-processing-model:document-13><a href=dom.html#document>Document</a></code> that has a <a href=dom.html#the-body-element-2 id=focus-processing-model:the-body-element-2-2>body element</a>, then let <var>target node</var> be <a id=focus-processing-model:the-body-element-2-3 href=dom.html#the-body-element-2>the body
    element</a> of that <code id=focus-processing-model:document-14><a href=dom.html#document>Document</a></code>.</p>

    <p>Otherwise, if <var>target node</var> is a <code id=focus-processing-model:document-15><a href=dom.html#document>Document</a></code> object that has a non-null
    <a id=focus-processing-model:document-element-2 href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a>, then let <var>target node</var> be that <a id=focus-processing-model:document-element-3 href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document
    element</a>.</p>
   <li>
    <p>If <var>target node</var> is not <a href=#inert id=focus-processing-model:inert-3>inert</a>, then:</p>

    <p class=note>It is possible for the <a href=#currently-focused-area-of-a-top-level-browsing-context id=focus-processing-model:currently-focused-area-of-a-top-level-browsing-context-12>currently focused area of a top-level browsing
    context</a> to be <a href=#inert id=focus-processing-model:inert-4>inert</a>, for example if a <a href=interactive-elements.html#dom-dialog-showmodal id=focus-processing-model:dom-dialog-showmodal>modal dialog is shown</a>, and then that <code id=focus-processing-model:the-dialog-element-2><a href=interactive-elements.html#the-dialog-element>dialog</a></code>
    element is made <a href=#inert id=focus-processing-model:inert-5>inert</a>. It is likely to be the result of a logic error in the
    application, though.</p>

    <ol><li><p>Let <var>canHandle</var> be the result of <a href=https://dom.spec.whatwg.org/#concept-event-dispatch id=focus-processing-model:concept-event-dispatch data-x-internal=concept-event-dispatch>dispatching</a> the key event at <var>target
     node</var>.<li><p>If <var>canHandle</var> is true, then let <var>target area</var> handle the key event.
     This might include <a href=webappapis.html#fire-a-click-event id=focus-processing-model:fire-a-click-event>firing a <code>click</code> event</a> at <var>target node</var>.</ol>
   </ol>

  <hr>

  <p>The <dfn id=has-focus-steps data-export="">has focus steps</dfn>, given a <code id=focus-processing-model:document-16><a href=dom.html#document>Document</a></code> object <var>target</var>,
  are as follows:</p>

  <ol><li><p>Let <var>candidate</var> be <var>target</var>'s <a id=focus-processing-model:top-level-browsing-context-2 href=browsers.html#top-level-browsing-context>top-level browsing context</a>'s
   <a id=focus-processing-model:active-document-4 href=browsers.html#active-document>active document</a>.<li>
    <p>While true:</p>

    <ol><li><p>If <var>candidate</var> is <var>target</var>, then return true.<li><p>If the <a href=#focused-area-of-the-document id=focus-processing-model:focused-area-of-the-document-6>focused area</a> of
     <var>candidate</var> is a <a id=focus-processing-model:browsing-context-container-4 href=browsers.html#browsing-context-container>browsing context container</a> with a non-null <a id=focus-processing-model:nested-browsing-context-5 href=browsers.html#nested-browsing-context>nested
     browsing context</a>, then set <var>candidate</var> to the <a id=focus-processing-model:active-document-5 href=browsers.html#active-document>active document</a> of
     that <a id=focus-processing-model:browsing-context-container-5 href=browsers.html#browsing-context-container>browsing context container</a>'s <a id=focus-processing-model:nested-browsing-context-6 href=browsers.html#nested-browsing-context>nested browsing context</a>.<li><p>Otherwise, return false.</ol>
   </ol>




  <h4 id=sequential-focus-navigation><span class=secno>6.5.5</span> <dfn>Sequential focus navigation</dfn><a href=#sequential-focus-navigation class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/focus/sequential-focus-navigation.zh.html?filename=sequential-focus-navigation.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffocus%2Fsequential-focus-navigation.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/sequential-focus-navigation.en.html></div>

  <p>Each <code id=sequential-focus-navigation:document><a href=dom.html#document>Document</a></code> has a <dfn id=sequential-focus-navigation-order>sequential focus navigation order</dfn>, which orders some
  or all of the <a href=#focusable-area id=sequential-focus-navigation:focusable-area>focusable areas</a> in the <code id=sequential-focus-navigation:document-2><a href=dom.html#document>Document</a></code>
  relative to each other. Its contents and ordering are given by the <a href=#flattened-tabindex-ordered-focus-navigation-scope id=sequential-focus-navigation:flattened-tabindex-ordered-focus-navigation-scope>flattened
  tabindex-ordered focus navigation scope</a> of the <code id=sequential-focus-navigation:document-3><a href=dom.html#document>Document</a></code>.</p>

  <p class=note>Per the rules defining the <a href=#flattened-tabindex-ordered-focus-navigation-scope id=sequential-focus-navigation:flattened-tabindex-ordered-focus-navigation-scope-2>flattened tabindex-ordered focus navigation
  scope</a>, the ordering is not necessarily related to the <a id=sequential-focus-navigation:tree-order href=https://dom.spec.whatwg.org/#concept-tree-order data-x-internal=tree-order>tree order</a> of the
  <code id=sequential-focus-navigation:document-4><a href=dom.html#document>Document</a></code>.</p>

  <p>If a <a href=#focusable-area id=sequential-focus-navigation:focusable-area-2>focusable area</a> is omitted from the <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order>sequential focus navigation
  order</a> of its <code id=sequential-focus-navigation:document-5><a href=dom.html#document>Document</a></code>, then it is unreachable via <a href=#sequential-focus-navigation id=sequential-focus-navigation:sequential-focus-navigation>sequential focus
  navigation</a>.</p>

  <p>There can also be a <dfn id=sequential-focus-navigation-starting-point>sequential focus navigation starting point</dfn>. It is initially
  unset. The user agent may set it when the user indicates that it should be moved.</p>

  <p class=example>For example, the user agent could set it to the position of the user's click if
  the user clicks on the document contents.</p>

  <p class=note>User agents are required to set the <a href=#sequential-focus-navigation-starting-point id=sequential-focus-navigation:sequential-focus-navigation-starting-point>sequential focus navigation starting
  point</a> to the <a id=sequential-focus-navigation:target-element href=browsing-the-web.html#target-element>target element</a> when <a href=browsing-the-web.html#navigate-fragid id=sequential-focus-navigation:navigate-fragid>navigating
  to a fragment</a>.</p>

  <p>When the user requests that focus move from the <a href=#currently-focused-area-of-a-top-level-browsing-context id=sequential-focus-navigation:currently-focused-area-of-a-top-level-browsing-context>currently focused area of a top-level
  browsing context</a> to the next or previous <a href=#focusable-area id=sequential-focus-navigation:focusable-area-3>focusable area</a> (e.g. as the default action
  of pressing the <kbd><kbd>tab</kbd></kbd> key), or when the user requests that focus sequentially move to a
  <a id=sequential-focus-navigation:top-level-browsing-context href=browsers.html#top-level-browsing-context>top-level browsing context</a> in the first place (e.g. from the browser's location bar),
  the user agent must use the following algorithm:</p>

  <ol><li><p>Let <var>starting point</var> be the <a href=#currently-focused-area-of-a-top-level-browsing-context id=sequential-focus-navigation:currently-focused-area-of-a-top-level-browsing-context-2>currently focused area of a top-level
   browsing context</a>, if the user requested to move focus sequentially from there, or else the
   <a id=sequential-focus-navigation:top-level-browsing-context-2 href=browsers.html#top-level-browsing-context>top-level browsing context</a> itself, if the user instead requested to move focus from
   outside the <a id=sequential-focus-navigation:top-level-browsing-context-3 href=browsers.html#top-level-browsing-context>top-level browsing context</a>.<li><p>If there is a <a href=#sequential-focus-navigation-starting-point id=sequential-focus-navigation:sequential-focus-navigation-starting-point-2>sequential focus navigation starting point</a> defined and it is
   inside <var>starting point</var>, then let <var>starting point</var> be the <a href=#sequential-focus-navigation-starting-point id=sequential-focus-navigation:sequential-focus-navigation-starting-point-3>sequential
   focus navigation starting point</a> instead.<li>
    <p>Let <var>direction</var> be <i>forward</i> if the user requested the <em>next</em>
    control, and <i>backward</i> if the user requested the previous control.</p>

    <p class=note>Typically, pressing <kbd><kbd>tab</kbd></kbd> requests the next control, and pressing
    <kbd><kbd>shift</kbd>+<kbd>tab</kbd></kbd> requests the previous control.</p>
   <li>
    <p><i>Loop</i>: Let <var>selection mechanism</var> be <i>sequential</i> if the <var>starting
    point</var> is a <a id=sequential-focus-navigation:browsing-context href=browsers.html#browsing-context>browsing context</a> or if <var>starting point</var> is in its
    <code id=sequential-focus-navigation:document-6><a href=dom.html#document>Document</a></code>'s <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order-2>sequential focus navigation order</a>.</p>

    <p>Otherwise, <var>starting point</var> is not in its <code id=sequential-focus-navigation:document-7><a href=dom.html#document>Document</a></code>'s
    <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order-3>sequential focus navigation order</a>; let <var>selection mechanism</var> be
    <i>DOM</i>.</p>
   <li><p>Let <var>candidate</var> be the result of running the <a href=#sequential-navigation-search-algorithm id=sequential-focus-navigation:sequential-navigation-search-algorithm>sequential navigation search
   algorithm</a> with <var>starting point</var>, <var>direction</var>, and <var>selection
   mechanism</var> as the arguments.<li><p>If <var>candidate</var> is not null, then run the <a href=#focusing-steps id=sequential-focus-navigation:focusing-steps>focusing steps</a> for
   <var>candidate</var> and return.<li><p>Otherwise, unset the <a href=#sequential-focus-navigation-starting-point id=sequential-focus-navigation:sequential-focus-navigation-starting-point-4>sequential focus navigation starting point</a>.<li>
    <p>If <var>starting point</var> is the <a id=sequential-focus-navigation:top-level-browsing-context-4 href=browsers.html#top-level-browsing-context>top-level browsing context</a>, or a
    <a href=#focusable-area id=sequential-focus-navigation:focusable-area-4>focusable area</a> in the <a id=sequential-focus-navigation:top-level-browsing-context-5 href=browsers.html#top-level-browsing-context>top-level browsing context</a>, the user agent
    should transfer focus to its own controls appropriately (if any), honouring
    <var>direction</var>, and then return.</p>

    <p class=example>For example, if <var>direction</var> is <i>backward</i>, then the last
    <a href=#sequentially-focusable id=sequential-focus-navigation:sequentially-focusable>sequentially focusable</a> control before the browser's rendering area would be the
    control to focus.</p>

    <p>If the user agent has no <a href=#sequentially-focusable id=sequential-focus-navigation:sequentially-focusable-2>sequentially focusable</a> controls â€” a kiosk-mode
    browser, for instance â€”  then the user agent may instead restart these steps with the
    <var>starting point</var> being the <a id=sequential-focus-navigation:top-level-browsing-context-6 href=browsers.html#top-level-browsing-context>top-level browsing context</a> itself.</p>

    
   <li><p>Otherwise, <var>starting point</var> is a <a href=#focusable-area id=sequential-focus-navigation:focusable-area-5>focusable area</a> in a <a id=sequential-focus-navigation:child-browsing-context href=browsers.html#child-browsing-context>child
   browsing context</a>. Set <var>starting point</var> to that <a id=sequential-focus-navigation:child-browsing-context-2 href=browsers.html#child-browsing-context>child browsing
   context</a>'s <a href=browsers.html#bc-container id=sequential-focus-navigation:bc-container>container</a> and return to the step labeled
   <i>loop</i>.</ol>


  <p>The <dfn id=sequential-navigation-search-algorithm>sequential navigation search algorithm</dfn> consists of the following steps. This
  algorithm takes three arguments: <var>starting point</var>, <var>direction</var>,
  and <var>selection mechanism</var>.</p>

  <ol><li>
    <p>Pick the appropriate cell from the following table, and follow the instructions in that
    cell.</p>

    <p>The appropriate cell is the one that is from the column whose header describes <var>direction</var> and from the first row whose header describes <var>starting point</var> and <var>selection mechanism</var>.</p>

    <table><thead><tr><th>
       <th> <var>direction</var> is <i>forward</i>
       <th> <var>direction</var> is <i>backward</i>
     <tbody><tr><th><var>starting point</var> is a <a id=sequential-focus-navigation:browsing-context-2 href=browsers.html#browsing-context>browsing context</a>
       <td>Let <var>candidate</var> be the first <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area>suitable sequentially focusable area</a>
       in <var>starting point</var>'s <a id=sequential-focus-navigation:active-document href=browsers.html#active-document>active document</a>, if any; or else null
       <td>Let <var>candidate</var> be the last <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area-2>suitable sequentially focusable area</a>
       in <var>starting point</var>'s <a id=sequential-focus-navigation:active-document-2 href=browsers.html#active-document>active document</a>, if any; or else null
      <tr><th><var>selection mechanism</var> is <i>DOM</i>
       <td>Let <var>candidate</var> be the first <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area-3>suitable sequentially focusable area</a>
       in the <a href=#home-document id=sequential-focus-navigation:home-document>home document</a> following <var>starting point</var>, if any; or else null
       <td>Let <var>candidate</var> be the last <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area-4>suitable sequentially focusable area</a>
       in the <a href=#home-document id=sequential-focus-navigation:home-document-2>home document</a> preceding <var>starting point</var>, if any; or else null
      <tr><th><var>selection mechanism</var> is <i>sequential</i>
       <td>Let <var>candidate</var> be the first <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area-5>suitable sequentially focusable area</a> in the <a href=#home-sequential-focus-navigation-order id=sequential-focus-navigation:home-sequential-focus-navigation-order>home sequential focus navigation order</a> following <var>starting point</var>, if any; or else null
       <td>Let <var>candidate</var> be the last <a href=#suitable-sequentially-focusable-area id=sequential-focus-navigation:suitable-sequentially-focusable-area-6>suitable sequentially focusable area</a> in the <a href=#home-sequential-focus-navigation-order id=sequential-focus-navigation:home-sequential-focus-navigation-order-2>home sequential focus navigation order</a> preceding <var>starting point</var>, if any; or else null

    </table>

    <p>A <dfn id=suitable-sequentially-focusable-area>suitable sequentially focusable area</dfn> is a <a href=#focusable-area id=sequential-focus-navigation:focusable-area-6>focusable area</a> whose
    <a href=#dom-anchor id=sequential-focus-navigation:dom-anchor>DOM anchor</a> is not <a href=#inert id=sequential-focus-navigation:inert>inert</a> and is <a href=#sequentially-focusable id=sequential-focus-navigation:sequentially-focusable-3>sequentially
    focusable</a>.</p>

    <p>The <dfn id=home-document>home document</dfn> is the <code id=sequential-focus-navigation:document-8><a href=dom.html#document>Document</a></code> to which <var>starting point</var>
    belongs.</p>

    <p>The <dfn id=home-sequential-focus-navigation-order>home sequential focus navigation order</dfn> is the <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order-4>sequential focus
    navigation order</a> to which <var>starting point</var> belongs.</p>

    <p class=note>The <a href=#home-sequential-focus-navigation-order id=sequential-focus-navigation:home-sequential-focus-navigation-order-3>home sequential focus navigation order</a> is the <a href=#home-document id=sequential-focus-navigation:home-document-3>home
    document</a>'s <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order-5>sequential focus navigation order</a>, but is only used when the
    <var>starting point</var> is in that <a href=#sequential-focus-navigation-order id=sequential-focus-navigation:sequential-focus-navigation-order-6>sequential focus navigation order</a>
    (when it's not, <var>selection mechanism</var> will be <i>DOM</i>).</p>
   <li>
    <p>If <var>candidate</var> is a <a id=sequential-focus-navigation:browsing-context-container href=browsers.html#browsing-context-container>browsing context container</a> with a non-null
    <a id=sequential-focus-navigation:nested-browsing-context href=browsers.html#nested-browsing-context>nested browsing context</a>, then let <var>new candidate</var> be the result of running
    the <a href=#sequential-navigation-search-algorithm id=sequential-focus-navigation:sequential-navigation-search-algorithm-2>sequential navigation search algorithm</a> with <var>candidate</var>'s <a id=sequential-focus-navigation:nested-browsing-context-2 href=browsers.html#nested-browsing-context>nested
    browsing context</a> as the first argument, <var>direction</var> as the second, and
    <i>sequential</i>  as the third.</p>

    <p>If <var>new candidate</var> is null, then let <var>starting point</var>
    be <var>candidate</var>, and return to the top of this algorithm. Otherwise, let
    <var>candidate</var> be <var>new candidate</var>.</p>
   <li><p>Return <var>candidate</var>.</ol>

  



  <h4 id=focus-management-apis><span class=secno>6.5.6</span> Focus management APIs<a href=#focus-management-apis class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/focus/focus-management-apis.zh.html?filename=focus-management-apis.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffocus%2Ffocus-management-apis.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/focus-management-apis.en.html></div>

  <pre><code class=idl>dictionary <dfn id=focusoptions>FocusOptions</dfn> {
  boolean <a href=#dom-focusoptions-preventscroll id=focus-management-apis:dom-focusoptions-preventscroll>preventScroll</a> = false;
};</code></pre>

  <dl class=domintro><dt><var>documentOrShadowRoot</var> . <code id=dom-documentorshadowroot-activeelement-dev><a href=#dom-documentorshadowroot-activeelement>activeElement</a></code><dd>
    <p>Returns the deepest element in the document through which or to which key events are being
    routed. This is, roughly speaking, the focused element in the document.</p>

    <p>For the purposes of this API, when a <a id=focus-management-apis:child-browsing-context href=browsers.html#child-browsing-context>child browsing context</a> is focused, its
    <a href=browsers.html#bc-container id=focus-management-apis:bc-container>container</a> is <a href=#bc-focus-ergo-bcc-focus>focused</a>
    in the <a id=focus-management-apis:parent-browsing-context href=browsers.html#parent-browsing-context>parent browsing context</a>. For example, if the user moves the focus to a text
    control in an <code id=focus-management-apis:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>, the <code id=focus-management-apis:the-iframe-element-2><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code> is the element returned by the <code id=focus-management-apis:dom-documentorshadowroot-activeelement><a href=#dom-documentorshadowroot-activeelement>activeElement</a></code> API in the
    <code id=focus-management-apis:the-iframe-element-3><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>'s <a id=focus-management-apis:node-document href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a>.</p>

    <p>Similarly, when the focused element is in a different <a id=focus-management-apis:node-tree href=https://dom.spec.whatwg.org/#concept-node-tree data-x-internal=node-tree>node tree</a> than
    <var>documentOrShadowRoot</var>, the element returned will be the
    <a href=https://dom.spec.whatwg.org/#concept-documentfragment-host id=focus-management-apis:concept-documentfragment-host data-x-internal=concept-documentfragment-host>host</a> that's located in the same
    <a id=focus-management-apis:node-tree-2 href=https://dom.spec.whatwg.org/#concept-node-tree data-x-internal=node-tree>node tree</a> as <var>documentOrShadowRoot</var> if  <var>documentOrShadowRoot</var>
    is a <a id=focus-management-apis:shadow-including-inclusive-ancestor href=https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor data-x-internal=shadow-including-inclusive-ancestor>shadow-including inclusive ancestor</a> of the focused element, and null if
    not.</p>
   <dt><var>document</var> . <code id=dom-document-hasfocus-dev><a href=#dom-document-hasfocus>hasFocus</a></code>()<dd>
    <p>Returns true if key events are being routed through or to the document; otherwise, returns
    false. Roughly speaking, this corresponds to the document, or a document nested inside this
    one, being focused.</p>
   <dt><var>window</var> . <code id=dom-window-focus-dev><a href=#dom-window-focus>focus</a></code>()<dd>
    

    <p>Moves the focus to the window's <a href=window-object.html#window-bc id=focus-management-apis:window-bc>browsing context</a>, if any.</p>
   <dt><var>element</var> . <code id=dom-focus-dev><a href=#dom-focus>focus</a></code>([ { <code id=focus-management-apis:dom-focusoptions-preventscroll-2><a href=#dom-focusoptions-preventscroll>preventScroll</a></code>: true } ])<dd>
    <p>Moves the focus to the element.</p>

    <p>If the element is a <a id=focus-management-apis:browsing-context-container href=browsers.html#browsing-context-container>browsing context container</a>, moves the focus to its
    <a id=focus-management-apis:nested-browsing-context href=browsers.html#nested-browsing-context>nested browsing context</a> instead.</p>

    <p>By default, this method also scrolls the element into view. Providing the <code id=focus-management-apis:dom-focusoptions-preventscroll-3><a href=#dom-focusoptions-preventscroll>preventScroll</a></code> option and setting it to true
    prevents this behavior.</p>
   <dt><var>element</var> . <code id=dom-blur-dev><a href=#dom-blur>blur</a></code>()<dd>
    <p>Moves the focus to the <a id=focus-management-apis:viewport href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>. Use of this method is discouraged; if you want
    to focus the <a id=focus-management-apis:viewport-2 href=https://drafts.csswg.org/css2/#viewport data-x-internal=viewport>viewport</a>, call the <code id=focus-management-apis:dom-focus><a href=#dom-focus>focus()</a></code> method on
    the <code id=focus-management-apis:document><a href=dom.html#document>Document</a></code>'s <a id=focus-management-apis:document-element href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a>.</p>

    <p>Do not use this method to hide the focus ring if you find the focus ring unsightly. Instead,
    use a CSS rule to override the <a id="focus-management-apis:'outline'" href=https://drafts.csswg.org/css-ui/#outline data-x-internal="'outline'">'outline'</a> property, and provide a different way to
    show what element is focused. Be aware that if an alternative focusing style isn't made
    available, the page will be significantly less usable for people who primarily navigate pages
    using a keyboard, or those with reduced vision who use focus outlines to help them navigate the
    page.</p>

    

    <div class=example>

     <p>For example, to hide the outline from links and instead use a yellow background to indicate
     focus, you could use:</p>

     <pre><code class=css>:link:focus, :visited:focus { outline: none; background: yellow; color: black; }</code></pre>

    </div>
   </dl>

  

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/activeElement title="The activeElement read-only property of the Document and ShadowRoot interfaces returns the Element within the DOM or shadow DOM tree that currently has focus.">DocumentOrShadowRoot/activeElement</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>63+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>53+</span></span><hr><span class="opera yes"><span>Opera</span><span>40+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>63+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>3.2+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>53+</span></span><span class="webview_android yes"><span>WebView Android</span><span>53+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>6.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>41+</span></span></div></div></div><p id=dom-document-activeelement>The <dfn id=dom-documentorshadowroot-activeelement><code>activeElement</code></dfn> attribute's getter must
  run these steps:</p>

  <ol><li><p>Let <var>candidate</var> be the <a href=#dom-anchor id=focus-management-apis:dom-anchor>DOM anchor</a> of the <a href=#focused-area-of-the-document id=focus-management-apis:focused-area-of-the-document>focused area</a> of this <code id=focus-management-apis:documentorshadowroot><a href=dom.html#documentorshadowroot>DocumentOrShadowRoot</a></code>'s <a id=focus-management-apis:node-document-2 href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node
   document</a>.<li><p>Set <var>candidate</var> to the result of <a href=https://dom.spec.whatwg.org/#retarget id=focus-management-apis:dom-retarget data-x-internal=dom-retarget>retargeting</a>
   <var>candidate</var> against this <code id=focus-management-apis:documentorshadowroot-2><a href=dom.html#documentorshadowroot>DocumentOrShadowRoot</a></code>.<li><p>If <var>candidate</var>'s <a id=focus-management-apis:root href=https://dom.spec.whatwg.org/#concept-tree-root data-x-internal=root>root</a> is not this <code id=focus-management-apis:documentorshadowroot-3><a href=dom.html#documentorshadowroot>DocumentOrShadowRoot</a></code>,
   then return null.<li><p>If <var>candidate</var> is not a <code id=focus-management-apis:document-2><a href=dom.html#document>Document</a></code> object, then return
   <var>candidate</var>.<li><p>If <var>candidate</var> has a <a href=dom.html#the-body-element-2 id=focus-management-apis:the-body-element-2>body element</a>, then
   return that <a href=dom.html#the-body-element-2 id=focus-management-apis:the-body-element-2-2>body element</a>.<li><p>If <var>candidate</var>'s <a id=focus-management-apis:document-element-2 href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a> is non-null, then return that
   <a id=focus-management-apis:document-element-3 href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document element</a>.<li><p>Return null.</ol>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/hasFocus title="The hasFocus() method of the Document interface returns a Boolean value indicating whether the document or any element inside the document has focus. This method can be used to determine whether the active element in a document has focus.">Document/hasFocus</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>15+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>6+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>3.2+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>14+</span></span></div></div></div><p>The <dfn id=dom-document-hasfocus><code>hasFocus()</code></dfn> method on the
  <code id=focus-management-apis:document-3><a href=dom.html#document>Document</a></code> object, when invoked, must return the result of running the <a href=#has-focus-steps id=focus-management-apis:has-focus-steps>has focus
  steps</a> with the <code id=focus-management-apis:document-4><a href=dom.html#document>Document</a></code> object as the argument.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/focus title="Makes a request to bring the window to the front. It may fail due to user settings and the window isn't guaranteed to be frontmost before this method returns.">Window/focus</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><p>The <dfn data-dfn-for=Window id=dom-window-focus><code>focus()</code></dfn> method, when
  invoked, must run these steps:</p>

  <ol><li><p>Let <var>current</var> be this <code id=focus-management-apis:window><a href=window-object.html#window>Window</a></code> object's <a href=window-object.html#window-bc id=focus-management-apis:window-bc-2>browsing context</a>.<li><p>If <var>current</var> is null, then return.<li><p>Run the <a href=#focusing-steps id=focus-management-apis:focusing-steps>focusing steps</a> with <var>current</var>.<li><p>If <var>current</var> is a <a id=focus-management-apis:top-level-browsing-context href=browsers.html#top-level-browsing-context>top-level browsing context</a>, user agents are
   encouraged to trigger some sort of notification to indicate to the user that the page is
   attempting to gain focus.</ol>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/blur title="Shifts focus away from the window.">Window/blur</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><p>The <dfn data-dfn-for=Window id=dom-window-blur><code>blur()</code></dfn> method, when invoked,
  provides a hint to the user agent that the script believes the user probably is not currently
  interested in the contents of this <code id=focus-management-apis:window-2><a href=window-object.html#window>Window</a></code> object's <a href=window-object.html#window-bc id=focus-management-apis:window-bc-3>browsing
  context</a>, if non-null, but that the contents might become interesting again in the
  future.</p>

  <p>User agents are encouraged to ignore calls to this <code id=focus-management-apis:dom-window-blur><a href=#dom-window-blur>blur()</a></code>
  method entirely.</p>

  <p class=note>Historically, the <code id=focus-management-apis:dom-window-blur-2><a href=#dom-window-blur>focus()</a></code> and <code id=focus-management-apis:dom-window-blur-3><a href=#dom-window-blur>blur()</a></code> methods actually affected the system-level focus of the
  system widget (e.g., tab or window) that contained the <a id=focus-management-apis:browsing-context href=browsers.html#browsing-context>browsing context</a>, but hostile
  sites widely abuse this behavior to the user's detriment.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/focus title="The HTMLElement.focus() method sets focus on the specified element, if it can be focused. The focused element is the element which will receive keyboard and similar events by default.">HTMLOrForeignElement/focus</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>5+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>8+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>5+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><p>The <dfn data-dfn-for=Window id=dom-focus data-dfn-type=method><code>focus(<var>options</var>)</code></dfn>
  method on elements, when invoked, must run the following steps:</p>

  <ol><li><p>If the element is marked as <i id=focus-management-apis:locked-for-focus><a href=#locked-for-focus>locked for focus</a></i>, then return.<li><p>Mark the element as <dfn id=locked-for-focus>locked for focus</dfn>.<li><p>Run the <a href=#focusing-steps id=focus-management-apis:focusing-steps-2>focusing steps</a> for the element.<li><p>If the value of the <dfn id=dom-focusoptions-preventscroll><code>preventScroll</code></dfn> dictionary member of
   <var>options</var> is false, then <a href=https://drafts.csswg.org/cssom-view/#scroll-an-element-into-view id=focus-management-apis:scroll-an-element-into-view data-x-internal=scroll-an-element-into-view>scroll the element
   into view</a> with scroll behavior "<code>auto</code>", block flow direction
   position set to an <a id=focus-management-apis:implementation-defined href=https://infra.spec.whatwg.org/#implementation-defined data-x-internal=implementation-defined>implementation-defined</a> value, and inline base direction position
   set to an <a id=focus-management-apis:implementation-defined-2 href=https://infra.spec.whatwg.org/#implementation-defined data-x-internal=implementation-defined>implementation-defined</a> value.<li><p>Unmark the element as <i id=focus-management-apis:locked-for-focus-2><a href=#locked-for-focus>locked for focus</a></i>.</ol>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/blur title="The HTMLElement.blur() method removes keyboard focus from the current element.">HTMLOrForeignElement/blur</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>5+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>8+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>5+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><p>The <dfn data-dfn-for=HTMLElement id=dom-blur><code>blur()</code></dfn> method, when invoked,
  should run the <a href=#unfocusing-steps id=focus-management-apis:unfocusing-steps>unfocusing steps</a> for the element on which the method was called. User
  agents may selectively or uniformly ignore calls to this method for usability reasons.</p>

  <p class=example>For example, if the <code id=focus-management-apis:dom-blur><a href=#dom-blur>blur()</a></code> method is unwisely
  being used to remove the focus ring for aesthetics reasons, the page would become unusable by
  keyboard users. Ignoring calls to this method would thus allow keyboard users to interact with the
  page.</p>

  



  <h4 id=the-autofocus-attribute><span class=secno>6.5.7</span> <span id=autofocusing-a-form-control:-the-autofocus-attribute></span>The <code id=the-autofocus-attribute:attr-fe-autofocus><a href=#attr-fe-autofocus>autofocus</a></code> attribute<a href=#the-autofocus-attribute class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes#attr-autofocus title="Elements in HTML have attributes; these are additional values that configure the elements or adjust their behavior in various ways to meet the criteria the users want.">Attributes#attr-autofocus</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>5+</span></span><hr><span class="opera yes"><span>Opera</span><span>9.6+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span><hr><span class=caniuse><span><a href="https://caniuse.com/#feat=autofocus" title="Autofocus attribute">caniuse.com table</a></span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/focus/the-autofocus-attribute.zh.html?filename=the-autofocus-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffocus%2Fthe-autofocus-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/focus/the-autofocus-attribute.en.html></div>

  <p>The <dfn data-dfn-for=html-global id=attr-fe-autofocus data-dfn-type=element-attr><code>autofocus</code></dfn>
  content attribute allows the author to indicate that an element is to be focused as soon as the
  page is loaded or as soon as the <code id=the-autofocus-attribute:the-dialog-element><a href=interactive-elements.html#the-dialog-element>dialog</a></code> within which it finds itself is shown,
  allowing the user to just start typing without having to manually focus the main element.</p>

  <p>The <code id=the-autofocus-attribute:attr-fe-autofocus-2><a href=#attr-fe-autofocus>autofocus</a></code> attribute is a <a id=the-autofocus-attribute:boolean-attribute href=infrastructure.html#boolean-attribute>boolean
  attribute</a>.</p>

  <p>An element's <dfn id=nearest-ancestor-autofocus-scoping-root-element>nearest ancestor autofocus scoping root element</dfn> is the element itself
  if the element is a <code id=the-autofocus-attribute:the-dialog-element-2><a href=interactive-elements.html#the-dialog-element>dialog</a></code> element, or else is the element's nearest ancestor
  <code id=the-autofocus-attribute:the-dialog-element-3><a href=interactive-elements.html#the-dialog-element>dialog</a></code> element, if any, or else is the element's last <a id=the-autofocus-attribute:inclusive-ancestor href=https://dom.spec.whatwg.org/#concept-tree-inclusive-ancestor data-x-internal=inclusive-ancestor>inclusive ancestor</a>
  element.</p>

  <p>There must not be two elements with the same <a href=#nearest-ancestor-autofocus-scoping-root-element id=the-autofocus-attribute:nearest-ancestor-autofocus-scoping-root-element>nearest ancestor autofocus scoping root
  element</a> that both have the <code id=the-autofocus-attribute:attr-fe-autofocus-3><a href=#attr-fe-autofocus>autofocus</a></code> attribute
  specified.</p>

  

  <p>Each <code id=the-autofocus-attribute:document><a href=dom.html#document>Document</a></code> has an <dfn id=autofocus-candidates>autofocus candidates</dfn> <a id=the-autofocus-attribute:list href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a>,
  initially empty.</p>

  <p>Each <code id=the-autofocus-attribute:document-2><a href=dom.html#document>Document</a></code> has an <dfn id=autofocus-processed-flag>autofocus processed flag</dfn> boolean, initially
  false.</p>

  <p>When an element with the <code id=the-autofocus-attribute:attr-fe-autofocus-4><a href=#attr-fe-autofocus>autofocus</a></code> attribute specified
  is <a href=infrastructure.html#insert-an-element-into-a-document id=the-autofocus-attribute:insert-an-element-into-a-document>inserted into a document</a>, run the
  following steps:</p>

  <ol><li><p>If the user has indicated (for example, by starting to type in a form control) that they
   do not wish focus to be changed, then optionally return.<li><p>Let <var>target</var> be the element's <a id=the-autofocus-attribute:node-document href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a>.<li><p>If <var>target</var>'s <a href=browsers.html#concept-document-bc id=the-autofocus-attribute:concept-document-bc>browsing context</a> is null,
   then return.<li><p>If <var>target</var>'s <a id=the-autofocus-attribute:active-sandboxing-flag-set href=origin.html#active-sandboxing-flag-set>active sandboxing flag set</a> has the
   <a id=the-autofocus-attribute:sandboxed-automatic-features-browsing-context-flag href=origin.html#sandboxed-automatic-features-browsing-context-flag>sandboxed automatic features browsing context flag</a>, then return.<li><p>Let <var>topDocument</var> be the <a id=the-autofocus-attribute:active-document href=browsers.html#active-document>active document</a> of <var>target</var>'s
   <a href=browsers.html#concept-document-bc id=the-autofocus-attribute:concept-document-bc-2>browsing context</a>'s
   <a id=the-autofocus-attribute:top-level-browsing-context href=browsers.html#top-level-browsing-context>top-level browsing context</a>.<li><p>If <var>target</var>'s <a id=the-autofocus-attribute:concept-origin href=origin.html#concept-origin>origin</a> is not the <a href=origin.html#same-origin id=the-autofocus-attribute:same-origin>same</a> as the <a id=the-autofocus-attribute:concept-origin-2 href=origin.html#concept-origin>origin</a> of <var>topDocument</var>, then return.<li><p>If <var>topDocument</var>'s <a href=#autofocus-processed-flag id=the-autofocus-attribute:autofocus-processed-flag>autofocus processed flag</a> is false, then
   <a href=https://infra.spec.whatwg.org/#list-remove id=the-autofocus-attribute:list-remove data-x-internal=list-remove>remove</a> the element from <var>topDocument</var>'s
   <a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates>autofocus candidates</a>, and <a href=https://infra.spec.whatwg.org/#list-append id=the-autofocus-attribute:list-append data-x-internal=list-append>append</a> the element to
   <var>topDocument</var>'s <a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates-2>autofocus candidates</a>.</ol>

  <p class=note>We do not check if an element is a <a href=#focusable-area id=the-autofocus-attribute:focusable-area>focusable area</a> before storing it
  in the <a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates-3>autofocus candidates</a> list, because even if it is not a focusable area when it
  is inserted, it could become one by the time <a href=#flush-autofocus-candidates id=the-autofocus-attribute:flush-autofocus-candidates>flush autofocus candidates</a> sees it.</p>

  <p>To <dfn id=flush-autofocus-candidates>flush autofocus candidates</dfn> for a document <var>topDocument</var>, run these
  steps:</p>

  <ol><li><p>If <var>topDocument</var>'s <a href=#autofocus-processed-flag id=the-autofocus-attribute:autofocus-processed-flag-2>autofocus processed flag</a> is true, then
   return.<li><p>Let <var>candidates</var> be <var>topDocument</var>'s <a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates-4>autofocus
   candidates</a>.<li><p>If <var>candidates</var> <a href=https://infra.spec.whatwg.org/#list-is-empty id=the-autofocus-attribute:list-is-empty data-x-internal=list-is-empty>is empty</a>, then
   return.<li>
    <p>If <var>topDocument</var>'s <a href=#focused-area-of-the-document id=the-autofocus-attribute:focused-area-of-the-document>focused area</a>
    is not <var>topDocument</var> itself, or <var>topDocument</var>'s
    <a href=https://dom.spec.whatwg.org/#concept-document-url id=the-autofocus-attribute:the-documentçš„-address data-x-internal=the-documentçš„-address>URL</a>'s
    <a href=https://url.spec.whatwg.org/#concept-url-fragment id=the-autofocus-attribute:concept-url-fragment data-x-internal=concept-url-fragment>fragment</a> is not empty, then:</p>

    <ol><li><p><a href=https://infra.spec.whatwg.org/#list-empty id=the-autofocus-attribute:list-empty data-x-internal=list-empty>Empty</a> <var>candidates</var>.<li><p>Set <var>topDocument</var>'s <a href=#autofocus-processed-flag id=the-autofocus-attribute:autofocus-processed-flag-3>autofocus processed flag</a> to true.<li><p>Return.</ol>
   <li>
    <p>While <var>candidates</var> is not <a href=https://infra.spec.whatwg.org/#list-is-empty id=the-autofocus-attribute:list-is-empty-2 data-x-internal=list-is-empty>empty</a>:</p>

    <ol><li><p>Let <var>element</var> be <var>candidates</var>[0].<li><p>Let <var>doc</var> be <var>element</var>'s <a id=the-autofocus-attribute:node-document-2 href=https://dom.spec.whatwg.org/#concept-node-document data-x-internal=node-document>node document</a>.<li><p>If <var>doc</var> is not <a id=the-autofocus-attribute:fully-active href=browsers.html#fully-active>fully active</a>, then
     <a href=https://infra.spec.whatwg.org/#list-remove id=the-autofocus-attribute:list-remove-2 data-x-internal=list-remove>remove</a> <var>element</var> from <var>candidates</var>, and
     <a id=the-autofocus-attribute:continue href=https://infra.spec.whatwg.org/#iteration-continue data-x-internal=continue>continue</a>.<li><p>If <var>doc</var>'s <a href=browsers.html#concept-document-bc id=the-autofocus-attribute:concept-document-bc-3>browsing context</a>'s
     <a id=the-autofocus-attribute:top-level-browsing-context-2 href=browsers.html#top-level-browsing-context>top-level browsing context</a> is not same as <var>topDocument</var>'s
     <a href=browsers.html#concept-document-bc id=the-autofocus-attribute:concept-document-bc-4>browsing context</a>, then
     <a href=https://infra.spec.whatwg.org/#list-remove id=the-autofocus-attribute:list-remove-3 data-x-internal=list-remove>remove</a> <var>element</var> from <var>candidates</var>, and
     <a id=the-autofocus-attribute:continue-2 href=https://infra.spec.whatwg.org/#iteration-continue data-x-internal=continue>continue</a>.<li>
      <p>If <var>doc</var>'s <a id=the-autofocus-attribute:script-blocking-style-sheet-counter href=semantics.html#script-blocking-style-sheet-counter>script-blocking style sheet counter</a> is greater than 0,
      then return.</p>

      <p class=note>In this case, <var>element</var> is the currently-best candidate, but
      <var>doc</var> is not ready for autofocusing. We'll try again next time <a href=#flush-autofocus-candidates id=the-autofocus-attribute:flush-autofocus-candidates-2>flush
      autofocus candidates</a> is called.</p>
     <li><p><a href=https://infra.spec.whatwg.org/#list-remove id=the-autofocus-attribute:list-remove-4 data-x-internal=list-remove>Remove</a> <var>element</var> from
     <var>candidates</var>.<li><p>Let <var>inclusiveAncestorDocuments</var> be a <a id=the-autofocus-attribute:list-2 href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a> consisting of
     <var>doc</var>, plus the <a href=browsers.html#active-document id=the-autofocus-attribute:active-document-2>active documents</a> of each of
     <var>doc</var>'s <a href=browsers.html#concept-document-bc id=the-autofocus-attribute:concept-document-bc-5>browsing context</a>'s
     <a href=browsers.html#ancestor-browsing-context id=the-autofocus-attribute:ancestor-browsing-context>ancestor browsing contexts</a>.<li><p>If <a href=https://dom.spec.whatwg.org/#concept-document-url id=the-autofocus-attribute:the-documentçš„-address-2 data-x-internal=the-documentçš„-address>URL</a>'s
     <a href=https://url.spec.whatwg.org/#concept-url-fragment id=the-autofocus-attribute:concept-url-fragment-2 data-x-internal=concept-url-fragment>fragment</a> of any <code id=the-autofocus-attribute:document-3><a href=dom.html#document>Document</a></code> in
     <var>inclusiveAncestorDocuments</var> is not empty, then <a id=the-autofocus-attribute:continue-3 href=https://infra.spec.whatwg.org/#iteration-continue data-x-internal=continue>continue</a>.<li><p>Let <var>target</var> be <var>element</var>.<li>
      <p>If <var>target</var> is not a <a href=#focusable-area id=the-autofocus-attribute:focusable-area-2>focusable area</a>, then set <var>target</var> to
      the result of <a href=#get-the-focusable-area id=the-autofocus-attribute:get-the-focusable-area>getting the focusable area</a> for
      <var>target</var>.</p>

      <p class=note><a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates-5>Autofocus candidates</a> can <a href=https://infra.spec.whatwg.org/#list-contain id=the-autofocus-attribute:list-contains data-x-internal=list-contains>contain</a> elements which are not <a href=#focusable-area id=the-autofocus-attribute:focusable-area-3>focusable
      areas</a>. In addition to the special cases handled in the <a href=#get-the-focusable-area id=the-autofocus-attribute:get-the-focusable-area-2>get the focusable
      area</a> algorithm, this can happen because a non-<a href=#focusable-area id=the-autofocus-attribute:focusable-area-4>focusable area</a> element with
      an <code id=the-autofocus-attribute:attr-fe-autofocus-5><a href=#attr-fe-autofocus>autofocus</a></code> attribute was <a href=infrastructure.html#insert-an-element-into-a-document id=the-autofocus-attribute:insert-an-element-into-a-document-2>inserted into a document</a> and it never became focusable, or
      because the element was focusable but its status changed while it was stored in
      <a href=#autofocus-candidates id=the-autofocus-attribute:autofocus-candidates-6>autofocus candidates</a>.</p>
     <li>
      <p>If <var>target</var> is not null, then:</p>

      <ol><li><p><a href=https://infra.spec.whatwg.org/#list-empty id=the-autofocus-attribute:list-empty-2 data-x-internal=list-empty>Empty</a> <var>candidates</var>.<li><p>Set <var>topDocument</var>'s <a href=#autofocus-processed-flag id=the-autofocus-attribute:autofocus-processed-flag-4>autofocus processed flag</a> to true.<li><p>Run the <a href=#focusing-steps id=the-autofocus-attribute:focusing-steps>focusing steps</a> for <var>target</var>.</ol>
     </ol>
   </ol>

  <p class=note>This handles the automatic focusing during document load. The <code id=the-autofocus-attribute:dom-dialog-show><a href=interactive-elements.html#dom-dialog-show>show()</a></code> and <code id=the-autofocus-attribute:dom-dialog-showmodal><a href=interactive-elements.html#dom-dialog-showmodal>showModal()</a></code>
  methods of <code id=the-autofocus-attribute:the-dialog-element-4><a href=interactive-elements.html#the-dialog-element>dialog</a></code> elements also processes the <code id=the-autofocus-attribute:attr-fe-autofocus-6><a href=#attr-fe-autofocus>autofocus</a></code> attribute.</p>

  <p class=note>Focusing the element does not imply that the user agent has to focus the browser
  window if it has lost focus.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/autofocus title="The HTMLSelectElement.autofocus property is a Boolean that reflects the autofocus HTML attribute, which indicates whether the associated <select> element  will get input focus when the page loads, unless the user overrides it.">HTMLSelectElement/autofocus</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>Yes</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>Yes</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios no"><span>Safari iOS</span><span>No</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="opera_android no"><span>Opera Android</span><span>No</span></span></div></div></div><p>The <dfn data-dfn-for=HTMLOrSVGElement id=dom-fe-autofocus data-dfn-type=attribute><code>autofocus</code></dfn> IDL attribute must <a id=the-autofocus-attribute:reflect href=infrastructure.html#reflect>reflect</a> the
  content attribute of the same name.</p>

  

  <div class=example>
   <p>In the following snippet, the text control would be focused when
   the document was loaded.</p>
   <pre><code class=html>&lt;input maxlength="256" name="q" value="" autofocus>
&lt;input type="submit" value="Search"></code></pre>
  </div>

  <div class=example>
   <p>The <code id=the-autofocus-attribute:attr-fe-autofocus-7><a href=#attr-fe-autofocus>autofocus</a></code> attribute applies to all elements, not
   just to form controls. This allows examples such as the following:</p>
   <pre><code class=html>&lt;div contenteditable autofocus>Edit &lt;strong>me!&lt;/strong>&lt;div></code></pre>
  </div>




  <h3 id=æŒ‡å®šå¿«æ·é”®><span class=secno>6.6</span> æŒ‡å®šå¿«æ·é”®<a href=#æŒ‡å®šå¿«æ·é”® class=self-link></a></h3>
<div data-zh-date="Sat Mar 10 2018 18:22:55 GMT+0000 (UTC)" data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/assigning-keyboard-shortcuts/index.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/assigning-keyboard-shortcuts/index.en.html></div>


  <h4 id=æ¦‚è¿°-2><span class=secno>6.6.1</span> æ¦‚è¿°<a href=#æ¦‚è¿°-2 class=self-link></a></h4>
<div data-zh-date="Sat Mar 10 2018 18:22:55 GMT+0000 (UTC)" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/assigning-keyboard-shortcuts/introduction.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/assigning-keyboard-shortcuts/introduction.en.html></div>

  <p><i>This section is non-normative.</i></p>

  <p>æ¯ä¸ªå¯ä»¥æ¿€æ´»å’Œè·å¾—ç„¦ç‚¹çš„å…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨ <code id=æ¦‚è¿°-2:the-accesskey-attribute><a href=#the-accesskey-attribute>accesskey</a></code>
  å±æ€§æŒ‡å®šä¸€ä¸ªç»„åˆé”®æ¥æ¿€æ´»å®ƒã€‚</p>

  <p>å…·ä½“çš„å¿«æ·é”®ç”±ç”¨æˆ·ä»£ç†å†³å®šï¼ŒåŸºäºç”¨æˆ·é”®ç›˜çš„ä¿¡æ¯ï¼Œå¹³å°ä¸Šæ—¢æœ‰çš„å¿«æ·é”®ï¼Œ
  ä»¥åŠå·²ç»åœ¨é¡µé¢ä¸ŠæŒ‡å®šçš„å¿«æ·é”®ï¼Œä½¿ç”¨åœ¨ <code id=æ¦‚è¿°-2:the-accesskey-attribute-2><a href=#the-accesskey-attribute>accesskey</a></code>
  å±æ€§ä¸­æä¾›çš„ä¿¡æ¯ä½œä¸ºæŒ‡å¯¼ã€‚</p>

  <p>ä¸ºäº†ç¡®ä¿ç›¸å…³çš„é”®ç›˜å¿«æ·é”®å¯¹å¤šæ•°è¾“å…¥è®¾å¤‡éƒ½å¯ç”¨ï¼Œä½œè€…å¯ä»¥åœ¨
  <code id=æ¦‚è¿°-2:the-accesskey-attribute-3><a href=#the-accesskey-attribute>accesskey</a></code> å±æ€§ä¸­æä¾›ä¸€äº›æ›¿ä»£å¿«æ·é”®ã€‚</p>

  <p>æ¯ä¸ªæ›¿ä»£é”®åŒ…å«ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚ä¸€ä¸ªå­—æ¯æˆ–è€…æ•°å­—ã€‚</p>

  <p>ç”¨æˆ·ä»£ç†å¯ä»¥ç»™ç”¨æˆ·æä¾›ä¸€ä¸ªå¿«æ·é”®åˆ—è¡¨ï¼Œä½†æ˜¯ä¹Ÿé¼“åŠ±ä½œè€…æä¾›å¿«æ·é”®åˆ—è¡¨ã€‚
  <code id=æ¦‚è¿°-2:dom-accesskeylabel><a href=#dom-accesskeylabel>accessKeyLabel</a></code> IDL å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ
  è¡¨ç¤ºç”¨æˆ·ä»£ç†å®é™…æŒ‡å®šçš„ç»„åˆé”®ã€‚</p>

  <div class=example>

   <p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½œè€…æä¾›äº†ä¸€ä¸ªå¯ä»¥ç”¨å¿«æ·é”®è°ƒç”¨çš„æŒ‰é’®ã€‚
   ä¸ºäº†æ”¯æŒå…¨é”®ç›˜ï¼Œä½œè€…æä¾›äº† "C" ä½œä¸ºä¸€ä¸ªå¯èƒ½çš„é”®ã€‚
   ä¸ºäº†æ”¯æŒåªæœ‰æ•°å­—é”®çš„è®¾å¤‡ï¼Œä½œè€…æä¾›äº† "1" ä½œä¸ºå¦ä¸€ä¸ªå¯èƒ½çš„é”®ã€‚</p>

   <pre>&lt;input type=button value=Collect onclick="collect()"
       <strong>accesskey="C 1"</strong> id=c></pre>

  </div>

  <div class=example>

   <p>ä¸ºäº†å‘Šè¯‰ç”¨æˆ·å¿«æ·é”®æ˜¯ä»€ä¹ˆï¼Œä½œè€…åœ¨è¿™é‡Œæœ‰è¿™æ ·ä¸€ä¸ªè„šæœ¬ï¼Œæ˜¾å¼åœ°æŠŠç»„åˆé”®æ·»åŠ åˆ°æŒ‰é’®çš„æ ‡ç­¾ä¸Šï¼š</p>

   <pre>function addShortcutKeyLabel(button) {
<strong>  if (button.accessKeyLabel != '')
    button.value += ' (' + button.accessKeyLabel + ')';</strong>
}
addShortcutKeyLabel(document.getElementById('c'));</pre>

   <p>ä¸åŒå¹³å°çš„æµè§ˆå™¨ä¼šæ˜¾ç¤ºä¸åŒçš„æ ‡ç­¾ã€‚å³ä½¿æ˜¯åŒæ ·çš„ç»„åˆé”®ï¼ŒåŸºäºè¯¥å¹³å°æµè¡Œçš„æƒ¯ä¾‹ä¹Ÿå¯èƒ½æœ‰æ‰€ä¸åŒã€‚
   ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç»„åˆé”®æ˜¯ Control , Shift å’Œå­—æ¯ Cï¼Œ
   ä¸€ä¸ª Windows æµè§ˆå™¨å¯èƒ½æ˜¾ç¤ºä¸º "<samp>Ctrl+Shift+C</samp>"ï¼Œ
   è€Œä¸€ä¸ª Mac æµè§ˆå™¨å¯èƒ½æ˜¾ç¤ºä¸º "<samp>^â‡§C</samp>"ï¼Œ
   è€Œåœ¨ Emacs æµè§ˆå™¨ä¸­å¯èƒ½åªæ˜¯æ˜¾ç¤ºä¸º "<samp>C-C</samp>"ã€‚
   ç±»ä¼¼åœ°ï¼Œå¦‚æœç»„åˆé”®æ˜¯ä¸€ä¸ª Alt å’Œ Escape é”®ï¼ŒWindows å¯èƒ½ä¼šä½¿ç”¨ "<samp>Alt+Esc</samp>"ï¼Œ
   Mac å¯èƒ½ä¼šä½¿ç”¨ "<samp>âŒ¥â‹</samp>"ï¼Œ
   Emacs æµè§ˆå™¨å¯èƒ½ä¼šä½¿ç”¨ "<samp>M-ESC</samp>" æˆ– "<samp>ESC ESC</samp>"ã€‚</p>

   <p>å› æ­¤é€šå¸¸æ¥è®²ï¼Œå°è¯•è§£æ <code id=æ¦‚è¿°-2:dom-accesskeylabel-2><a href=#dom-accesskeylabel>accessKeyLabel</a></code>
   IDL å±æ€§è¿”å›çš„å€¼æ˜¯ä¸æ˜æ™ºçš„ã€‚</p>

  </div>



  <h4 id=the-accesskey-attribute><span class=secno>6.6.2</span> The <dfn data-dfn-for=html-global data-dfn-type=element-attr><code>accesskey</code></dfn>
  attribute<a href=#the-accesskey-attribute class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey title="The accesskey global attribute provides a hint for generating a keyboard shortcut for the current element. The attribute value must consist of a single printable character (which includes accented and other characters that can be generated by the keyboard).">Global_attributes/accesskey</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>Yes</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>Yes</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>Yes</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/assigning-keyboard-shortcuts/the-accesskey-attribute.zh.html?filename=the-accesskey-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fassigning-keyboard-shortcuts%2Fthe-accesskey-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/assigning-keyboard-shortcuts/the-accesskey-attribute.en.html></div>

  <p>All <a id=the-accesskey-attribute:html-elements href=infrastructure.html#html-elements>HTML elements</a> may have the <code id=the-accesskey-attribute:the-accesskey-attribute><a href=#the-accesskey-attribute>accesskey</a></code>
  content attribute set. The <code id=the-accesskey-attribute:the-accesskey-attribute-2><a href=#the-accesskey-attribute>accesskey</a></code> attribute's value is used
  by the user agent as a guide for creating a keyboard shortcut that activates or focuses the
  element.</p>

  <p>If specified, the value must be an <a id=the-accesskey-attribute:ordered-set-of-unique-space-separated-tokens href=infrastructure.html#ordered-set-of-unique-space-separated-tokens>ordered set of unique space-separated tokens</a>
  none of which are <a id=the-accesskey-attribute:identical-to href=https://infra.spec.whatwg.org/#string-is data-x-internal=identical-to>identical to</a> another token and each of which must be exactly one
  code point in length.</p>

  <div class=example>

   <p>In the following example, a variety of links are given with access keys so that keyboard users
   familiar with the site can more quickly navigate to the relevant pages:</p>

   <pre><code class=html>&lt;nav>
 &lt;p>
  &lt;a title="Consortium Activities" accesskey="A" href="/Consortium/activities">Activities&lt;/a> |
  &lt;a title="Technical Reports and Recommendations" accesskey="T" href="/TR/">Technical Reports&lt;/a> |
  &lt;a title="Alphabetical Site Index" accesskey="S" href="/Consortium/siteindex">Site Index&lt;/a> |
  &lt;a title="About This Site" accesskey="B" href="/Consortium/">About Consortium&lt;/a> |
  &lt;a title="Contact Consortium" accesskey="C" href="/Consortium/contact">Contact&lt;/a>
 &lt;/p>
&lt;/nav></code></pre>

  </div>

  <div class=example>

   <p>In the following example, the search field is given two possible access keys, "s" and "0" (in
   that order). A user agent on a device with a full keyboard might pick <kbd><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd></kbd> as the shortcut key,
   while a user agent on a small device with just a numeric keypad might pick just the plain
   unadorned key <kbd><kbd>0</kbd></kbd>:</p>

   <pre><code class=html>&lt;form action="/search">
 &lt;label>Search: &lt;input type="search" name="q" accesskey="s 0">&lt;/label>
 &lt;input type="submit">
&lt;/form></code></pre>

  </div>

  <div class=example>

   <p>In the following example, a button has possible access keys described. A script then tries to
   update the button's label to advertise the key combination the user agent selected.</p>

   <pre><code class=html>&lt;input type=submit accesskey="N @ 1" value="Compose">
...
&lt;script>
 function labelButton(button) {
   if (button.accessKeyLabel)
     button.value += ' (' + button.accessKeyLabel + ')';
 }
 var inputs = document.getElementsByTagName('input');
 for (var i = 0; i &lt; inputs.length; i += 1) {
   if (inputs[i].type == "submit")
     labelButton(inputs[i]);
 }
&lt;/script></code></pre>

   <p>On one user agent, the button's label might become "<samp>Compose (âŒ˜N)</samp>". On
   another, it might become "<samp>Compose (Alt+â‡§+1)</samp>". If the user agent doesn't
   assign a key, it will be just "<samp>Compose</samp>". The exact string depends on what the
   <a href=#assigned-access-key id=the-accesskey-attribute:assigned-access-key>assigned access key</a> is, and on how the user agent represents that key
   combination.</p>

  </div>


  


  <h4 id=keyboard-shortcuts-processing-model><span class=secno>6.6.3</span> <span id=processing-model-6></span>Processing
  model<a href=#keyboard-shortcuts-processing-model class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/assigning-keyboard-shortcuts/processing-model.zh.html?filename=processing-model.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fassigning-keyboard-shortcuts%2Fprocessing-model.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/assigning-keyboard-shortcuts/processing-model.en.html></div>

  <p>An element's <dfn id=assigned-access-key>assigned access key</dfn> is a key combination derived from the element's
  <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute><a href=#the-accesskey-attribute>accesskey</a></code> content attribute. Initially, an element must not
  have an <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key>assigned access key</a>.</p>

  <p>Whenever an element's <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute-2><a href=#the-accesskey-attribute>accesskey</a></code> attribute is set, changed,
  or removed, the user agent must update the element's <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-2>assigned access key</a> by running
  the following steps:</p>

  <ol><li><p>If the element has no <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute-3><a href=#the-accesskey-attribute>accesskey</a></code> attribute, then skip
   to the <i>fallback</i> step below.<li><p>Otherwise, <a href=https://infra.spec.whatwg.org/#split-on-ascii-whitespace id=keyboard-shortcuts-processing-model:split-a-string-on-spaces data-x-internal=split-a-string-on-spaces>split the attribute's value
   on ASCII whitespace</a>, and let <var>keys</var> be the resulting tokens.<li>
    <p>For each value in <var>keys</var> in turn, in the order the tokens appeared in the
    attribute's value, run the following substeps:</p>

    <ol><li><p>If the value is not a string exactly one code point in length, then skip the remainder
     of these steps for this value.<li><p>If the value does not correspond to a key on the system's keyboard, then skip the
     remainder of these steps for this value.<li><p>
     <a id=keyboard-shortcuts-processing-model:tracking-vector title="There is a tracking vector here." href=https://infra.spec.whatwg.org/#tracking-vector class=tracking-vector data-x-internal=tracking-vector><img width=46 alt="(This is a tracking vector.)" crossorigin="" src=https://resources.whatwg.org/tracking-vector.svg height=64></a>
     If the user agent can find a mix of zero or more modifier keys that, combined with the key that
     corresponds to the value given in the attribute, can be used as the access key, then the user
     agent may assign that combination of keys as the element's <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-3>assigned access key</a> and
     return.</ol>
   <li><p><i>Fallback</i>: Optionally, the user agent may assign a key combination of its choosing
   as the element's <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-4>assigned access key</a> and then return.<li><p>If this step is reached, the element has no <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-5>assigned access key</a>.</ol>

  <p>Once a user agent has selected and assigned an access key for an element, the user agent should
  not change the element's <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-6>assigned access key</a> unless the <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute-4><a href=#the-accesskey-attribute>accesskey</a></code> content attribute is changed or the element is moved to
  another <code id=keyboard-shortcuts-processing-model:document><a href=dom.html#document>Document</a></code>.</p>

  <p>When the user presses the key combination corresponding to the <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-7>assigned access key</a>
  for an element, if the element <a href=interactive-elements.html#concept-command id=keyboard-shortcuts-processing-model:concept-command>defines a command</a>, the
  command's <a href=interactive-elements.html#command-facet-hiddenstate id=keyboard-shortcuts-processing-model:command-facet-hiddenstate>Hidden State</a> facet is false (visible),
  the command's <a href=interactive-elements.html#command-facet-disabledstate id=keyboard-shortcuts-processing-model:command-facet-disabledstate>Disabled State</a> facet is also false
  (enabled), the element is <a id=keyboard-shortcuts-processing-model:in-a-document href=https://dom.spec.whatwg.org/#in-a-document data-x-internal=in-a-document>in a document</a> that has a non-null <a href=browsers.html#concept-document-bc id=keyboard-shortcuts-processing-model:concept-document-bc>browsing context</a>, and neither the element nor any of its
  ancestors has a <code id=keyboard-shortcuts-processing-model:hidden-å±æ€§><a href=#hidden-å±æ€§>hidden</a></code> attribute specified, then the user agent
  must trigger the <a href=interactive-elements.html#command-facet-action id=keyboard-shortcuts-processing-model:command-facet-action>Action</a> of the command.</p>

  <p class=note>User agents <a href=interactive-elements.html#expose-commands-in-ui>might expose</a> elements that have
  an <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute-5><a href=#the-accesskey-attribute>accesskey</a></code> attribute in other ways as well, e.g. in a menu
  displayed in response to a specific key combination.</p> 

  <hr>

  <p>The <dfn id=dom-accesskey><code>accessKey</code></dfn> IDL attribute must
  <a id=keyboard-shortcuts-processing-model:reflect href=infrastructure.html#reflect>reflect</a> the <code id=keyboard-shortcuts-processing-model:the-accesskey-attribute-6><a href=#the-accesskey-attribute>accesskey</a></code> content attribute.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/accessKeyLabel title="The HTMLElement.accessKeyLabel read-only property returns a String that represents the element's assigned access key (if any); otherwise it returns an empty string.">HTMLElement/accessKeyLabel</a><div class=support><span class="firefox yes"><span>Firefox</span><span>8+</span></span><span class="safari yes"><span>Safari</span><span>14+</span></span><span class="chrome no"><span>Chrome</span><span>No</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>No</span></span><hr><span class="edge no"><span>Edge (Legacy)</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>8+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>14+</span></span><span class="chrome_android no"><span>Chrome Android</span><span>No</span></span><span class="webview_android no"><span>WebView Android</span><span>No</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>No</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn id=dom-accesskeylabel><code>accessKeyLabel</code></dfn> IDL attribute must return
  a string that represents the element's <a href=#assigned-access-key id=keyboard-shortcuts-processing-model:assigned-access-key-8>assigned access key</a>, if any. If the element
  does not have one, then the IDL attribute must return the empty string.</p>

  




  <h3 id=ç¼–è¾‘><span class=secno>6.7</span> ç¼–è¾‘<a href=#ç¼–è¾‘ class=self-link></a></h3>
<div data-zh-date="Sat Mar 10 2018 18:22:55 GMT+0000 (UTC)" data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-file=https://github.com/whatwg-cn/html/edit/master/src/user-interaction/editing/index.zh.html data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/index.en.html></div>


  <h4 id=contenteditable><span class=secno>6.7.1</span> Making document regions editable: The <code id=contenteditable:attr-contenteditable><a href=#attr-contenteditable>contenteditable</a></code> content attribute<a href=#contenteditable class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable title="The contentEditable property of the HTMLElement interface specifies whether or not the element is editable.">HTMLElement/contentEditable</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>9+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>8+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span><hr><span class=caniuse><span><a href="https://caniuse.com/#feat=contenteditable" title="contenteditable attribute (basic support)">caniuse.com table</a></span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/making-document-regions-editable-the-contenteditable-content-attribute.zh.html?filename=making-document-regions-editable-the-contenteditable-content-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fmaking-document-regions-editable-the-contenteditable-content-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/making-document-regions-editable-the-contenteditable-content-attribute.en.html></div>

  <pre><code class=idl>interface mixin <dfn id=elementcontenteditable>ElementContentEditable</dfn> {
  [<a id=contenteditable:cereactions href=custom-elements.html#cereactions>CEReactions</a>] attribute DOMString <a href=#dom-contenteditable id=contenteditable:dom-contenteditable>contentEditable</a>;
  [<a id=contenteditable:cereactions-2 href=custom-elements.html#cereactions>CEReactions</a>] attribute DOMString <a href=#dom-enterkeyhint id=contenteditable:dom-enterkeyhint>enterKeyHint</a>;
  readonly attribute boolean <a href=#dom-iscontenteditable id=contenteditable:dom-iscontenteditable>isContentEditable</a>;
  [<a id=contenteditable:cereactions-3 href=custom-elements.html#cereactions>CEReactions</a>] attribute DOMString <a href=#dom-inputmode id=contenteditable:dom-inputmode>inputMode</a>;
};</code></pre>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable title="The contenteditable global attribute is an enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing.">Global_attributes/contenteditable</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>Yes</span></span><hr><span class="opera yes"><span>Opera</span><span>9+</span></span><span class="edge_blink yes"><span>Edge</span><span>Yes</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>Yes</span></span><span class="webview_android yes"><span>WebView Android</span><span>Yes</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>Yes</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></div><p>The <dfn data-dfn-for=html-global id=attr-contenteditable data-dfn-type=element-attr><code>contenteditable</code></dfn> content attribute is an
  <a id=contenteditable:enumerated-attribute href=infrastructure.html#enumerated-attribute>enumerated attribute</a> whose keywords are the empty string, <code>true</code>, and <code>false</code>. The empty string and the <code>true</code> keyword map to the <i>true</i> state. The <code>false</code>
  keyword maps to the <i>false</i> state.  In addition, there is a third state, the <i>inherit</i>
  state, which is the <i id=contenteditable:missing-value-default><a href=infrastructure.html#missing-value-default>missing value default</a></i> and the <i id=contenteditable:invalid-value-default><a href=infrastructure.html#invalid-value-default>invalid value default</a></i>.</p>

  <p>The <i>true</i> state indicates that the element is editable. The <i>inherit</i> state
  indicates that the element is editable if its parent is. The <i>false</i> state indicates that the
  element is not editable.</p>

  <div class=example>
   <p>For example, consider a page that has a <code id=contenteditable:the-form-element><a href=forms.html#the-form-element>form</a></code> and a <code id=contenteditable:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> to
   publish a new article, where the user is expected to write the article using HTML:</p>

   <pre><code class=html>&lt;form method=POST>
 &lt;fieldset>
  &lt;legend>New article&lt;/legend>
  &lt;textarea name=article>&amp;lt;p>Hello world.&amp;lt;/p>&lt;/textarea>
 &lt;/fieldset>
 &lt;p>&lt;button>Publish&lt;/button>&lt;/p>
&lt;/form></code></pre>

   <p>When scripting is enabled, the <code id=contenteditable:the-textarea-element-2><a href=form-elements.html#the-textarea-element>textarea</a></code> element could be replaced with a rich
   text control instead, using the <code id=contenteditable:attr-contenteditable-2><a href=#attr-contenteditable>contenteditable</a></code>
   attribute:</p>

   <pre><code class=html>&lt;form method=POST>
 &lt;fieldset>
  &lt;legend>New article&lt;/legend>
  &lt;textarea id=textarea name=article>&amp;lt;p>Hello world.&amp;lt;/p>&lt;/textarea>
  &lt;div id=div style="white-space: pre-wrap" hidden>&lt;p>Hello world.&lt;/p>&lt;/div>
  &lt;script>
   let textarea = document.getElementById("textarea");
   let div = document.getElementById("div");
   textarea.hidden = true;
   div.hidden = false;
   div.contentEditable = "true";
   div.oninput = (e) => {
     textarea.value = div.innerHTML;
   };
  &lt;/script>
 &lt;/fieldset>
 &lt;p>&lt;button>Publish&lt;/button>&lt;/p>
&lt;/form></code></pre>

   <p>Features to enable, e.g., inserting links, can be implemented using the <code id=contenteditable:execCommand><a data-x-internal=execCommand href=https://w3c.github.io/editing/docs/execCommand/#execcommand%28%29>document.execCommand()</a></code> API, or using
   <code id=contenteditable:selection><a data-x-internal=selection href=https://w3c.github.io/selection-api/#selection-interface>Selection</a></code> APIs and other DOM APIs. <a href=references.html#refsEXECCOMMAND>[EXECCOMMAND]</a> <a href=references.html#refsSELECTION>[SELECTION]</a> <a href=references.html#refsDOM>[DOM]</a></p>
  </div>

  <div class=example>
   <p>The <code id=contenteditable:attr-contenteditable-3><a href=#attr-contenteditable>contenteditable</a></code> attribute can also be used to
   great effect:</p>

   <pre><code class=html>&lt;!doctype html>
&lt;html lang=en>
&lt;title>Live CSS editing!&lt;/title>
&lt;style style=white-space:pre contenteditable>
html { margin:.2em; font-size:2em; color:lime; background:purple }
head, title, style { display:block }
body { display:none }
&lt;/style></code></pre>
  </div>

  <dl class=domintro><dt><var>element</var> . <code id=dom-contenteditable-dev><a href=#dom-contenteditable>contentEditable</a></code> [ = <var>value</var> ]<dd>
    <p>Returns "<code>true</code>", "<code>false</code>", or "<code>inherit</code>", based on the state of the <code id=contenteditable:attr-contenteditable-4><a href=#attr-contenteditable>contenteditable</a></code> attribute.</p>

    <p>Can be set, to change that state.</p>

    <p>Throws a <a id=contenteditable:syntaxerror href=https://heycam.github.io/webidl/#syntaxerror data-x-internal=syntaxerror>"<code>SyntaxError</code>"</a> <code id=contenteditable:domexception><a data-x-internal=domexception href=https://heycam.github.io/webidl/#dfn-DOMException>DOMException</a></code> if the new value
    isn't one of those strings.</p>
   <dt><var>element</var> . <code id=dom-iscontenteditable-dev><a href=#dom-iscontenteditable>isContentEditable</a></code><dd>
    <p>Returns true if the element is editable; otherwise, returns false.</p>
   </dl>

  

  <p>The <dfn data-dfn-for=ElementContentEditable id=dom-contenteditable data-dfn-type=attribute><code>contentEditable</code></dfn> IDL attribute, on getting, must return
  the string "<code>true</code>" if the content attribute is set to the true state, "<code>false</code>" if the content attribute is set to the false state, and "<code>inherit</code>" otherwise. On setting, if the new value is an <a id=contenteditable:ascii-case-insensitive href=https://infra.spec.whatwg.org/#ascii-case-insensitive data-x-internal=ascii-case-insensitive>ASCII
  case-insensitive</a> match for the string "<code>inherit</code>" then the content
  attribute must be removed, if the new value is an <a id=contenteditable:ascii-case-insensitive-2 href=https://infra.spec.whatwg.org/#ascii-case-insensitive data-x-internal=ascii-case-insensitive>ASCII case-insensitive</a> match for
  the string "<code>true</code>" then the content attribute must be set to the string
  "<code>true</code>", if the new value is an <a id=contenteditable:ascii-case-insensitive-3 href=https://infra.spec.whatwg.org/#ascii-case-insensitive data-x-internal=ascii-case-insensitive>ASCII case-insensitive</a> match
  for the string "<code>false</code>" then the content attribute must be set to the string
  "<code>false</code>", and otherwise the attribute setter must throw a
  <a id=contenteditable:syntaxerror-2 href=https://heycam.github.io/webidl/#syntaxerror data-x-internal=syntaxerror>"<code>SyntaxError</code>"</a> <code id=contenteditable:domexception-2><a data-x-internal=domexception href=https://heycam.github.io/webidl/#dfn-DOMException>DOMException</a></code>.</p>

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/isContentEditable title="The HTMLElement.isContentEditable read-only property returns a Boolean that is true if the contents of the element are editable; otherwise it returns false.">HTMLElement/isContentEditable</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie unknown"><span>Internet Explorer</span><span>?</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>Yes</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>Yes</span></span></div></div></div><p>The <dfn data-dfn-for=ElementContentEditable id=dom-iscontenteditable data-dfn-type=attribute><code>isContentEditable</code></dfn> IDL attribute, on getting, must
  return true if the element is either an <a href=#editing-host id=contenteditable:editing-host>editing host</a> or <a id=contenteditable:editable href=https://w3c.github.io/editing/docs/execCommand/#editable data-x-internal=editable>editable</a>, and
  false otherwise.</p>

  




  <h4 id=making-entire-documents-editable:-the-designmode-idl-attribute><span class=secno>6.7.2</span> Making entire documents
  editable: the <code id=making-entire-documents-editable:-the-designmode-idl-attribute:designMode><a href=#designMode>designMode</a></code> getter and setter<a href=#making-entire-documents-editable:-the-designmode-idl-attribute class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/designMode title="document.designMode controls whether the entire document is editable. Valid values are &quot;on&quot; and &quot;off&quot;. According to the specification, this property is meant to default to &quot;off&quot;. Firefox follows this standard. The earlier versions of Chrome and IE default to &quot;inherit&quot;. Starting in Chrome 43, the default is &quot;off&quot; and &quot;inherit&quot; is no longer supported. In IE6-10, the value is capitalized.">Document/designMode</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1.2+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>9+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/making-entire-documents-editable-the-designmode-getter-and-setter.zh.html?filename=making-entire-documents-editable-the-designmode-getter-and-setter.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fmaking-entire-documents-editable-the-designmode-getter-and-setter.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/making-entire-documents-editable-the-designmode-getter-and-setter.en.html></div>

  <dl class=domintro><dt><var>document</var> . <code id=dom-document-designmode-dev><a href=#designMode>designMode</a></code> [ = <var>value</var> ]<dd>
    <p>Returns "<code>on</code>" if the document is editable, and "<code>off</code>" if it isn't.</p>

    <p>Can be set, to change the document's current state. This focuses the document and resets the
    selection in that document.</p>
   </dl>

  

  <p><code id=making-entire-documents-editable:-the-designmode-idl-attribute:document><a href=dom.html#document>Document</a></code> objects have an associated <dfn id=design-mode-enabled>design mode enabled</dfn>, which is a
  boolean. It is initially false.</p>

  <p>The <dfn id=designMode><code>designMode</code></dfn> getter
  steps are to return "<code>on</code>" if <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s <a href=#design-mode-enabled id=making-entire-documents-editable:-the-designmode-idl-attribute:design-mode-enabled>design mode
  enabled</a> is true; otherwise "<code>off</code>".</p>

  <p>The <code id=making-entire-documents-editable:-the-designmode-idl-attribute:designMode-2><a href=#designMode>designMode</a></code> setter steps are:</p>

  <ol><li><p>Let <var>value</var> be the given value, <a id=making-entire-documents-editable:-the-designmode-idl-attribute:converted-to-ascii-lowercase href=https://infra.spec.whatwg.org/#ascii-lowercase data-x-internal=converted-to-ascii-lowercase>converted to ASCII
   lowercase</a>.<li>
    <p>If <var>value</var> is "<code>on</code>" and <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-2 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s <a href=#design-mode-enabled id=making-entire-documents-editable:-the-designmode-idl-attribute:design-mode-enabled-2>design mode
    enabled</a> is false, then:</p>

    <ol><li><p>Set <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-3 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s <a href=#design-mode-enabled id=making-entire-documents-editable:-the-designmode-idl-attribute:design-mode-enabled-3>design mode enabled</a> to true.<li><p>Reset <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-4 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s <a id=making-entire-documents-editable:-the-designmode-idl-attribute:active-range href=https://w3c.github.io/editing/docs/execCommand/#active-range data-x-internal=active-range>active range</a>'s start and end boundary points to
     be at the start of <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-5 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>.<li><p>Run the <a href=#focusing-steps id=making-entire-documents-editable:-the-designmode-idl-attribute:focusing-steps>focusing steps</a> for <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-6 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s <a id=making-entire-documents-editable:-the-designmode-idl-attribute:document-element href=https://dom.spec.whatwg.org/#document-element data-x-internal=document-element>document
     element</a>, if non-null.</ol>
   <li><p>If <var>value</var> is "<code>off</code>", then set <a id=making-entire-documents-editable:-the-designmode-idl-attribute:this-7 href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>'s
   <a href=#design-mode-enabled id=making-entire-documents-editable:-the-designmode-idl-attribute:design-mode-enabled-4>design mode enabled</a> to false.</ol>

  



  <h4 id=best-practices-for-in-page-editors><span class=secno>6.7.3</span> Best practices for in-page editors<a href=#best-practices-for-in-page-editors class=self-link></a></h4>
<div data-zh-date="" data-en-date="Sun Feb 25 2018 17:35:57 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/best-practices-for-in-page-editors.zh.html?filename=best-practices-for-in-page-editors.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fbest-practices-for-in-page-editors.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/best-practices-for-in-page-editors.en.html></div>

  <p>Authors are encouraged to set the <a id="best-practices-for-in-page-editors:'white-space'" href=https://drafts.csswg.org/css-text/#white-space-property data-x-internal="'white-space'">'white-space'</a> property on <a href=#editing-host id=best-practices-for-in-page-editors:editing-host>editing hosts</a> and on markup that was originally created through these editing
  mechanisms to the value 'pre-wrap'. Default HTML whitespace handling is not well suited to WYSIWYG
  editing, and line wrapping will not work correctly in some corner cases if
  <a id="best-practices-for-in-page-editors:'white-space'-2" href=https://drafts.csswg.org/css-text/#white-space-property data-x-internal="'white-space'">'white-space'</a> is left at its default value.</p>

  <div class=example>

   <p>As an example of problems that occur if the default 'normal' value is used instead, consider
   the case of the user typing "<kbd>yellowâ£â£ball</kbd>", with two spaces (here
   represented by "â£") between the words. With the editing rules in place for the default
   value of <a id="best-practices-for-in-page-editors:'white-space'-3" href=https://drafts.csswg.org/css-text/#white-space-property data-x-internal="'white-space'">'white-space'</a> ('normal'), the resulting markup will either consist of
   "<samp>yellow&amp;nbsp;Â ball</samp>" or "<samp>yellowÂ &amp;nbsp;ball</samp>"; i.e.,
   there will be a non-breaking space between the two words in addition to the regular space. This
   is necessary because the 'normal' value for <a id="best-practices-for-in-page-editors:'white-space'-4" href=https://drafts.csswg.org/css-text/#white-space-property data-x-internal="'white-space'">'white-space'</a> requires adjacent regular
   spaces to be collapsed together.</p>

   <p>In the former case, "<samp>yellowâ½</samp>" might wrap to the next line ("â½"
   being used here to represent a non-breaking space) even though "<samp>yellow</samp>" alone might
   fit at the end of the line; in the latter case, "<samp>â½ball</samp>", if wrapped to the
   start of the line, would have visible indentation from the non-breaking space.</p>

   <p>When <a id="best-practices-for-in-page-editors:'white-space'-5" href=https://drafts.csswg.org/css-text/#white-space-property data-x-internal="'white-space'">'white-space'</a> is set to 'pre-wrap', however, the editing rules will instead
   simply put two regular spaces between the words, and should the two words be split at the end of
   a line, the spaces would be neatly removed from the rendering.</p>

  </div>

  


  <h4 id=editing-apis><span class=secno>6.7.4</span> Editing APIs<a href=#editing-apis class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/editing-apis.zh.html?filename=editing-apis.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fediting-apis.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/editing-apis.en.html></div>

  <p>An <dfn id=editing-host data-export="">editing host</dfn> is either an <a href=infrastructure.html#html-elements id=editing-apis:html-elements>HTML element</a>
  with its <code id=editing-apis:attr-contenteditable><a href=#attr-contenteditable>contenteditable</a></code> attribute in the <i>true</i>
  state, or a <a href=https://dom.spec.whatwg.org/#concept-tree-child id=editing-apis:concept-tree-child data-x-internal=concept-tree-child>child</a> <a href=infrastructure.html#html-elements id=editing-apis:html-elements-2>HTML
  element</a> of a <code id=editing-apis:document><a href=dom.html#document>Document</a></code> whose <a href=#design-mode-enabled id=editing-apis:design-mode-enabled>design mode enabled</a> is true.</p>

  <p>The definition of the terms <dfn id=active-range><a href=https://w3c.github.io/editing/docs/execCommand/#active-range>active range</a></dfn>, <dfn id=editing-host-of><a href=https://w3c.github.io/editing/docs/execCommand/#editing-host-of>editing host
  of</a></dfn>, and <dfn id=editable><a href=https://w3c.github.io/editing/docs/execCommand/#editable>editable</a></dfn>, the user
  interface requirements of elements that are <a href=#editing-host id=editing-apis:editing-host>editing hosts</a> or
  <a id=editing-apis:editable href=https://w3c.github.io/editing/docs/execCommand/#editable data-x-internal=editable>editable</a>, the

  <dfn id=execCommand><a href=https://w3c.github.io/editing/docs/execCommand/#execcommand%28%29><code>execCommand()</code></a></dfn>,
  <dfn id=dom-document-querycommandenabled><a href=https://w3c.github.io/editing/docs/execCommand/#querycommandenabled%28%29><code>queryCommandEnabled()</code></a></dfn>,
  <dfn id=dom-document-querycommandindeterm><a href=https://w3c.github.io/editing/docs/execCommand/#querycommandindeterm%28%29><code>queryCommandIndeterm()</code></a></dfn>,
  <dfn id=dom-document-querycommandstate><a href=https://w3c.github.io/editing/docs/execCommand/#querycommandstate%28%29><code>queryCommandState()</code></a></dfn>,
  <dfn id=dom-document-querycommandsupported><a href=https://w3c.github.io/editing/docs/execCommand/#querycommandsupported%28%29><code>queryCommandSupported()</code></a></dfn>, and
  <dfn id=dom-document-querycommandvalue><a href=https://w3c.github.io/editing/docs/execCommand/#querycommandvalue%28%29><code>queryCommandValue()</code></a></dfn>

  methods, text selections, and the <dfn id=delete-the-selection><a href=https://w3c.github.io/editing/docs/execCommand/#delete-the-selection>delete the
  selection</a></dfn> algorithm are defined in <cite>execCommand</cite>. <a href=references.html#refsEXECCOMMAND>[EXECCOMMAND]</a></p>

  


  <h4 id=spelling-and-grammar-checking><span class=secno>6.7.5</span> Spelling and grammar checking<a href=#spelling-and-grammar-checking class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/spellcheck title="The spellcheck global attribute is an enumerated attribute defines whether the element may be checked for spelling errors.">Global_attributes/spellcheck</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>9+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>57+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>9.3+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>47+</span></span><span class="webview_android yes"><span>WebView Android</span><span>47+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>5.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>37+</span></span><hr><span class=caniuse><span><a href="https://caniuse.com/#feat=spellcheck-attribute" title="Spellcheck attribute">caniuse.com table</a></span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/spelling-and-grammar-checking.zh.html?filename=spelling-and-grammar-checking.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fspelling-and-grammar-checking.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/spelling-and-grammar-checking.en.html></div>

  

  <p>User agents can support the checking of spelling and grammar of editable text, either in form
  controls (such as the value of <code id=spelling-and-grammar-checking:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> elements), or in elements in an <a href=#editing-host id=spelling-and-grammar-checking:editing-host>editing
  host</a> (e.g. using <code id=spelling-and-grammar-checking:attr-contenteditable><a href=#attr-contenteditable>contenteditable</a></code>).</p>

  <p>For each element, user agents must establish a <dfn id=concept-spellcheck-default>default
  behavior</dfn>, either through defaults or through preferences expressed by the user. There are
  three possible default behaviors for each element:</p>

  <dl><dt><dfn id=concept-spellcheck-default-true>true-by-default</dfn>

   <dd>The element will be checked for spelling and grammar if its contents are editable and
   spellchecking is not explicitly disabled through the <code id=spelling-and-grammar-checking:attr-spellcheck><a href=#attr-spellcheck>spellcheck</a></code> attribute.

   <dt><dfn id=concept-spellcheck-default-false>false-by-default</dfn>

   <dd>The element will never be checked for spelling and grammar unless spellchecking is
   explicitly enabled through the <code id=spelling-and-grammar-checking:attr-spellcheck-2><a href=#attr-spellcheck>spellcheck</a></code> attribute.

   <dt><dfn id=concept-spellcheck-default-inherit>inherit-by-default</dfn>

   <dd>The element's default behavior is the same as its parent element's. Elements that have no
   parent element cannot have this as their default behavior.
  </dl>

  <hr>

  

  <p>The <dfn data-dfn-for=html-global id=attr-spellcheck data-dfn-type=element-attr><code>spellcheck</code></dfn>
  attribute is an <a id=spelling-and-grammar-checking:enumerated-attribute href=infrastructure.html#enumerated-attribute>enumerated attribute</a> whose keywords are the empty string, <code>true</code> and <code>false</code>. The empty string and the <code>true</code> keyword map to the <i>true</i> state. The <code>false</code>
  keyword maps to the <i>false</i> state. In addition, there is a third state, the <i>default</i>
  state, which is the <i id=spelling-and-grammar-checking:missing-value-default><a href=infrastructure.html#missing-value-default>missing value default</a></i> and the <i id=spelling-and-grammar-checking:invalid-value-default><a href=infrastructure.html#invalid-value-default>invalid value default</a></i>.</p>

  <p class=note>The <i>true</i> state indicates that the element is to have its spelling and
  grammar checked. The <i>default</i> state indicates that the element is to act according to a
  default behavior, possibly based on the parent element's own <code id=spelling-and-grammar-checking:attr-spellcheck-3><a href=#attr-spellcheck>spellcheck</a></code> state, as defined below. The <i>false</i> state
  indicates that the element is not to be checked.</p>

  

  <hr>

  

  <dl class=domintro><dt><var>element</var> . <code id=dom-spellcheck-dev><a href=#dom-spellcheck>spellcheck</a></code> [ = <var>value</var> ]<dd>
    <p>Returns true if the element is to have its spelling and grammar checked; otherwise, returns
    false.</p>

    <p>Can be set, to override the default and set the <code id=spelling-and-grammar-checking:attr-spellcheck-4><a href=#attr-spellcheck>spellcheck</a></code> content attribute.</p>
   </dl>

  

  <p>The <dfn data-dfn-for=HTMLElement id=dom-spellcheck data-dfn-type=attribute><code>spellcheck</code></dfn> IDL
  attribute, on getting, must return true if the element's <code id=spelling-and-grammar-checking:attr-spellcheck-5><a href=#attr-spellcheck>spellcheck</a></code> content attribute is in the <i>true</i> state, or if
  the element's <code id=spelling-and-grammar-checking:attr-spellcheck-6><a href=#attr-spellcheck>spellcheck</a></code> content attribute is in the
  <i>default</i> state and the element's <a href=#concept-spellcheck-default id=spelling-and-grammar-checking:concept-spellcheck-default>default
  behavior</a> is <a href=#concept-spellcheck-default-true id=spelling-and-grammar-checking:concept-spellcheck-default-true>true-by-default</a>, or if
  the element's <code id=spelling-and-grammar-checking:attr-spellcheck-7><a href=#attr-spellcheck>spellcheck</a></code> content attribute is in the
  <i>default</i> state and the element's <a href=#concept-spellcheck-default id=spelling-and-grammar-checking:concept-spellcheck-default-2>default
  behavior</a> is <a href=#concept-spellcheck-default-inherit id=spelling-and-grammar-checking:concept-spellcheck-default-inherit>inherit-by-default</a> and
  the element's parent element's <code id=spelling-and-grammar-checking:dom-spellcheck><a href=#dom-spellcheck>spellcheck</a></code> IDL attribute would
  return true; otherwise, if none of those conditions applies, then the attribute must instead
  return false.</p>

  <p class=note>The <code id=spelling-and-grammar-checking:dom-spellcheck-2><a href=#dom-spellcheck>spellcheck</a></code> IDL attribute is not affected
  by user preferences that override the <code id=spelling-and-grammar-checking:attr-spellcheck-8><a href=#attr-spellcheck>spellcheck</a></code> content
  attribute, and therefore might not reflect the actual spellchecking state.</p>

  <p>On setting, if the new value is true, then the element's <code id=spelling-and-grammar-checking:attr-spellcheck-9><a href=#attr-spellcheck>spellcheck</a></code> content attribute must be set to the literal string
  "<code>true</code>", otherwise it must be set to the literal string "<code>false</code>".

  <hr>

  <p>User agents must only consider the following pieces of text as checkable for the purposes of
  this feature:</p>

  <ul><li>The <a href=form-control-infrastructure.html#concept-fe-value id=spelling-and-grammar-checking:concept-fe-value>value</a> of <code id=spelling-and-grammar-checking:the-input-element><a href=input.html#the-input-element>input</a></code> elements whose <code id=spelling-and-grammar-checking:attr-input-type><a href=input.html#attr-input-type>type</a></code> attributes are in the <a href="input.html#text-(type=text)-state-and-search-state-(type=search)" id="spelling-and-grammar-checking:text-(type=text)-state-and-search-state-(type=search)">Text</a>, <a href="input.html#text-(type=text)-state-and-search-state-(type=search)" id="spelling-and-grammar-checking:text-(type=text)-state-and-search-state-(type=search)-2">Search</a>,
   <a href="input.html#url-state-(type=url)" id="spelling-and-grammar-checking:url-state-(type=url)">URL</a>, or <a href="input.html#email-state-(type=email)" id="spelling-and-grammar-checking:email-state-(type=email)">Email</a> states and that are <i id=spelling-and-grammar-checking:concept-fe-mutable><a href=form-control-infrastructure.html#concept-fe-mutable>mutable</a></i> (i.e. that do not have the <code id=spelling-and-grammar-checking:attr-input-readonly><a href=input.html#attr-input-readonly>readonly</a></code> attribute specified and that are not <a href=form-control-infrastructure.html#concept-fe-disabled id=spelling-and-grammar-checking:concept-fe-disabled>disabled</a>).<li>The <a href=form-control-infrastructure.html#concept-fe-value id=spelling-and-grammar-checking:concept-fe-value-2>value</a> of <code id=spelling-and-grammar-checking:the-textarea-element-2><a href=form-elements.html#the-textarea-element>textarea</a></code> elements that do not
   have a <code id=spelling-and-grammar-checking:attr-textarea-readonly><a href=form-elements.html#attr-textarea-readonly>readonly</a></code> attribute and that are not <a href=form-control-infrastructure.html#concept-fe-disabled id=spelling-and-grammar-checking:concept-fe-disabled-2>disabled</a>.<li>Text in <code id=spelling-and-grammar-checking:text><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> nodes that are children of <a href=#editing-host id=spelling-and-grammar-checking:editing-host-2>editing
   hosts</a> or <a id=spelling-and-grammar-checking:editable href=https://w3c.github.io/editing/docs/execCommand/#editable data-x-internal=editable>editable</a> elements.<li>Text in attributes of <a id=spelling-and-grammar-checking:editable-2 href=https://w3c.github.io/editing/docs/execCommand/#editable data-x-internal=editable>editable</a> elements.</ul>

  <p>For text that is part of a <code id=spelling-and-grammar-checking:text-2><a data-x-internal=text href=https://dom.spec.whatwg.org/#interface-text>Text</a></code> node, the element with which the text is
  associated is the element that is the immediate parent of the first character of the word,
  sentence, or other piece of text. For text in attributes, it is the attribute's element. For the
  values of <code id=spelling-and-grammar-checking:the-input-element-2><a href=input.html#the-input-element>input</a></code> and <code id=spelling-and-grammar-checking:the-textarea-element-3><a href=form-elements.html#the-textarea-element>textarea</a></code> elements, it is the element itself.</p>

  <p>To determine if a word, sentence, or other piece of text in an applicable element (as defined
  above) is to have spelling- and grammar-checking enabled, the UA must use the following
  algorithm:</p>

  <ol><li>If the user has disabled the checking for this text, then the checking is disabled.<li>Otherwise, if the user has forced the checking for this text to always be enabled, then the
   checking is enabled.<li>Otherwise, if the element with which the text is associated has a <code id=spelling-and-grammar-checking:attr-spellcheck-10><a href=#attr-spellcheck>spellcheck</a></code> content attribute, then: if that attribute is in the
   <i>true</i> state, then checking is enabled; otherwise, if that attribute is in the <i>false</i>
   state, then checking is disabled.<li>Otherwise, if there is an ancestor element with a <code id=spelling-and-grammar-checking:attr-spellcheck-11><a href=#attr-spellcheck>spellcheck</a></code> content attribute that is not in the <i>default</i>
   state, then: if the nearest such ancestor's <code id=spelling-and-grammar-checking:attr-spellcheck-12><a href=#attr-spellcheck>spellcheck</a></code>
   content attribute is in the <i>true</i> state, then checking is enabled; otherwise, checking is
   disabled.<li>Otherwise, if the element's <a href=#concept-spellcheck-default id=spelling-and-grammar-checking:concept-spellcheck-default-3>default behavior</a>
   is <a href=#concept-spellcheck-default-true id=spelling-and-grammar-checking:concept-spellcheck-default-true-2>true-by-default</a>, then checking is
   enabled.<li>Otherwise, if the element's <a href=#concept-spellcheck-default id=spelling-and-grammar-checking:concept-spellcheck-default-4>default behavior</a>
   is <a href=#concept-spellcheck-default-false id=spelling-and-grammar-checking:concept-spellcheck-default-false>false-by-default</a>, then checking is
   disabled.<li>Otherwise, if the element's parent element has <em>its</em> checking enabled, then checking
   is enabled.<li>Otherwise, checking is disabled.</ol>

  <p>If the checking is enabled for a word/sentence/text, the user agent should indicate spelling
  and grammar errors in that text. User agents should take into account the other semantics given in
  the document when suggesting spelling and grammar corrections. User agents may use the language of
  the element to determine what spelling and grammar rules to use, or may use the user's preferred
  language settings. UAs should use <code id=spelling-and-grammar-checking:the-input-element-3><a href=input.html#the-input-element>input</a></code> element attributes such as <code id=spelling-and-grammar-checking:attr-input-pattern><a href=input.html#attr-input-pattern>pattern</a></code> to ensure that the resulting value is valid, where
  possible.</p>

  <p>If checking is disabled, the user agent should not indicate spelling or grammar errors for that
  text.</p>

  <div class=example>

   <p>The element with ID "a" in the following example would be the one used to determine if the
   word "Hello" is checked for spelling errors. In this example, it would not be.</p>

   <pre><code class=html>&lt;div contenteditable="true">
 &lt;span spellcheck="false" id="a">Hell&lt;/span>&lt;em>o!&lt;/em>
&lt;/div></code></pre>

   <p>The element with ID "b" in the following example would have checking enabled (the leading
   space character in the attribute's value on the <code id=spelling-and-grammar-checking:the-input-element-4><a href=input.html#the-input-element>input</a></code> element causes the attribute
   to be ignored, so the ancestor's value is used instead, regardless of the default).</p>

   <pre class=bad><code class=html>&lt;p spellcheck="true">
 &lt;label>Name: &lt;input spellcheck=" false" id="b">&lt;/label>
&lt;/p></code></pre>

  </div>

  

  <p class=note>This specification does not define the user interface for spelling and grammar
  checkers. A user agent could offer on-demand checking, could perform continuous checking while the
  checking is enabled, or could use other interfaces.</p>


  <h4 id=autocapitalization><span class=secno>6.7.6</span> Autocapitalization<a href=#autocapitalization class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autocapitalize title="The autocapitalize global attribute is an enumerated attribute that controls whether and how text input is automatically capitalized as it is entered/edited by the user.">Global_attributes/autocapitalize</a><div class=support><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome no"><span>Chrome</span><span>No</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>No</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie unknown"><span>Internet Explorer</span><span>?</span></span><hr><span class="firefox_android no"><span>Firefox Android</span><span>No</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>66+</span></span><span class="webview_android yes"><span>WebView Android</span><span>66+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/autocapitalization.zh.html?filename=autocapitalization.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Fautocapitalization.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/autocapitalization.en.html></div>

  <p>Some methods of entering text, for example virtual keyboards on mobile devices, and also voice
  input, often assist users by automatically capitalizing the first letter of sentences (when
  composing text in a language with this convention). A virtual keyboard that implements
  autocapitalization might automatically switch to showing uppercase letters (but allow the user to
  toggle it back to lowercase) when a letter that should be autocapitalized is about to be typed.
  Other types of input, for example voice input, may perform autocapitalization in a way that does
  not give users an option to intervene first. The <code id=autocapitalization:attr-autocapitalize><a href=#attr-autocapitalize>autocapitalize</a></code> attribute allows authors to control such
  behavior.</p>

  <p>The <code id=autocapitalization:attr-autocapitalize-2><a href=#attr-autocapitalize>autocapitalize</a></code> attribute, as typically
  implemented, does not affect behavior when typing on a physical keyboard. (For this reason, as
  well as the ability for users to override the autocapitalization behavior in some cases or edit
  the text after initial input, the attribute must not be relied on for any sort of input
  validation.)</p>

  <p>The <code id=autocapitalization:attr-autocapitalize-3><a href=#attr-autocapitalize>autocapitalize</a></code> attribute can be used on an <a href=#editing-host id=autocapitalization:editing-host>editing host</a> to control autocapitalization behavior for the hosted
  editable region, on an <code id=autocapitalization:the-input-element><a href=input.html#the-input-element>input</a></code> or <code id=autocapitalization:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> element to control the behavior
  for inputting text into that element, or on a <code id=autocapitalization:the-form-element><a href=forms.html#the-form-element>form</a></code> element to control the default
  behavior for all <a href=forms.html#category-autocapitalize id=autocapitalization:category-autocapitalize>autocapitalize-inheriting elements</a>
  associated with the <code id=autocapitalization:the-form-element-2><a href=forms.html#the-form-element>form</a></code> element.

  <p>The <code id=autocapitalization:attr-autocapitalize-4><a href=#attr-autocapitalize>autocapitalize</a></code> attribute never causes
  autocapitalization to be enabled for <code id=autocapitalization:the-input-element-2><a href=input.html#the-input-element>input</a></code> elements whose <code id=autocapitalization:attr-input-type><a href=input.html#attr-input-type>type</a></code> attribute is in one of the <a href="input.html#url-state-(type=url)" id="autocapitalization:url-state-(type=url)">URL</a>, <a href="input.html#email-state-(type=email)" id="autocapitalization:email-state-(type=email)">Email</a>, or <a href="input.html#password-state-(type=password)" id="autocapitalization:password-state-(type=password)">Password</a> states. (This behavior is included
  in the <a href=#used-autocapitalization-hint id=autocapitalization:used-autocapitalization-hint>used autocapitalization hint</a> algorithm
  below.)</p>

  <p>The autocapitalization processing model is based on selecting among five
  <dfn id=autocapitalization-hint>autocapitalization hints</dfn>, defined as follows:</p>

  <dl><dt><dfn id=autocap-hint-default>default</dfn><dd><p>The user agent and input method should use make their own determination of whether or not
   to enable autocapitalization.<dt><dfn id=autocap-hint-none>none</dfn><dd><p>No autocapitalization should be applied (all letters should default to
   lowercase).<dt><dfn id=autocap-hint-sentences>sentences</dfn><dd><p>The first letter of each sentence should default to a capital letter; all other letters
   should default to lowercase.<dt><dfn id=autocap-hint-words>words</dfn><dd><p>The first letter of each word should default to a capital letter; all other letters should
   default to lowercase.<dt><dfn id=autocap-hint-characters>characters</dfn><dd><p>All letters should default to uppercase.</dl>

  <p>The <dfn data-dfn-for=html-global id=attr-autocapitalize data-dfn-type=element-attr><code>autocapitalize</code></dfn> attribute is an <a id=autocapitalization:enumerated-attribute href=infrastructure.html#enumerated-attribute>enumerated
  attribute</a> whose states are the possible <a href=#autocapitalization-hint id=autocapitalization:autocapitalization-hint>autocapitalization hints</a>. The <a href=#autocapitalization-hint id=autocapitalization:autocapitalization-hint-2>autocapitalization hint</a> specified by the
  attribute's state combines with other considerations to form the <a href=#used-autocapitalization-hint id=autocapitalization:used-autocapitalization-hint-2>used autocapitalization
  hint</a>, which informs the behavior of the user agent. The keywords for this attribute and
  their state mappings are as follows:</p>

  <table><thead><tr><th> Keyword
     <th> State
   <tbody><tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-off data-dfn-type=attr-value><code>off</code></dfn>

     <td rowspan=2><a href=#autocap-hint-none id=autocapitalization:autocap-hint-none>none</a>
    <tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-none data-dfn-type=attr-value><code>none</code></dfn>
    <tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-on data-dfn-type=attr-value><code>on</code></dfn>

     <td rowspan=2><a href=#autocap-hint-sentences id=autocapitalization:autocap-hint-sentences>sentences</a>
    <tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-sentences data-dfn-type=attr-value><code>sentences</code></dfn>
    <tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-words data-dfn-type=attr-value><code>words</code></dfn>

     <td><a href=#autocap-hint-words id=autocapitalization:autocap-hint-words>words</a>
    <tr><td><dfn data-dfn-for=html-global/autocapitalize id=attr-autocapitalize-characters data-dfn-type=attr-value><code>characters</code></dfn>

     <td><a href=#autocap-hint-characters id=autocapitalization:autocap-hint-characters>characters</a>
  </table>

  <p>The <i id=autocapitalization:invalid-value-default><a href=infrastructure.html#invalid-value-default>invalid value default</a></i> is the <a href=#autocap-hint-sentences id=autocapitalization:autocap-hint-sentences-2>sentences</a> state. The <i id=autocapitalization:missing-value-default><a href=infrastructure.html#missing-value-default>missing value default</a></i> is the <a href=#autocap-hint-default id=autocapitalization:autocap-hint-default>default</a>
  state.</p>

  <dl class=domintro><dt><var>element</var> . <code id=dom-autocapitalize-dev><a href=#dom-autocapitalize>autocapitalize</a></code> [ = <var>value</var> ]<dd>
    <p>Returns the current autocapitalization state for the element, or an empty string if it hasn't
    been set. Note that for <code id=autocapitalization:the-input-element-3><a href=input.html#the-input-element>input</a></code> and <code id=autocapitalization:the-textarea-element-2><a href=form-elements.html#the-textarea-element>textarea</a></code> elements that inherit their
    state from a <code id=autocapitalization:the-form-element-3><a href=forms.html#the-form-element>form</a></code> element, this will return the autocapitalization state of the
    <code id=autocapitalization:the-form-element-4><a href=forms.html#the-form-element>form</a></code> element, but for an element in an editable region, this will not return the
    autocapitalization state of the editing host (unless this element is, in fact, the <a href=#editing-host id=autocapitalization:editing-host-2>editing
    host</a>).</p>

    <p>Can be set, to set the <code id=autocapitalization:attr-autocapitalize-5><a href=#attr-autocapitalize>autocapitalize</a></code> content
    attribute (and thereby change the autocapitalization behavior for the element).</p>
   </dl>

  

  <p>To compute the <dfn id=own-autocapitalization-hint>own autocapitalization hint</dfn> of an element <var>element</var>, run the
  following steps:</p>

  <ol><li><p>If the <code id=autocapitalization:attr-autocapitalize-6><a href=#attr-autocapitalize>autocapitalize</a></code> content attribute is
   present on <var>element</var>, and its value is not the empty string, return the state of the
   attribute.<li><p>If <var>element</var> is an <a href=forms.html#category-autocapitalize id=autocapitalization:category-autocapitalize-2>autocapitalize-inheriting element</a> and has a non-null
   <a id=autocapitalization:form-owner href=form-control-infrastructure.html#form-owner>form owner</a>, return the <a href=#own-autocapitalization-hint id=autocapitalization:own-autocapitalization-hint>own autocapitalization hint</a> of
   <var>element</var>'s <a id=autocapitalization:form-owner-2 href=form-control-infrastructure.html#form-owner>form owner</a>.<li><p>Return <a href=#autocap-hint-default id=autocapitalization:autocap-hint-default-2>default</a>.</ol>

  <p>The <dfn data-dfn-for=HTMLElement id=dom-autocapitalize data-dfn-type=attribute><code>autocapitalize</code></dfn> getter steps are to:</p>

  <ol><li><p>Let <var>state</var> be the <a href=#own-autocapitalization-hint id=autocapitalization:own-autocapitalization-hint-2>own autocapitalization hint</a> of
   <a id=autocapitalization:this href=https://heycam.github.io/webidl/#this data-x-internal=this>this</a>.<li><p>If <var>state</var> is <a href=#autocap-hint-default id=autocapitalization:autocap-hint-default-3>default</a>, then return the
   empty string.<li><p>If <var>state</var> is <a href=#autocap-hint-none id=autocapitalization:autocap-hint-none-2>none</a>, then return "<code id=autocapitalization:attr-autocapitalize-none><a href=#attr-autocapitalize-none>none</a></code>".<li><p>If <var>state</var> is <a href=#autocap-hint-sentences id=autocapitalization:autocap-hint-sentences-3>sentences</a>, then return
   "<code id=autocapitalization:attr-autocapitalize-sentences><a href=#attr-autocapitalize-sentences>sentences</a></code>".<li><p>Return the keyword value corresponding to <var>state</var>.</ol>

  <p>The <code id=autocapitalization:dom-autocapitalize><a href=#dom-autocapitalize>autocapitalize</a></code> setter steps are to set the <code id=autocapitalization:attr-autocapitalize-7><a href=#attr-autocapitalize>autocapitalize</a></code> content attribute to the given value.</p>

  <hr>

  <p>User agents that support customizable autocapitalization behavior for a text input method and
  wish to allow web developers to control this functionality should, during text input into an
  element, compute the <dfn id=used-autocapitalization-hint>used autocapitalization hint</dfn> for the element. This will be an
  <a href=#autocapitalization-hint id=autocapitalization:autocapitalization-hint-3>autocapitalization hint</a> that describes the recommended autocapitalization behavior
  for text input into the element.</p>

  <p>User agents or input methods may choose to ignore or override the <a href=#used-autocapitalization-hint id=autocapitalization:used-autocapitalization-hint-3>used autocapitalization
  hint</a> in certain circumstances.</p>

  <p>The <a href=#used-autocapitalization-hint id=autocapitalization:used-autocapitalization-hint-4>used autocapitalization hint</a> for an element <var>element</var> is computed
  using the following algorithm:</p>

  <ol><li><p>If <var>element</var> is an <code id=autocapitalization:the-input-element-4><a href=input.html#the-input-element>input</a></code> element whose <code id=autocapitalization:attr-input-type-2><a href=input.html#attr-input-type>type</a></code> attribute is in one of the <a href="input.html#url-state-(type=url)" id="autocapitalization:url-state-(type=url)-2">URL</a>, <a href="input.html#email-state-(type=email)" id="autocapitalization:email-state-(type=email)-2">Email</a>, or
   <a href="input.html#password-state-(type=password)" id="autocapitalization:password-state-(type=password)-2">Password</a> states, then return <a href=#autocap-hint-default id=autocapitalization:autocap-hint-default-4>default</a>.<li><p>If <var>element</var> is an <code id=autocapitalization:the-input-element-5><a href=input.html#the-input-element>input</a></code> element or a <code id=autocapitalization:the-textarea-element-3><a href=form-elements.html#the-textarea-element>textarea</a></code> element,
   then return <var>element</var>'s <a href=#own-autocapitalization-hint id=autocapitalization:own-autocapitalization-hint-3>own autocapitalization hint</a>.<li><p>If <var>element</var> is an <a href=#editing-host id=autocapitalization:editing-host-3>editing host</a> or an <a id=autocapitalization:editable href=https://w3c.github.io/editing/docs/execCommand/#editable data-x-internal=editable>editable</a> element,
   then return the <a href=#own-autocapitalization-hint id=autocapitalization:own-autocapitalization-hint-4>own autocapitalization hint</a> of the <a id=autocapitalization:editing-host-of href=https://w3c.github.io/editing/docs/execCommand/#editing-host-of data-x-internal=editing-host-of>editing host of</a>
   <var>element</var>.<li><p>Assert: this step is never reached, since text input only occurs in elements that meet one
   of the above criteria.</ol>

  



  <h4 id=input-modalities:-the-inputmode-attribute><span class=secno>6.7.7</span> Input modalities: the <code id=input-modalities:-the-inputmode-attribute:attr-inputmode><a href=#attr-inputmode>inputmode</a></code> attribute<a href=#input-modalities:-the-inputmode-attribute class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>âœ”</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/inputmode title="The inputmode global attribute is an enumerated attribute that hints at the type of data that might be entered by the user while editing the element or its contents.">Global_attributes/inputmode</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 23+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span><hr><span class="opera yes"><span>Opera</span><span>53+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge no"><span>Edge (Legacy)</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>79+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>12.2+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>66+</span></span><span class="webview_android yes"><span>WebView Android</span><span>66+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>9.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>47+</span></span><hr><span class=caniuse><span><a href="https://caniuse.com/#feat=input-inputmode" title="inputmode attribute">caniuse.com table</a></span></span></div></div></div>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/input-modalities-the-inputmode-attribute.zh.html?filename=input-modalities-the-inputmode-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Finput-modalities-the-inputmode-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/input-modalities-the-inputmode-attribute.en.html></div>

  <p>User agents can support the <code id=input-modalities:-the-inputmode-attribute:attr-inputmode-2><a href=#attr-inputmode>inputmode</a></code> attribute on form
  controls (such as the value of <code id=input-modalities:-the-inputmode-attribute:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> elements), or in elements in an <a href=#editing-host id=input-modalities:-the-inputmode-attribute:editing-host>editing
  host</a> (e.g., using <code id=input-modalities:-the-inputmode-attribute:attr-contenteditable><a href=#attr-contenteditable>contenteditable</a></code>).</p>

  <p>The <dfn data-dfn-for=html-global id=attr-inputmode data-dfn-type=element-attr><code>inputmode</code></dfn>
  content attribute is an <a id=input-modalities:-the-inputmode-attribute:enumerated-attribute href=infrastructure.html#enumerated-attribute>enumerated attribute</a> that specifies what kind of input
  mechanism would be most helpful for users entering content.</p>

  <table><thead><tr><th> Keyword
     <th> Description
   <tbody><tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-none data-dfn-type=attr-value><code>none</code></dfn>

     <td>The user agent should not display a virtual keyboard. This keyword is useful for content
     that renders its own keyboard control.
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-text data-dfn-type=attr-value><code>text</code></dfn>

     <td>The user agent should display a virtual keyboard capable of text input in the user's locale.
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-tel data-dfn-type=attr-value><code>tel</code></dfn>

     <td> The user agent should display a virtual keyboard capable of telephone number input. This
     should including keys for the digits 0 to 9, the "#" character, and the "*" character. In some
     locales, this can also include alphabetic mnemonic labels (e.g., in the US, the key labeled
     "2" is historically also labeled with the letters A, B, and C).
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-url data-dfn-type=attr-value><code>url</code></dfn>

     <td>The user agent should display a virtual keyboard capable of text input in the user's locale,
     with keys for aiding in the input of <a href=https://url.spec.whatwg.org/#concept-url id=input-modalities:-the-inputmode-attribute:url data-x-internal=url>URLs</a>, such as that for the "/"
     and "." characters and for quick input of strings commonly found in domain names such as
     "www." or ".com".
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-email data-dfn-type=attr-value><code>email</code></dfn>

     <td>The user agent should display a virtual keyboard capable of text input in the user's locale,
     with keys for aiding in the input of email addresses, such as that for the "@" character
     and the "." character.
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-numeric data-dfn-type=attr-value><code>numeric</code></dfn>

     <td> The user agent should display a virtual keyboard capable of numeric input. This keyword
     is useful for PIN entry.
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-decimal data-dfn-type=attr-value><code>decimal</code></dfn>

     <td> The user agent should display a virtual keyboard capable of fractional numeric input.
     Numeric keys and the format separator for the locale should be shown.
    <tr><td><dfn data-dfn-for=html-global/inputmode id=attr-inputmode-keyword-search data-dfn-type=attr-value><code>search</code></dfn>

     <td>The user agent should display a virtual keyboard optimized for search.
  </table>

  

  <p>The <dfn data-dfn-for=ElementContentEditable id=dom-inputmode data-dfn-type=attribute><code>inputMode</code></dfn> IDL attribute must <a id=input-modalities:-the-inputmode-attribute:reflect href=infrastructure.html#reflect>reflect</a> the <code id=input-modalities:-the-inputmode-attribute:attr-inputmode-3><a href=#attr-inputmode>inputmode</a></code> content attribute, <a id=input-modalities:-the-inputmode-attribute:limited-to-only-known-values href=infrastructure.html#limited-to-only-known-values>limited to only known
  values</a>.</p>

  <p>When <code id=input-modalities:-the-inputmode-attribute:attr-inputmode-4><a href=#attr-inputmode>inputmode</a></code> is unspecified (or is in a state not
  supported by the user agent), the user agent should determine the default virtual keyboard to be
  shown. Contextual information such as the input <code id=input-modalities:-the-inputmode-attribute:attr-input-type><a href=input.html#attr-input-type>type</a></code> or
  <code id=input-modalities:-the-inputmode-attribute:attr-input-pattern><a href=input.html#attr-input-pattern>pattern</a></code> attributes should be used to determine which type
  of virtual keyboard should be presented to the user.</p>

  


  <h4 id=input-modalities:-the-enterkeyhint-attribute><span class=secno>6.7.8</span> Input modalities: the <code id=input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint><a href=#attr-enterkeyhint>enterkeyhint</a></code>
  attribute<a href=#input-modalities:-the-enterkeyhint-attribute class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/editing/input-modalities-the-enterkeyhint-attribute.zh.html?filename=input-modalities-the-enterkeyhint-attribute.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Fediting%2Finput-modalities-the-enterkeyhint-attribute.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/editing/input-modalities-the-enterkeyhint-attribute.en.html></div>

  <p>User agents can support the <code id=input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint-2><a href=#attr-enterkeyhint>enterkeyhint</a></code>
  attribute on form controls (such as the value of <code id=input-modalities:-the-enterkeyhint-attribute:the-textarea-element><a href=form-elements.html#the-textarea-element>textarea</a></code> elements), or in elements
  in an <a href=#editing-host id=input-modalities:-the-enterkeyhint-attribute:editing-host>editing host</a> (e.g., using <code id=input-modalities:-the-enterkeyhint-attribute:attr-contenteditable><a href=#attr-contenteditable>contenteditable</a></code>).</p>

  <p>The <dfn data-dfn-for=html-global id=attr-enterkeyhint data-dfn-type=element-attr><code>enterkeyhint</code></dfn> content attribute is an <a id=input-modalities:-the-enterkeyhint-attribute:enumerated-attribute href=infrastructure.html#enumerated-attribute>enumerated
  attribute</a> that specifies what action label (or icon) to present for the enter key on
  virtual keyboards. This allows authors to customize the presentation of the enter key in order to
  make it more helpful for users.</p>

  <table><thead><tr><th> Keyword
     <th> Description
   <tbody><tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-enter data-dfn-type=attr-value><code>enter</code></dfn>

     <td>The user agent should present a cue for the operation 'enter', typically
     inserting a new line.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-done data-dfn-type=attr-value><code>done</code></dfn>

     <td>The user agent should present a cue for the operation 'done', typically
     meaning there is nothing more to input and the input method editor (IME)
     will be closed.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-go data-dfn-type=attr-value><code>go</code></dfn>

     <td> The user agent should present a cue for the operation 'go', typically
     meaning to take the user to the target of the text they typed.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-next data-dfn-type=attr-value><code>next</code></dfn>

     <td>The user agent should present a cue for the operation 'next', typically
     taking the user to the next field that will accept text.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-previous data-dfn-type=attr-value><code>previous</code></dfn>

     <td>The user agent should present a cue for the operation 'previous', typically
     taking the user to the previous field that will accept text.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-search data-dfn-type=attr-value><code>search</code></dfn>

     <td>The user agent should present a cue for the operation 'search', typically
     taking the user to the results of searching for the text they have typed.
    <tr><td><dfn data-dfn-for=html-global/enterkeyhint id=attr-enterkeyhint-keyword-send data-dfn-type=attr-value><code>send</code></dfn>

     <td> The user agent should present a cue for the operation 'send', typically
     delivering the text to its target.
  </table>

  

  <p>The <dfn data-dfn-for=ElementContentEditable id=dom-enterkeyhint data-dfn-type=attribute><code>enterKeyHint</code></dfn> IDL attribute must <a id=input-modalities:-the-enterkeyhint-attribute:reflect href=infrastructure.html#reflect>reflect</a> the
  <code id=input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint-3><a href=#attr-enterkeyhint>enterkeyhint</a></code> content attribute, <a id=input-modalities:-the-enterkeyhint-attribute:limited-to-only-known-values href=infrastructure.html#limited-to-only-known-values>limited to only
  known values</a>.</p>

  <p>When <code id=input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint-4><a href=#attr-enterkeyhint>enterkeyhint</a></code> is unspecified (or is in a state not
  supported by the user agent), the user agent should determine the default action label (or icon)
  to present. Contextual information such as the <code id=input-modalities:-the-enterkeyhint-attribute:attr-inputmode><a href=#attr-inputmode>inputmode</a></code>,
  <code id=input-modalities:-the-enterkeyhint-attribute:attr-input-type><a href=input.html#attr-input-type>type</a></code>, or <code id=input-modalities:-the-enterkeyhint-attribute:attr-input-pattern><a href=input.html#attr-input-pattern>pattern</a></code>
  attributes should be used to determine which action label (or icon) to present on the virtual
  keyboard.</p>

  


  <h3 id=find-in-page><span class=secno>6.8</span> Find-in-page<a href=#find-in-page class=self-link></a></h3>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/find-in-page/index.zh.html?filename=index.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffind-in-page%2Findex.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/find-in-page/index.en.html></div>


  <h4 id=introduction-8><span class=secno>6.8.1</span> Introduction<a href=#introduction-8 class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/find-in-page/introduction.zh.html?filename=introduction.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffind-in-page%2Fintroduction.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/find-in-page/introduction.en.html></div>

  <p>This section defines <dfn id=find-in-page-2>find-in-page</dfn> â€” a common user-agent mechanism which allows users
  to search through the contents of the page for particular information.</p>

  <p>Access to <a href=#find-in-page-2 id=introduction-8:find-in-page-2>find-in-page</a> feature is provided via a <dfn id=find-in-page-interface>find-in-page
  interface</dfn>. This is a user-agent provided user interface, which allows the user to specify
  input and the parameters of the search. This interface can appear as a result of a shortcut or a
  menu selection.</p>

  <p>A combination of text input and settings in the <a href=#find-in-page-interface id=introduction-8:find-in-page-interface>find-in-page interface</a> represents
  the user <dfn id=fip-query>query</dfn>. This typically includes the text that the user wants
  to search for, as well as optional settings (e.g., the ability to restrict the search to whole
  words only).</p>

  <p>The user-agent processes page contents for a given <a href=#fip-query id=introduction-8:fip-query>query</a>, and
  identifies zero or more <dfn id=fip-matches>matches</dfn>, which are content ranges that
  satisfy the user <a href=#fip-query id=introduction-8:fip-query-2>query</a>.</p>

  <p>One of the <a href=#fip-matches id=introduction-8:fip-matches>matches</a> is identified to the user as the <dfn id=fip-active-match>active match</dfn>. It is highlighted and scrolled into view. The user
  can navigate through the <a href=#fip-matches id=introduction-8:fip-matches-2>matches</a> by advancing the <a href=#fip-active-match id=introduction-8:fip-active-match>active match</a> using the <a href=#find-in-page-interface id=introduction-8:find-in-page-interface-2>find-in-page interface</a>.</p>

  <p class=XXX><a href=https://github.com/whatwg/html/issues/3539>Issue #3539</a> tracks
  standardizing how <a href=#find-in-page-2 id=introduction-8:find-in-page-2-2>find-in-page</a> underlies the currently-unspecified <code>window.find()</code> API.</p>


  <h4 id=interaction-with-selection><span class=secno>6.8.2</span> Interaction with selection<a href=#interaction-with-selection class=self-link></a></h4>
<div data-zh-date="" data-en-date="Wed Nov 04 2020 06:47:17 GMT+0000 (UTC)" class=translate-info data-zh-file="https://github.com/whatwg-cn/html/new/master/src/user-interaction/find-in-page/interaction-with-selection.zh.html?filename=interaction-with-selection.zh.html&amp;value=%E4%BB%8E%20https%3A%2F%2Fgithub.com%2Fwhatwg-cn%2Fhtml%2Fblob%2Fmaster%2Fsrc%2Fuser-interaction%2Ffind-in-page%2Finteraction-with-selection.en.html%20%E6%8B%B7%E8%B4%9D%E8%8B%B1%E6%96%87%E6%BA%90%E7%A0%81%E8%87%B3%E6%AD%A4%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BF%BB%E8%AF%91" data-en-file=https://github.com/whatwg-cn/html/blob/master/src/user-interaction/find-in-page/interaction-with-selection.en.html></div>

  <p>The find-in-page process is invoked in the context of a document, and may have an effect on
  the <a href=https://w3c.github.io/selection-api/#dfn-selection id=interaction-with-selection:document-selection data-x-internal=document-selection>selection</a> of that document. Specifically, the range
  that defines the <a href=#fip-active-match id=interaction-with-selection:fip-active-match>active match</a> can dictate the current
  selection. These selection updates, however, can happen at different times during the
  find-in-page process (e.g. upon the <a href=#find-in-page-interface id=interaction-with-selection:find-in-page-interface>find-in-page interface</a> dismissal or upon a change
  in the <a href=#fip-active-match id=interaction-with-selection:fip-active-match-2>active match</a> range).

  


  <nav><a href=microdata.html>â† 5 å¾®æ•°æ®</a> â€” <a href=./>Table of Contents</a> â€” <a href=dnd.html>6.9 Drag and drop â†’</a></nav>
<script src=/html/resources/zh-cn.js></script>
